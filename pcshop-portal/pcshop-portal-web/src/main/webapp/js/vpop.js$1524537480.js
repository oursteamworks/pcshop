!function(){window.PTP_PARAMS=window.PTP_PARAMS||{};var e=window.acmGmvType||"",a=function(e,a){return a=a||location.href,a=a.split("#")[0],new RegExp("(^|\\?|&)"+e+"=([^&]*)(\\s|&|$)","i").test(a)?RegExp.$2.replace(/\+/g," "):""};$.extend(window.PTP_PARAMS,{urlExtendFn:function(n){var t,o=$(n),s=o.parents(),i=o.attr("data-ext-acm")||"",r=o.attr("href")||"",l=r&&-1!==r.indexOf("acm="),c=o.hasClass("cube-acm-node")||o.hasClass("anchor")||o.hasClass("show-log-item")?o:null,m=0,d=0;$(s).each(function(e,a){c||!$(a).hasClass("cube-acm-node")&&!$(a).hasClass("show-log-item")||(c=$(a)),$(a).hasClass("module_row")&&(t=$(a))});var h=null;t&&t.length&&(h=$(t).find(".cube-acm-node,.anchor,.show-log-item"),d=h&&h.length),h&&h.length&&c&&c.length&&h.each(function(e,a){$(a)[0]===c[0]&&(m=e)});var f=t&&t.attr("data-acm")||"";if(f){if(l&&!i){if(r&&-1!==r.indexOf("mf_"))return;i=a("acm",r)}f=f.split(".");var u="";return-1===i.indexOf("mf_")&&(u=i+(i?f[6]?"-"+f[6]:"":f.join("."))),u&&c&&c.length&&(u+="-idx_"+m),u&&h&&h.length&&(u+="-mfs_"+d+(e?"-dm1_"+e:"")),!c&&i&&o&&o.removeAttr&&o.removeAttr("data-ext-acm"),{acm:u||i+(e&&-1===i.indexOf("-dm1_")?"-dm1_"+e:"")}}}})}();!function(){"use strict";function e(){var e="1";return q.isMobile&&(e="m1"),q.isIos&&q.isNative?e="am0":q.isAndroid&&q.isNative&&(e="am1"),e}function t(){var e=R.getValue(T.ptp_cnt_b);if(e)return e;var t="",n=location.href.split("?")[0];return t=D.pageHash(n)}function n(){var e=R.getCookieOrFunc(T.cpsinfo);return e?e=e.replace("-",","):""}function r(e){if(e){var t=R.getValue(T.urlExtendFn,e);return R.hasKey(t)?t:void 0}}function i(e){if(e){e.length&&(e=e[0]);var t=R.getValue(T.ptp_cnt_c_d,e);if(t)return t;var n=e.getAttribute("data-ptp-customc");if(n)return{c:n,d:z.getIndex("data-ptp-customc",n,e)};if(e=z.getParents(e,"data-ptp-customc"))return n=e.getAttribute("data-ptp-customc"),n?{c:n,d:z.getIndex("data-ptp-customc",n,e)}:void 0}}function o(){return R.getCookieOrFunc(T.uuid)}function a(e,t){return e||(e=H.c),t||(t=H.d),[H.a,H.b,e,t,H.e].join(".")}function u(e){window.PTP_PARAMS&&R.extend(T,window.PTP_PARAMS);var t=document.referrer,r=R.getQuery("ptp",location.search),i=R.getQuery("ptp",document.referrer?document.referrer:""),o=navigator.userAgent.toLocaleLowerCase();q.isNative=T.isNativeRe.test(o);var u=location.href,c=u.split("#")[1];if(c=c?"?"+c:"",T.urlHash){for(var d in T.urlHash)T.urlHash.hasOwnProperty(d)&&(c=R.setQuery(c,d,encodeURIComponent(T.urlHash[d])));u=u.split("#")[0]+c.replace("?","#")}return e&&U&&U.url!=u&&(t=U.url,r=a(0,0),i=U.ptp_url),{time:R.getTime(),ver:"1.2.0",uid:R.getCookieOrFunc(T.uid),_channel:"","tid-token":"",launchTime:R.getTime(),active:0,deviceName:"",os_ver:"",root:0,network:0,provider:"",url:u,refer:t,ptp_url:r,ptp_ref:i,eid:"0",ext:{cpsparam:R.getCookie("__cps"),cpsinfo:n(),_notNative:!q.isNative}}}function c(n){H.a=e(),H.b=n||t(),H.c=0,H.d=0}function d(e,t){t=t||{};var n=[];for(var r in t){var i=t[r];i||(i=""),i=encodeURIComponent(i),n.push(r+"="+i)}n=n.join("&"),e=e.indexOf("?")>-1?e+"&"+n:e+"?"+n;var o=new Image;o.src=e}function f(e,t){e+="?web=1",t=t||{};var n,r=J++;try{n=document.createElement('<iframe name="'+r+'">')}catch(i){n=document.createElement("iframe"),n.setAttribute("name",r)}try{n.style.display="none",document.body.appendChild(n),n.contentWindow.name=r;var o=document.createElement("form");o.setAttribute("method","POST"),o.setAttribute("action",e),o.setAttribute("target",r);for(var a in t)if(t.hasOwnProperty(a)){var u=document.createElement("input");u.setAttribute("type","hidden"),u.setAttribute("name",a),u.setAttribute("value",t[a]),o.appendChild(u)}document.body.appendChild(o),o.submit(),R.registerEvent(n,"load",function(){try{document.body.removeChild(o),document.body.removeChild(n)}catch(e){}})}catch(i){window.M&&M.log(i)}}function s(){if(!Z){Z=!0;for(var e=0;e<X.length;e++)X[e].fn.call(window,X[e].ctx);X=[]}}function p(){"complete"===document.readyState&&s()}function l(e,t){return Z?void setTimeout(function(){e(t)},1):(X.push({fn:e,ctx:t}),void("complete"===document.readyState||!document.attachEvent&&"interactive"===document.readyState?setTimeout(s,1):G||(document.addEventListener?(document.addEventListener("DOMContentLoaded",s,!1),window.addEventListener("load",s,!1)):(document.attachEvent("onreadystatechange",p),window.attachEvent("onload",s)),G=!0)))}function g(){return Y}function m(e,t,n){"undefined"!=typeof e&&(t=t||{},n&&window.M&&M.web.AB&&(t.abinfo=M.web.AB.formatAB(n)),l(function(){var n=W.getPtpInfoAndExtra(t);n.eid=e+"",g()?K.logData("e",R.extend({},n)):R.listenTo("LoggerReady",function(){var e=W.getPtpInfoAndExtra(t);K.logData("e",R.extend({},e))}),window.MtaH5&&MtaH5.clickStat&&MtaH5.clickStat(e,t)}))}function v(){var e=W.getPtpInfoAndExtra(),t=R.getValue(T.pEventId);e.eid=t,K.logData("p",e)}function h(e,t,n){if(q.isNative){var r=W.getPtpCnt();t?K.logAppCustomPevent(r,e,n):window.M&&M.web.AB&&M.web.AB.isAB?M.web.AB.collectExps().then(function(e){e.length?K.logAppPevent(r,e):K.logAppPevent(r)}):K.logAppPevent(r)}else g()?v():R.listenTo("LoggerReady",function(){v()})}function w(e,t,n){R.isArray(t)&&(n=t,t=""),l(function(){W.refreshPtp(t,!0),W.refreshE(),h(e,!0,n)})}function y(e){var t=e.href;if(!(t.indexOf("mogujie.com/mtalk/")>-1)&&(T.hrefRe.test(t)||T.mgjRe.test(t))){var n=e.getAttribute("data-ptp-cache-id");t=e.getAttribute("href"),n&&T.ptpRe.test(n)||(n=W.createPtpCnt(e),e.setAttribute("data-ptp-cache-id",n)),e.href=W.makeUrl(t,n,e)}}function x(e){if(e.getAttribute){var t=e.getAttribute("href");if(null===t)return!1;if(0===t.indexOf("#")&&"_blank"!==e.getAttribute("target"))return!1}return!0}function A(e){var t=e||window.event,n=t.target||t.srcElement,r=z.getA(n),i="AREA"===n.nodeName?n:null;i&&(r=i),r&&(r.href&&r.href.indexOf("javascript:")>-1||x(r)&&y(r))}function P(e){var t=document.createElement("iframe");t.src=e,t.style.display="none",document.body&&document.body.appendChild(t)}function E(e,t){if("undefined"==typeof e)return"";var n="";return n=t?W.createPtpCnt(t):W.getPtpCnt(),W.makeUrl(e,n,t)}function b(){var e=E("");e=e.split("?")[1],e=e.split("&");for(var t,n="",r=0,i=e.length;r<i;r++)t=e[r].split("="),n+='<input type="hidden" name="'+t[0]+'" value="'+(t[1]?t[1]:"")+'"/>';return n}function C(e,t){e&&"string"==typeof e&&((T.hrefRe.test(e)||T.mgjRe.test(e))&&(e=E(e,t)),window.location.href=e)}function _(e,t){void 0===t&&(t="navigateTo"),e=E(e),e=R.setQuery(e,"_mgjuuid",R.getCookieOrFunc(T.uuid)),window.wx&&wx.miniProgram&&wx.miniProgram[t]&&wx.miniProgram[t]({url:e,fail:function(){"navigateTo"===t?wx.miniProgram.redirectTo({url:e,fail:function(){wx.miniProgram.switchTab({url:e})}}):"redirectTo"===t&&wx.miniProgram.switchTab({url:e})}})}"undefined"==typeof location.search&&(location.search=location.href.split("#")[0]);var j=1001,k={},L={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},I=/(&|<|>|"|`|')/g,R={escapeHtml:function(e){return e.replace(I,function(e){return L[e]})},isIE:function(e){var t=document.createElement("b");return t.innerHTML="<!--[if IE "+e+"]><i></i><![endif]-->",1===t.getElementsByTagName("i").length},stringify:function(e){var t=this;if("undefined"!=typeof JSON)return JSON.stringify(e);var n=typeof e;if("object"!=n||null===e)return"string"==n&&(e='"'+e+'"'),String(e);var r,i,o=[],a=e&&e.constructor==Array;for(r in e)i=e[r],n=typeof i,e.hasOwnProperty(r)&&("string"==n?i='"'+i+'"':"object"==n&&null!==i&&(i=t.stringify(i)),o.push((a?"":'"'+r+'":')+String(i)));return(a?"[":"{")+String(o)+(a?"]":"}")},isArray:function(e){return"[object Array]"==Object.prototype.toString.call(e)},getCookieInArray:function(e){for(var t=this,n=0,r=e.length;n<r;n++){var i=t.getCookie(e[n]);if(i)return i}return""},getCookieOrFunc:function(e){return"function"==typeof e?this.getValue(e):this.getCookie(e)},getCookie:function(e){if(this.isArray(e))return this.getCookieInArray(e);var t=document.cookie.match(new RegExp("(^| )"+e+"=([^;]*)(;|$)"));return null!==t?decodeURIComponent(t[2]):""},getQuery:function(e,t){"undefined"==typeof t&&(t=location.search);var n="(^|&|\\?)"+e+"=([^&]*)(&|$)",r=new RegExp(n,"i"),i=t.substr(1).match(r);return null!==i?this.escapeHtml(decodeURIComponent(i[2])):""},setQuery:function(e,t,n){var r=new RegExp("([?&])"+t+"=.*?(&|$)","i"),i=e.indexOf("?")!==-1?"&":"?";return e.match(r)?e.replace(r,"$1"+t+"="+n+"$2"):e+i+t+"="+n},getTime:function(){return(new Date).getTime()},registerEvent:function(e,t,n){window.attachEvent?e.attachEvent("on"+t,n):e.addEventListener(t,n,!1)},extend:function(){for(var e=arguments,t=arguments[0],n=1;n<e.length;n++){var r=e[n];for(var i in r)r.hasOwnProperty(i)&&(t[i]=r[i])}return t},getValue:function(e){if(e){if("function"==typeof e)try{var t=Array.prototype.slice.call(arguments,1);return e.apply(null,t)}catch(n){return window.M&&window.M.log("**logger.js---\u6253\u70b9\u51fa\u9519:"+n),""}return e}},loadScript:function(e,t,n){if(window["callback_"+j]=function(e){t&&t(e)},e=this.setQuery(e,"callback","callback_"+j),j+=1,n)window.loader.script(e,function(){},function(){});else{var r=document.createElement("script");r.src=e;var i=document.getElementsByTagName("head")[0];i&&i.appendChild(r)}},listenTo:function(e,t){k[e]||(k[e]=[]),k[e].push(t)},fire:function(e){var t=k[e];if(t&&t.length){for(var n=0,r=t.length;n<r;n++)t[n].call();k[e]=[]}},hasKey:function(e){if(!e)return!1;for(var t in e)if(e.hasOwnProperty(t))return!0;return!1}},N="https:"===location.protocol?"https:":"http:",O="mogujie";location.host.indexOf("meilishuo")!=-1&&(O="meilishuo");var T={LogUrl:N+"//log.mogujie.com/log",CookieUrl:N+"//portal."+O+".com/api/util/getUuid",shouldRequestCookie:function(){var e=R.getCookieOrFunc(this.uuid);return!e},uuid:["__mgjuuid","__xduuid"],uid:"__ud_",cpsinfo:"__cpsinfo",ptp_cnt_a:"",ptp_cnt_b:"",ptp_cnt_c_d:"",platform:function(){var e=navigator.userAgent.toLowerCase();if(/qq\/([\d\.]+)/.test(e)||/qzone\//.test(e))return 48},pEventId:"0",isMobileRe:/iphone|android|ipad/i,ptpRe:/[a-z0-9]+\.[a-z0-9]+\.[a-z0-9]+\.[a-z0-9]+\.[a-z0-9]+/i,hrefRe:/http[s]?:\/\/(\w+\.){1,2}(mogujie|meilishuo|xiaodian|uniny)\.com([\/]|\/.*|)$/,mgjRe:/(mgj|mls):\/\//,mtRe:/\?.*[&]?mt=([^\.]+)\.([^\.]+)\.([^\.&#]+)/,chasing:["f","f2","mlf","s","_fu","_wvx"],urlExtend:["acm","cparam"],urlExtendFn:function(){},urlHash:"",urlCustom:"",extra:{},isNativeRe:/(mogujie|meilishuo|mls|mgjtuangou|xiaodian|xcore)/i,nativeLog:{}},S=navigator.userAgent.toLocaleLowerCase(),B=!1,Q=S.indexOf("xcore")>-1;Q&&window.loader&&window.loader.script&&(B=!0);var U,H,q={isWX:S.indexOf("micromessenger")>-1,isApp:T.isNativeRe.test(S),isNative:T.isNativeRe.test(S),isMobile:T.isMobileRe.test(S),isIos:S.indexOf("iphone")>-1,isAndroid:S.indexOf("android")>-1,isLowIE:!B&&(R.isIE(6)||R.isIE(7)||R.isIE(8)),xcore:B},F=window.jQuery||window.Zepto,V=function(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]==t)return n+1;return-1},z={getA:function(e){var t=e;if("A"==t.tagName)return e;for(;t.parentNode;)if(t=t.parentNode,"A"==t.tagName)return t},getParentByClass:function(e,t){if(e){if(F)return $(e).parents("."+t);for(var n,r=e;r.parentNode;)if(r=r.parentNode,n=r.className&&r.className.indexOf(t)!=-1)return r}},getParents:function(e,t){if(e){if(t=t||"",F)return t="["+t+"]",$(e).parents(t)[0];for(var n,r=e;r.parentNode;)if(r=r.parentNode,n=r.getAttribute&&r.getAttribute(t))return r}},getIndex:function(e,t,n){if(!e||!t||!n)return 0;if(F)return $("["+e+'="'+t+'"]').index($(n))+1;if(document.querySelectorAll){var r=document.querySelectorAll("["+e+'="'+t+'"]');return V(r,n)}return 1},getElemIndex:function(e,t,n){if(!e||!t||!n)return 0;if(F)return $(e).find(t).index($(n))+1;if(e.querySelectorAll){var r=e.querySelectorAll(t);return V(r,n)}return 1},is:function(e,t){return!(!e||!t)&&(e.length&&(e=e[0]),e.nodeName.toLowerCase()===t.toLowerCase()||void 0)}},D={arr:"abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789",rand:function(e){var t,n,r=this,i="",o=0;for(t=0;t<e;t++)n=parseInt(Math.random()*r.arr.length,10),i+=r.arr.charAt(n),o+=r.arr.charCodeAt(n);return i+=this.arr.charAt(o%this.arr.length)},pageHash:function(e){var t=this,n=5381,r=e.length-1;if("string"==typeof e)for(;r>-1;r--)n+=(n<<5)+e.charCodeAt(r);else for(;r>-1;r--)n+=(n<<5)+e[r];var i=2147483647&n,o="";do o+=t.arr.charAt(61&i),i>>=6;while(i);return o}};U=u(),H={a:e(),b:t(),c:0,d:0,e:T.ptp_cnt_e?T.ptp_cnt_e:D.rand(7)};var W={getPlatform:function(){var e=R.getValue(T.platform);return e?e:q.isMobile?32:31},getPtpByType:function(e){var t=[0,o(),e];return t},getPtpCnt:function(e,t){return a(e,t)},getPtpInfo:function(e,t){var n={};return R.extend(n,U,{ptp_cnt:this.getPtpCnt(e,t)})},getPtpInfoAndExtra:function(e){e=e||{};var t=this.getPtpInfo(e.ptp_c,e.ptp_d),n={};if(T.extra)for(var r in T.extra)T.extra.hasOwnProperty(r)&&(n[r]=R.getValue(T.extra[r]));var i=R.extend({},t.ext,n,e);return R.extend({},t,{ext:i})},createPtpCnt:function(e){var t=i(e),n=0,r=0;if(t)return this.getPtpCnt(t.c,t.d);var o=z.getParents(e,"data-ptp"),a=z.getParentByClass(e,"data-ptp-item");return o&&(n=o.getAttribute("data-ptp"),r=a?z.getElemIndex(o,".data-ptp-item",a):z.getElemIndex(o,"a",e)),r||(r=0),this.getPtpCnt(n,r)},makeUrl:function(e,t,n){var r=e.match(/(#.+)$/);return e=e.replace(/(#.+)$/,""),e=R.setQuery(e,"ptp",t),e=this.getChasingParams(e),e=this.getExtendParams(n,e),r&&(e+=r[1]),e},getChasingParams:function(e){"undefined"==typeof e&&(e="");var t=e;if(!T.chasing)return t;T.chasing.length||(T.chasing=[T.chasing]);for(var n,r,i=0,o=T.chasing.length;i<o;i++)n=T.chasing[i],r=R.getQuery(n),r&&(t=R.setQuery(t,n,r));for(var a=location.search,u=/[\?&](_f_[^=]+)=([^&]+)/g,c=u.exec(a);c&&3==c.length;)t=R.setQuery(t,c[1],c[2]),c=u.exec(a);return t},getExtendParams:function(e,t){var n=t;if(!e||!z.is(e,"a"))return n;var i=r(e);if(i)for(var o in i)i.hasOwnProperty(o)&&(n=R.setQuery(n,o,i[o]));else{e.length&&(e=e[0]);for(var a=T.urlExtend||[],u=0,c=a.length;u<c;u++){var d=a[u],f=e.getAttribute("data-ext-"+d);f&&(n=R.setQuery(n,d,f))}}return n},refreshPtp:function(e,t){U=u(t),c(e)},refreshE:function(){H&&(H.e=D.rand(7))}},J=0,K={sendLog:function(e,t){q.isLowIE?f(e,t):d(e,t)},sendAppLog:function(e,t){return e+="",T.nativeLog&&T.nativeLog.logE?T.nativeLog.logE(e,t):void(window.hdp&&window.hdp.exec?hdp.exec("mgj.tracker.sendEvent",e,t):document.addEventListener("deviceready",function(){window.mgj&&mgj.tracker&&mgj.tracker.sendEvent&&mgj.tracker.sendEvent(e,t)},!1))},logAppPevent:function(e,t){return T.nativeLog&&T.nativeLog.logP?T.nativeLog.logP(e,t):void(window.hdp&&window.hdp.exec?hdp.exec("mgj.pevent",e,t).then(function(){},function(){}):document.addEventListener("deviceready",function(){window.mgj&&mgj.pevent&&mgj.pevent(function(){},null,e)},!1))},logAppCustomPevent:function(e,t,n){window.hdp&&window.hdp.exec?hdp.exec("mgj.tracker.sendPEvent",t,e,n,!0):document.addEventListener("deviceready",function(){window.mgj&&mgj.tracker&&mgj.tracker.sendPEvent(function(){},function(){},t,e,n,!0)},!1)},logData:function(e,t){var n=W.getPtpByType(e),r=t.eid;if(n.push(R.stringify(t)),q.isNative){var i=t.ext;i.ptp_cnt=t.ptp_cnt,i.ptp_url=t.ptp_url,i.ptp_ref=t.ptp_ref,i.uid=t.uid,i._11_url=location.href,i._11_refer=document.referrer||"",K.sendAppLog(r,i)}else K.sendLog(T.LogUrl,{v:2,pt:R.getTime(),pf:W.getPlatform(),data:n.join("\t")})}},X=[],Z=!1,G=!1,Y=q.isNative||!T.shouldRequestCookie();Y||R.loadScript(T.CookieUrl,function(){Y=!0,R.fire("LoggerReady")},q.xcore);var ee=navigator.userAgent.toLocaleLowerCase();if(ee.indexOf("meili-pevent=true")!==-1&&!q.xcore&&!q.isIos){var te=T.urlCustom,ne=W.getPtpCnt(),re="meili://pevent?param="+ne;te&&(re+="&url="+encodeURIComponent(te)),window.M&&M.web.AB&&M.web.AB.isAB?M.web.AB.collectExps().then(function(e){e.length&&(re+="&abtest="+encodeURIComponent(e.join(","))),P(re)})["catch"](function(){P(re)}):P(re)}var ie={version:"1.2.0",ptp:W,config:T,util:R,info:q,send:K,refreshPevent:w,log:m,generatePtpParams:E,generatePtpForm:b,goTo:C,goToWxa:_};if(window.logger=ie,!q.xcore){var oe="tap"in document.createElement("div")?"tap":"mousedown";R.registerEvent(document,oe,A),R.registerEvent(document,"touchstart",A)}return l(function(){W.refreshPtp(),h()}),ie}();
var trace=function(){"use strict";function extend(){var arguments$1=arguments;var target=arguments[0];var argsLen=arguments.length;for(var i=1;i<argsLen;i++){var source=arguments$1[i];for(var p in source){if(source.hasOwnProperty(p)){target[p]=source[p]}}}return target}function getValue(fn){if(typeof fn!=="function"){return fn}return fn()}var config={customUrl:function customUrl(){},getExtraTime:function getExtraTime(){return 0},blankTime:"__trace__headendt"};function getFormatUrl(url){url=url||location.href;var customUrl=getValue(config.customUrl);if(customUrl){customUrl=customUrl.split("https://").join("").split("http://").join("");return customUrl}if(typeof url==="string"){url=url.split("?")[0].split("#")[0].split("https://").join("").split("http://").join("");if(url.charAt(url.length-1)==="/"){url=url.substr(0,url.length-1)}}return url}var CHROME_IE_STACK_REGEXP=/^\s*at .*(\S+\:\d+|\(native\))/m;var SAFARI_NATIVE_CODE_REGEXP=/^(eval@)?(\[native code\])?$/;function _map(array,fn,thisArg){if(typeof Array.prototype.map==="function"){return array.map(fn,thisArg)}else{var output=new Array(array.length);for(var i=0;i<array.length;i++){output[i]=fn.call(thisArg,array[i])}return output}}function _filter(array,fn,thisArg){if(typeof Array.prototype.filter==="function"){return array.filter(fn,thisArg)}else{var output=[];for(var i=0;i<array.length;i++){if(fn.call(thisArg,array[i])){output.push(array[i])}}return output}}function _indexOf(array,target){if(typeof Array.prototype.indexOf==="function"){return array.indexOf(target)}else{for(var i=0;i<array.length;i++){if(array[i]===target){return i}}return-1}}var ErrorStackParser={parse:function ErrorStackParser$$parse(error){if(error.stack&&error.stack.match(CHROME_IE_STACK_REGEXP)){return this.parseV8OrIE(error)}else if(error.stack){return this.parseFFOrSafari(error)}else{return[]}},extractLocation:function ErrorStackParser$$extractLocation(urlLike){if(urlLike.indexOf(":")===-1){return[urlLike]}var regExp=/(.+?)(?:\:(\d+))?(?:\:(\d+))?$/;var parts=regExp.exec(urlLike.replace(/[\(\)]/g,""));return[parts[1],parts[2]||undefined,parts[3]||undefined]},parseV8OrIE:function ErrorStackParser$$parseV8OrIE(error){var filtered=_filter(error.stack.split("\n"),function(line){return!!line.match(CHROME_IE_STACK_REGEXP)},this);return _map(filtered,function(line){if(line.indexOf("(eval ")>-1){line=line.replace(/eval code/g,"eval").replace(/(\(eval at [^\()]*)|(\)\,.*$)/g,"")}var tokens=line.replace(/^\s+/,"").replace(/\(eval code/g,"(").split(/\s+/).slice(1);var locationParts=this.extractLocation(tokens.pop());var functionName=tokens.join(" ")||undefined;var fileName=_indexOf(["eval","<anonymous>"],locationParts[0])>-1?undefined:locationParts[0];return{functionName:functionName,filename:fileName,row:locationParts[1],column:locationParts[2],line:line}},this)},parseFFOrSafari:function ErrorStackParser$$parseFFOrSafari(error){var filtered=_filter(error.stack.split("\n"),function(line){return!line.match(SAFARI_NATIVE_CODE_REGEXP)},this);return _map(filtered,function(line){if(line.indexOf(" > eval")>-1){line=line.replace(/ line (\d+)(?: > eval line \d+)* > eval\:\d+\:\d+/g,":$1")}if(line.indexOf("@")===-1&&line.indexOf(":")===-1){return{functionName:line}}else{var tokens=line.split("@");var locationParts=this.extractLocation(tokens.pop());var functionName=tokens.join("@")||undefined;return{functionName:functionName,filename:locationParts[0],row:locationParts[1],column:locationParts[2],line:line}}},this)}};var parser={ErrorStackParser:ErrorStackParser,parse:function parse(error){var r=ErrorStackParser.parse(error);if(!r||r.length<=0){return error.message}var info=r[0];var strs=[];if(info.filename){var filename=info.filename;if(filename.lastIndexOf("/")>-1){filename=info.filename.slice(info.filename.lastIndexOf("/"))}strs.push(filename)}if(info.functionName){strs.push("@"+info.functionName)}if(info.row){strs.push(" "+info.row)}return error.message+" - "+strs.join("")},normalize:function normalize(error){var r=ErrorStackParser.parse(error);return r}};function getPlatform(){var ua=navigator.userAgent.toLowerCase();return/iphone|android|ipad/i.test(ua)?"h5":"pc"}function getBrowser(){var nAgt=navigator.userAgent;var unknown="其它";var browser=unknown;var version="";var majorVersion="";var verOffset;var ix;if((verOffset=nAgt.indexOf("Opera"))!==-1){browser="Opera";version=nAgt.substring(verOffset+6);if((verOffset=nAgt.indexOf("Version"))!==-1){version=nAgt.substring(verOffset+8)}}if((verOffset=nAgt.indexOf("OPR"))!==-1){browser="Opera";version=nAgt.substring(verOffset+4)}else if(nAgt.indexOf("MicroMessenger")!==-1){browser="Wechat"}else if(nAgt.indexOf("QQ")!==-1){browser="QQ"}else if((verOffset=nAgt.indexOf("MSIE"))!==-1){browser="IE";version=nAgt.substring(verOffset+5)}else if((verOffset=nAgt.indexOf("Chrome"))!==-1){browser="Chrome";version=nAgt.substring(verOffset+7)}else if((verOffset=nAgt.indexOf("Firefox"))!==-1){browser="Firefox";version=nAgt.substring(verOffset+8)}else if(nAgt.indexOf("Trident/")!==-1){browser="IE";version=nAgt.substring(nAgt.indexOf("rv:")+3)}else if((verOffset=nAgt.indexOf("Safari"))!==-1||nAgt.indexOf("iPhone")!==-1){browser="Safari";version=nAgt.substring(verOffset+7);if((verOffset=nAgt.indexOf("Version"))!==-1){version=nAgt.substring(verOffset+8)}}if((ix=version.indexOf(";"))!==-1){version=version.substring(0,ix)}if((ix=version.indexOf(" "))!==-1){version=version.substring(0,ix)}if((ix=version.indexOf(")"))!==-1){version=version.substring(0,ix)}if(version){majorVersion=parseInt(""+version,10);if(isNaN(majorVersion)){version=""+parseFloat(navigator.appVersion);majorVersion=parseInt(navigator.appVersion,10)}}return majorVersion?browser+"_"+majorVersion:browser+"_unknown"}function getOs(){var unknown="其它";var os=unknown;var nAgt=navigator.userAgent;var clientStrings=[{s:"Windows 10",r:/(Windows 10.0|Windows NT 10.0)/},{s:"Windows 8.1",r:/(Windows 8.1|Windows NT 6.3)/},{s:"Windows 8",r:/(Windows 8|Windows NT 6.2)/},{s:"Windows 7",r:/(Windows 7|Windows NT 6.1)/},{s:"Windows Vista",r:/Windows NT 6.0/},{s:"Windows Server 2003",r:/Windows NT 5.2/},{s:"Windows XP",r:/(Windows NT 5.1|Windows XP)/},{s:"Windows 2000",r:/(Windows NT 5.0|Windows 2000)/},{s:"Windows ME",r:/(Win 9x 4.90|Windows ME)/},{s:"Windows 98",r:/(Windows 98|Win98)/},{s:"Windows 95",r:/(Windows 95|Win95|Windows_95)/},{s:"Windows NT 4.0",r:/(Windows NT 4.0|WinNT4.0|WinNT|Windows NT)/},{s:"Windows CE",r:/Windows CE/},{s:"Windows 3.11",r:/Win16/},{s:"Android",r:/Android/},{s:"Open BSD",r:/OpenBSD/},{s:"Sun OS",r:/SunOS/},{s:"Linux",r:/(Linux|X11)/},{s:"iOS",r:/(iPhone|iPad|iPod)/},{s:"Mac OS X",r:/Mac OS X/},{s:"Mac OS",r:/(MacPPC|MacIntel|Mac_PowerPC|Macintosh)/},{s:"QNX",r:/QNX/},{s:"UNIX",r:/UNIX/},{s:"BeOS",r:/BeOS/},{s:"OS/2",r:/OS\/2/},{s:"Search Bot",r:/(nuhk|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask Jeeves\/Teoma|ia_archiver)/}];for(var id in clientStrings){var cs=clientStrings[id];if(cs.r.test(nAgt)){os=cs.s;break}}var osVersion=unknown;if(/Windows/.test(os)){osVersion=/Windows (.*)/.exec(os)[1];os="Windows"}switch(os){case"Mac OS X":osVersion="";break;case"Android":var matched=/Android( |\/)([\.\_\d]+)/.exec(nAgt);if(matched&&matched.length>0){var arr=(matched[2]||"").split(".").slice(0,2);osVersion=arr.join(".")}break;case"iOS":osVersion=/OS (\d+)_(\d+)_?(\d+)?/.exec(nAgt);if(osVersion&&osVersion.length>0){osVersion=osVersion[1]+"."+osVersion[2]}break}return os===unknown?os:os+osVersion}function getScreen(){var _screen=window.screen;var width;var height;var screenSize="";if(_screen&&_screen.width){width=_screen.width?_screen.width:"";height=_screen.height?_screen.height:"";screenSize+=""+width+"x"+height}return screenSize}function getDevicePixelRatio(){var dpr=(window.devicePixelRatio?window.devicePixelRatio:1)-0;return dpr.toFixed(1)}function getDeviceInfo(){return{platform:getPlatform(),screen:getScreen(),os:getOs(),browser:getBrowser(),devicePixelRatio:getDevicePixelRatio()}}var Promise=window.Promise;function getPerformanceInfo(){var timing=window.performance&&window.performance.timing;if(!timing){return Promise.resolve({})}var blankTime=window[config.blankTime];if(!blankTime){blankTime=timing.domContentLoadedEventStart}var res={dns:timing.domainLookupEnd-timing.domainLookupStart,tcp:timing.connectEnd-timing.connectStart,request:timing.responseStart-timing.requestStart,response:timing.responseEnd-timing.responseStart,domContentLoad:timing.domContentLoadedEventEnd-timing.navigationStart,blankTime:blankTime-timing.navigationStart,readyTime:timing.domInteractive-timing.navigationStart,onloadTime:timing.loadEventEnd-timing.navigationStart,extraTime:getValue(config.getExtraTime)||0};return Promise.resolve(res)}function _log(){var logger=window.logger;if(!logger){return}var info=getDeviceInfo();getPerformanceInfo().then(function(performance){logger.log&&logger.log("016000001",extend({formatUrl:getFormatUrl()},info,performance))})}var queue=[];function isNewError(msg,file,line,col){var flag=true;for(var i=0;i<queue.length;i++){var item=queue[i]||{};if(item.msg===msg&&item.file===file&&item.line===line&&item.col===col){flag=false;break}}if(flag){queue.push({msg:msg,file:file,line:line,col:col})}return flag}function onErrorHandler(msg,file,line,col,err){if(!isNewError(msg,file,line,col)){return}var stack="";if(err){if(err.hasReported){return}stack=err.stack||""}queue.push({msg:msg,file:file,line:line,col:col});var logger=window.logger;if(!logger||!logger.log){return}if(typeof stack!=="string"){stack=""+stack}var data={type:0,msg:msg,stack:stack,ua:navigator.userAgent,formatUrl:getFormatUrl()};try{JSON.stringify(data);logger.log("016000011",data)}catch(_){}}var regParsePattern=/^\s*('?undefined'?|object|null) is not (a function|an object)\s*$/i;function shouldParse(msg){if(!msg){return false}if(regParsePattern.test(msg)){return true}if(msg.toLowerCase()==="cannot convert undefined or null to object"){return true}return false}function getErrorInfo(error,useParser){if(!error){return null}var data={};if(typeof error==="object"){data.msg=error.message||"";data.stack=error.stack||"";data.stack=data.stack;if(typeof data.stack!=="string"){data.stack=""+data.stack}}else{data.msg=error}data.ua=navigator.userAgent;data.type=1;if(shouldParse(data.msg)&&typeof error==="object"&&error.stack){try{data.msg=parser.parse(error)}catch(err){}}if(!isNewError(data.msg,data.stack)){return null}return data}var Logger={init:function init(){var interval=setInterval(function(){var timing=window.performance&&window.performance.timing;if(timing&&timing.loadEventEnd===0){return}clearInterval(interval);setTimeout(function(){_log()},10)},300);window.onerror=onErrorHandler},sendMsg:function sendMsg(error,extra,useParser){if(extra===void 0)extra=null;if(useParser===void 0)useParser=false;var data=getErrorInfo(error,useParser);var logger=window.logger;if(!data||!logger||!logger.log){return}var extraJSON="";if(extra){try{extraJSON=JSON.stringify(extra);if(extraJSON.length>1024){throw new Error("extra contains too much information")}}catch(e){extraJSON="";console&&console.warn&&console.warn(e)}}extend(data,{formatUrl:getFormatUrl(),extra:extraJSON});try{JSON.stringify(data);logger.log("016000011",data)}catch(err){}}};function isIE(){var myNav=navigator.userAgent.toLowerCase();return myNav.indexOf("msie")!==-1?parseInt(myNav.split("msie")[1],10):false}function _report(err){if(typeof err==="string"){err=new Error(err)}if(err.hasReported){return}err.hasReported=true;Logger.sendMsg(err,null,true)}function _inject(fn){if(typeof fn.apply!=="function"){return fn}return function(){try{return fn.apply(this,arguments)}catch(err){_report(err);console&&console.warn&&console.warn(err);throw err}}}function _transform(fn){if(!fn||typeof fn.apply!=="function"){return fn}return function(){var arguments$1=arguments;var args=[];var arg;for(var i=0,l=arguments.length;i<l;i++){arg=arguments$1[i];if(typeof arg==="function"){arg=_inject(arguments$1[i])}args.push(arg)}return fn.apply(this,args)}}function _mix(target,src){for(var key in src){target[key]=src[key]}}function injectjQuery(){var $=window.$;if(!$||$!==window.jQuery&&$!==window.Zepto){return}var _ready=$.fn.ready;$.fn.ready=_transform(_ready);var _ajax=$.ajax;if(typeof _ajax==="function"&&typeof _ajax.apply==="function"){$.ajax=function(url,options){var target=null;if(typeof options==="undefined"&&typeof url==="object"){target=url}else if(typeof options==="object"){target=options}if(target){if(typeof target.success==="function"){target.success=_inject(target.success)}if(typeof target.complete==="function"){target.complete=_inject(target.complete)}}return _ajax.apply($,arguments)}}}function injectRequireJS(){var _require=window.require;var _define=window.define;if(_define&&_define.amd&&_require){window.require=_transform(_require);_mix(window.require,_require);window.define=_transform(_define);_mix(window.define,_define)}}function injectSystem(){var _setTimeout=window.setTimeout;window.setTimeout=function(fn,ms){if(typeof fn==="function"){fn=_inject(fn)}switch(arguments.length){case 0:return _setTimeout();case 1:return _setTimeout(fn);default:return _setTimeout(fn,ms)}};var _setInterval=window.setInterval;window.setInterval=_transform(_setInterval);var _requestAnimationFrame=window.requestAnimationFrame;if(typeof _requestAnimationFrame==="function"){window.requestAnimationFrame=_transform(_requestAnimationFrame)}if(window.EventTarget&&window.EventTarget.prototype.addEventListener){var addEventListener=window.EventTarget.prototype.addEventListener;window.EventTarget.prototype.addEventListener=function(event,callback,bubble){if(callback&&typeof callback.handleEvent==="function"){callback.handleEvent=_inject(callback.handleEvent);return addEventListener.call(this,event,callback,bubble)}else{if(!callback.___wrapper){callback.___wrapper=_inject(callback)}return addEventListener.call(this,event,callback.___wrapper,bubble)}};var removeEventListener=window.EventTarget.prototype.removeEventListener;window.EventTarget.prototype.removeEventListener=function(event,callback,bubble){if(!callback){return removeEventListener.call(this,event,callback,bubble)}else{return removeEventListener.call(this,event,callback.___wrapper||callback,bubble)}}}}var Inject={init:function init(){if(isIE()&&isIE()<9){return}injectjQuery();injectRequireJS();injectSystem()}};var exit=false;if(window._trace){console&&console.warn&&console.warn("WARNING: you already import trace");exit=true}try{if(localStorage.__disable__trace__){console.warn("trace is disabled");exit=true}}catch(err){}if(!/^https?/.test(location.protocol)){console.warn("trace will work only under http or https protocol page");exit=true}if(!/(meilishuo|mogujie|xiaodian|uniny|meili-inc)\.com/.test(location.host)){console.warn("trace will work only under *.(meilishuo|mogujie|xiaodian|uniny|meili-inc).com");exit=true}var M=window.M;if(!M){console.warn("M is required before using trace");exit=true}else if(typeof M.isDev==="function"&&M.isDev()){console.warn("trace will work only under production mode");exit=true}if(typeof window.console==="undefined"){window.console={log:function(){},warn:function(){}}}if(!exit){Logger.init();Inject.init()}window._trace={send:function send(){},sendImmediately:function sendImmediately(){},version:"1.2.3",config:config,sendMsg:Logger.sendMsg};var index={};return index}();!function(){window.$&&window.require&&(window.modJsRequire=function(n,e,t,o){"function"==typeof e&&(t=arguments[1],o=arguments[2],e=null),require(n,function(){var n=Array.from?Array.from(arguments):Array.prototype.slice.call(arguments),o=this;e&&$(e).length?$(e).each(function(e,i){t&&t.apply(o,n.concat([i,e]))}):t&&t.apply(this,n)},o)})}(),define("core/core",[],function(){return window.MoGu=window.MoGu||{},window.MoGu}),define("ui/ui",["$","core/core"],function(n,e){return e.ui={getTemplate:function(n,e){try{return M.lib.doT.template(n)(e)}catch(n){return n}},getdoT:function(){return M.lib.doT}},e}),define("util/util",["$","core/core"],function(n,e){return e.util={setCookie:M.fn.setCookie,getCookie:M.fn.getCookie,removeCookie:M.fn.removeCookie},n.extend(e.util),e}),define("fn/fn",["core/core"],function(n){return n.fn={login:function(n){n=n||window.location.href;var e="https://portal.mogujie.com/user/newlogin?redirect_url="+encodeURIComponent(n);window.location.href=window.logger&&window.logger.generatePtpParams(e)||e},idtourl:function(n){if(n)return 1+(2*n+56).toString(36)},urltoid:function(n){return(parseInt(n.substring(1),36)-56)/2}}}),define("fn/time",["fn/fn"],function(){MoGu.fn=$.extend({},MoGu.fn,{getServerTime:function(n){return M.getServerTime(!1).then(function(e){n(e.time)})}})}),define("fn/modacm",["fn/fn"],function(){MoGu.fn=$.extend({},MoGu.fn,{getModAcm:function(n){if(!n)return"";var e=$(n),t=e.parents(),o=null;return $(t).each(function(n,e){$(e).hasClass("module_row")&&(o=$(e))}),o?$(o).attr("data-acm"):""}})}),define("fn/showlog",["fn/fn"],function(){function n(n){return"none"!=n.css("display")&&"hidden"!=n.css("visibility")&&0!=n.css("opacity")&&n.width()&&(n.height()||n.innerHeight&&n.innerHeight())}function e(e){var t=e.offset().top,o=e.height()||e.innerHeight&&e.innerHeight(),i=e.offset().left,r=e.width(),l=$(window).scrollTop(),u=$(window).scrollLeft(),a=$(window).width(),s=$(window).height(),c=t>=l&&t<l+s,f=t+o>l&&t+o<=l+s,d=t<l&&t+o>l+s,g=i>=u&&i<u+a,h=i+r>u&&i+r<=u+a,w=i<u&&i+r>u+a;return n(e)&&(c||f||d)&&(g||h||w)}function t(){if(c.length||d.length||g.length||h.length||f){!function(){d&&d.length?(p("0x00000000",{acms:d,indexs:u,type:5}),u=[],d=[]):g&&g.length?(p("0x00000000",{acms:g,indexs:a,type:5}),a=[],g=[]):h&&h.length?(p("0x00000000",{acms:h,indexs:s,iids:w,type:4}),w=[],s=[],h=[]):f?(p(l||0,f),f=null,l=null):c&&c.length&&(p(l||0,{acms:c,iids:w,indexs:m}),c=[],w=[],m=[],l=null)}()}o=!0,window.setTimeout(function(){c.length||d.length||g.length||h.length||f?t():o=!1},1e3)}var o=!1,i="has-log-mod",r=window.acmGmvType||"",l=($(".rec-show-log"),null),u=[],a=[],s=[],c=[],f=null,d=[],g=[],h=[],w=[],m=[],p=function(n,e){var t=window&&window.logger&&window.logger.log;t&&t(n,e)},v=function(n){var e=n.attr("data-log-content"),t=e.split(";");$(t).each(function(n,e){var t=e.split("="),o=t[0];o&&(f=f||{},f[o]=f[o]||[],f[o].push(e.replace(o+"=","")))})},C=function(){$(".module_row").each(function(n,t){var o=$(t),l=o.attr("data-acm")||"",c=l.split(".");if(l&&e(o)){var f=o.find(".cube-acm-node,.anchor,.show-log-item"),m=f.length;o.hasClass(i)||(d.push(l+"-mfs_"+m+(r?"-dm1_"+r:"")),u.push(n),o.addClass(i)),m&&$(f).each(function(n,t){var o=$(t),u=!o.hasClass("log-custom")&&o.attr("data-log-content")||"",f=o.attr("data-log-iid")||"";!o.hasClass(i)&&e(o)&&(u&&c[6]?(h.push(u+"-"+c[6]+"-idx_"+n+"-mfs_"+m+(r?"-dm1_"+r:"")),s.push(n),f&&w.push(f),o.addClass(i)):(g.push(l+"-idx_"+n+"-mfs_"+m+(r?"-dm1_"+r:"")),a.push(n),o.addClass(i)))})}}),$(".rec-show-log").each(function(n,t){if(e($(t))||$(t).hasClass("waiting-log")){var o=$(t).find(".log-custom");$(t).removeClass("waiting-log"),o.length?$(o).each(function(n,o){var i=$(o);if(e(i)||i.hasClass("waiting-log")){if(i.removeClass("waiting-log"),l&&l!==$(t).data("eventid"))return $(t).addClass("waiting-log"),void i.addClass("waiting-log");i.hasClass("log-custom")&&v(i),l=$(t).data("eventid"),i.removeClass("log-custom")}}):$(t).removeClass("rec-show-log")}}),(c.length||d.length||g.length||h.length||f)&&!o&&t()};!function(){$(function(){window.setTimeout(function(){$(window).scroll(C),C&&C()},1e3)})}(),MoGu.fn=$.extend({},MoGu.fn,{showLog:C})}),define("base/MoGu",["core/core","util/util","ui/ui","fn/time","fn/modacm","fn/showlog"],function(n){return n}),require(["base/MoGu"],function(n){return n});/******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};

/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {

/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId])
/******/ 			return installedModules[moduleId].exports;

/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			exports: {},
/******/ 			id: moduleId,
/******/ 			loaded: false
/******/ 		};

/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);

/******/ 		// Flag the module as loaded
/******/ 		module.loaded = true;

/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}


/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;

/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;

/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";

/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(0);
/******/ })
/************************************************************************/
/******/ ([
/* 0 */
/***/ function(module, exports, __webpack_require__) {

	__webpack_require__(1);

	var navTpl = __webpack_require__(3);
	var cart = __webpack_require__(4);
	var id2url = __webpack_require__(6);

	__webpack_require__(7);

	var M = window.M || {};
	var logger = window.logger;

	var Nav = {
	    $elem: $('.J_sitenav'),
	    init: function init() {
	        this.initCompatibleFunctions();
	        this.renderNav();
	        this.initIM();
	        cart.init();
	        return;
	    },
	    // 兼容旧的MoGu
	    initCompatibleFunctions: function initCompatibleFunctions() {
	        if (window.MoGu) {
	            var MoGu = window.MoGu || {};
	            MoGu.fn = MoGu.fn || {};

	            $.extend(MoGu.fn, {
	                getUserData: function getUserData(callback) {
	                    M.getUserInfo().then(function (data) {
	                        callback(null, data);
	                    }).catch(function (err) {
	                        callback(err);
	                    });
	                }
	                // ,
	                // id2url: id2url
	            });
	        }
	    },

	    renderNav: function renderNav() {
	        var that = this;
	        if (M && M.getUserInfo) {
	            M.getUserInfo().then(function (data) {
	                that.$elem.html(navTpl(data));

	                // 等导航栏渲染出来再取cinfo
	                window.newcinfo && window.newcinfo.refresh();

	                // 渲染购物车数量
	                cart.renderNavCartListNum();
	                that.handleLogin();
	            }).catch(function () {
	                that.$elem.html(navTpl({}));
	                that.handleLogin();
	            });
	        }
	        return;
	    },

	    handleLogin: function handleLogin() {
	        var protocol = location.protocol || 'http:';
	        this.$elem.find('.J_nav_btn_login').on('click', function () {
	            if (logger && logger.goTo) {
	                logger.goTo(protocol + '//portal.mogujie.com/user/newlogin?redirect_url=' + encodeURIComponent(window.location.href));
	            } else {
	                window.location.href = protocol + '//portal.mogujie.com/user/newlogin?redirect_url=' + encodeURIComponent(window.location.href);
	            }
	        });
	        return;
	    },

	    /**
	     * 提示im未读消息
	     **/
	    initIM: function initIM() {
	        // 2016/8 IM cinfo改造
	        var that = this;
	        $(document).on('hasUnread', function (event, unreadCnt) {
	            var $Msg = that.$elem.find('.mogutalk_btn');
	            if (!$Msg.length) return;
	            if (unreadCnt > 0) {
	                $Msg.find('.num').show();
	            } else {
	                $Msg.find('.num').hide();
	            }
	        });
	    }

	};

	module.exports = Nav.init();

/***/ },
/* 1 */
/***/ function(module, exports, __webpack_require__) {

	// 获取购物车 & 优惠券数量模块
	__webpack_require__(2);

	var _isPromiseFetching = false;
	var _transitionalPromise = void 0;
	var _resData = void 0;
	var tokenDomain = 'cart.mogujie.com';

	function _getCartListNumFromServer(url) {
	    return _transitionalPromise = new Promise(function (resolve) {
	        var jsonp = M.http.jsonp;
	        var _url = url;

	        if (jsonp) {
	            jsonp(_url, {
	                jsonpCallback: 'jsonp_cartListNum_' + new Date().getTime(),
	                tokenDomain: tokenDomain
	            }).then(function (res) {
	                if (res && res.success) {
	                    if (res.data && res.data.count > 0) {
	                        if (window.localStorage) {
	                            window.localStorage.setItem('___cached_cart_list_num', res.data.count);
	                        }
	                    }
	                    _resData = res;
	                } else {
	                    _resData = {};
	                }

	                _isPromiseFetching = false;
	                resolve(_resData);
	            }).catch(function () {
	                // 如果请求出错了 默认降级
	                _isPromiseFetching = false;
	                _resData = {};
	                resolve(_resData);
	            });
	        } else {
	            // 如果没有jsonp方法 默认降级
	            _isPromiseFetching = false;
	            _resData = {};
	            resolve(_resData);
	        }
	    });
	}

	function getCartListNumFromLocalstorage() {
	    var cartListNum = 0;
	    var res = {};

	    if (window.localStorage) {
	        var cacheCartListNum = window.localStorage.getItem('___cached_cart_list_num');
	        if (cacheCartListNum && cacheCartListNum > 0) {
	            cartListNum = cacheCartListNum;
	        }
	    }

	    res = {
	        "result": {
	            "count": cartListNum
	        },
	        "status": {
	            "message": "",
	            "isLogin": true,
	            "code": 1001,
	            "msg": ""
	        }
	    };
	    return res;
	}

	function getCartListNum(url, sync) {

	    // 判断接口是否需要降级
	    return M.pc.common.checkDegradation().then(function (res) {
	        if (res.degradation) {
	            // 需要降级，则读取localstorage中的值
	            return Promise.resolve(getCartListNumFromLocalstorage());
	        } else {
	            // 不需要降级，则接口获取数据 || 读取缓存数据
	            if (_isPromiseFetching) {
	                return _transitionalPromise;
	            }

	            if (!_resData || sync) {
	                _isPromiseFetching = true;
	                return _getCartListNumFromServer(url);
	            } else {
	                _resData._sync = false;
	                return Promise.resolve(_resData);
	            }
	        }
	    });
	}

	var M = window.M || {};
	M.pc = M.pc || {};
	M.pc.common = M.pc.common || {};
	M.pc.common.getCartListNum = M.pc.common.getCartListNum || getCartListNum;

	module.exports = getCartListNum;

/***/ },
/* 2 */
/***/ function(module, exports) {

	/**
	 * 获取麦田接口来检测获取优惠券/购物车数量接口是否降级
	 **/
	var _isDegradationStatusFetching = false;
	var _getDegradationPromise = void 0;
	var _degradationStatus = void 0;
	var PID = 23784;

	function _getDegradationStatus() {
	    return _getDegradationPromise = new Promise(function (resolve) {
	        var protocol = location.protocol || 'http:';

	        var jsonp = M.http.jsonp;
	        var url = protocol + '//mce.mogucdn.com/jsonp/multiget/3';

	        if (jsonp) {
	            jsonp(url, {
	                data: {
	                    pids: PID
	                },
	                jsonpCallback: 'jsonp' + PID
	            }).then(function (res) {
	                if (res.returnCode === 'SUCCESS' && res.data[PID] && res.data[PID].list && res.data[PID].list.length && res.data[PID].list[0].degradation == 'true') {
	                    _degradationStatus = {
	                        degradation: true
	                    };
	                } else {
	                    _degradationStatus = {
	                        degradation: false
	                    };
	                }

	                _isDegradationStatusFetching = false;
	                resolve(_degradationStatus);
	            }).catch(function () {
	                // 如果开关出错了 默认降级
	                _isDegradationStatusFetching = false;
	                _degradationStatus = {
	                    degradation: true
	                };
	                resolve(_degradationStatus);
	            });
	        } else {
	            // 如果没有jsonp方法 默认降级
	            _isDegradationStatusFetching = false;
	            _degradationStatus = {
	                degradation: true
	            };
	            resolve(_degradationStatus);
	        }
	    });
	}

	function checkDegradation(sync) {
	    if (_isDegradationStatusFetching) {
	        return _getDegradationPromise;
	    }

	    if (!_degradationStatus || sync) {
	        _isDegradationStatusFetching = true;
	        return _getDegradationStatus();
	    } else {
	        _degradationStatus._sync = false;
	        return Promise.resolve(_degradationStatus);
	    }
	}

	var M = window.M || {};
	M.pc = M.pc || {};
	M.pc.common = M.pc.common || {};
	M.pc.common.checkDegradation = M.pc.common.checkDegradation || checkDegradation;

	module.exports = checkDegradation;

/***/ },
/* 3 */
/***/ function(module, exports) {

	module.exports = function anonymous(it
	/*``*/) {
	var out='<div class="wrap"> <a href="//www.mogujie.com" rel="nofollow" class="home fl">蘑菇街首页</a> <ul class="header-top"> ';if(it.name){out+=' <li class="s1 has-icon user-meta"> <a rel="nofollow" href="javascript:;"> '+(it.name)+' </a> <a rel="nofollow" href="//pc.mogujie.com/member/member.html" target="_blank"> ';if(it.userLevel){out+=' <span class="level level '+(it.userLevel - 1)+' ">&nbsp;</span> ';}out+=' </a> <i class="icon-delta"></i> <ol class="ext-mode" id="menu-personal"> <li class="s2"> <a target="_blank" rel="nofollow" href="//www.mogujie.com/settings/personal">个人设置</a> </li> <li class="s2"> <a rel="nofollow" href="//www.mogujie.com/logout">退出</a> </li> </ol> </li> <li class="s1 has-line message-center"> <a rel="nofollow" href="javascript:;" class="ext-module mogutalk_btn J_msg open_msg micon" data-from="shopwidget_message" data-trace="global,shopwidget_message,click">消息<span class="num m_num"></span> </a> </li> <li class="s1 has-icon has-line user-fav"> <a rel="nofollow" href="javascript:;">我的收藏</a> <i class="icon-delta"></i> <ul class="ext-mode"> <li class="s2"> <a target="_blank" rel="nofollow" href="//favorite.mogujie.com/active/goodsfavs">收藏的商品</a> </li> <li class="s2"> <a target="_blank" rel="nofollow" href="//favorite.mogujie.com/active/shopfavs">收藏的小店</a> </li> <li class="s2"> <a target="_blank" rel="nofollow" href="//track.mogujie.com">浏览足迹</a> </li> </ul> </li> ';}else{out+=' <li class="s1 show-nologin"> <a rel="nofollow" class="J_nav_btn_login" href="javascript:;">登录</a> </li> ';}out+=' <li class="s1 myorder has-line"> <a href="//order.mogujie.com/order/list4buyer" target="_blank" class="text display_u" rel="nofollow">我的订单</a> </li> <li class="s1 has-line shopping-cart-v2"> <a class="cart-info-wrap" href="//cart.mogujie.com/cart/mycart" target="_blank" rel="nofollow"> <span class="cart-info">购物车</span> </a> <i class="icon-delta"></i> <span class="shopping-cart-loading"></span> </li> <li class="s1 has-line has-icon custom-item"> <a rel="nofollow" href="//cs.mogujie.com/help/index.html" rel="nofollow" target="_blank">客户服务</a> <i class="icon-delta"></i> <ol class="ext-mode"> <li class="s2"><a target="_blank" rel="nofollow" href="//cs.mogujie.com/help/index.html">消费者服务</a></li> <li class="s2"><a target="_blank" rel="nofollow" href="http://seller.mogujie.com/service">商家服务</a></li> <li class="s2"><a target="_blank" rel="nofollow" href="//cs.mogujie.com/rule/index.html">规则中心</a></li> </ol> </li> <li class="s1 has-line has-icon myxiaodian"> <a href="http://xd.mogujie.com/work/home" rel="nofollow" target="_blank" class="text display_u">商家后台</a> <i class="icon-delta"></i> <ol class="ext-mode"> <li class="s2"><a target="_blank" rel="nofollow" href="http://xd.mogujie.com/work/home">管理后台</a></li> <li class="s2"><a target="_blank" rel="nofollow" href="http://bbs.mogujie.com">商家社区</a></li> <li class="s2"><a target="_blank" rel="nofollow" href="http://peixun.mogujie.com">商家培训</a></li> <li class="s2"><a target="_blank" rel="nofollow" href="http://cycle.mogujie.com/pc/zhaoshang">市场入驻</a></li> </ol> </li> </ul></div>';return out;
	}

/***/ },
/* 4 */
/***/ function(module, exports, __webpack_require__) {

	/**
	 * 顶部导航购物车模块
	 */
	var cartTpl = __webpack_require__(5);
	var id2url = __webpack_require__(6);

	var M = window.M || {};
	var ShopCart = {};
	var isLogin = false;

	var tokenDomain = 'cart.mogujie.com';

	ShopCart.Model = {
	    goodsList: '',
	    offlineCartCookies: '',
	    offlineCartCookiesOld: '',
	    goodsNum: 0,

	    /**
	     * [getGoodsList 获取购物车前5个商品]
	     * @param  {Function} callback [description]
	     * @return {[type]}            [description]
	     */
	    getGoodsList: function getGoodsList(callback) {
	        var _self = this;
	        if (_self.goodsList) {
	            $.isFunction(callback) && callback(this.goodsList);
	            return;
	        }

	        var offlineCartItems = [];

	        if (M && M.fn && M.fn.getCookie('trade_cart_mogujie')) {
	            _self.offlineCartCookies = M.fn.getCookie('trade_cart_mogujie');
	        } else if (M && M.fn && M.fn.getCookie('mogu_trade_cart')) {
	            _self.offlineCartCookiesOld = M.fn.getCookie('mogu_trade_cart');
	        }

	        if (_self.offlineCartCookies) {
	            var arr = JSON.parse(_self.offlineCartCookies);
	            for (var key in arr) {
	                var obj = {};
	                obj['stockId'] = key;
	                for (var i in arr[key]) {
	                    obj[i] = arr[key][i];
	                }
	                offlineCartItems.push(obj);
	            }
	        }

	        if (_self.offlineCartCookiesOld) {
	            var arr = _self.offlineCartCookiesOld.split(',');
	            var obj = {};

	            for (var i = 0; i < arr.length; i++) {
	                if (arr[i].indexOf('#') > -1) {
	                    var detail = arr[i].split('#');
	                    obj.number = detail[0];
	                    obj.lastAddCartTime = detail[1];
	                    offlineCartItems.push(obj);
	                    obj = {};
	                } else {
	                    obj.stockId = id2url(arr[i]);
	                }
	            }
	        }
	        var postData = {
	            "marketType": "market_mogujie",
	            "topNum": 5,
	            "offlineCartItems": JSON.stringify(offlineCartItems)
	        };

	        M.http.jsonp('//cart.mogujie.com/jsonp/costaMinicartList/1', {
	            data: postData,
	            tokenDomain: tokenDomain
	        }).then(function (data) {
	            if (data.success == true && data.data) {
	                _self.goodsList = data.data.cartItems ? data.data.cartItems : [];
	                _self.goodsNum = data.data.totalItemNum || 0;
	                $.isFunction(callback) && callback(_self.goodsList);
	            } else {
	                $.isFunction(callback) && callback([]);
	            }
	        }).catch(function () {
	            $.isFunction(callback) && callback([]);
	        });
	    },

	    delCookie: function delCookie(stockId) {
	        var newCookie = {};

	        if (this.offlineCartCookies) {
	            var obj = JSON.parse(this.offlineCartCookies);

	            for (var key in obj) {
	                if (key != stockId) {
	                    newCookie[key] = obj[key];
	                }
	            }

	            if (M && M.fn && M.fn.setCookie) {
	                M.fn.setCookie('trade_cart_mogujie', JSON.stringify(newCookie), {
	                    expires: 15,
	                    path: '/',
	                    'domain': '.mogujie.com'
	                });
	            }
	        }
	    },

	    /**
	     * [delGood 删除一个显示的商品]
	     * @param  {[type]}   stockId  [description]
	     * @param  {Function} callback [description]
	     * @return {[type]}            [description]
	     */
	    delGood: function delGood(stockId, callback) {
	        var that = this;
	        // 已登录 直接调用后端删除接口
	        M.http.jsonp('//cart.mogujie.com/jsonp/costaDeleteCart/1', {
	            data: {
	                marketType: "market_mogujie",
	                stockId: stockId
	            },
	            tokenDomain: tokenDomain
	        }).then(function (data) {
	            if (data.success == true) {
	                isLogin = data.success;

	                if (!isLogin) {
	                    that.delCookie(stockId);
	                }
	                $.isFunction(callback) && callback();
	            }
	        }).catch(function () {});
	    }
	};

	ShopCart.View = {
	    wrap: $('.J_sitenav'),
	    init: function init() {
	        if (!this.wrap.length) return;
	        this.extendInfo = null;
	        this.loading = this.wrap.find('.shopping-cart-loading');
	        this.maxShowNum = 5; // 显示商品最大的数目
	        this.addEvent();
	    },

	    renderNavCartListNum: function renderNavCartListNum() {
	        var _self = this;
	        var $navCart = _self.wrap.find('.shopping-cart-v2');
	        if (!$navCart.length) return;
	        var $cartInfo = $navCart.find('.cart-info-wrap');

	        M.pc.common.getCartListNum('//cart.mogujie.com/jsonp/costaCartItemCount/1?marketType=market_mogujie').then(function (data) {
	            if (data && data.data && data.data.count > 0) {
	                var num = data.data.count > 99 ? '99+' : data.data.count;
	                var tpl = '<span class="cart-info">购物车<b class="num">' + num + '</b>件</span>';
	                $cartInfo.html(tpl).show();
	            } else {
	                $cartInfo.html('<span class="cart_info">购物车</span>');
	            }
	        }).catch(function () {
	            $cartInfo.html('<span class="cart_info">购物车</span>');
	        });
	    },

	    addEvent: function addEvent() {
	        var _self = this;
	        // 显示购物车商品
	        _self.wrap.off('mouseenter').on('mouseenter', '.shopping-cart-v2', function () {
	            var _this = $(this);

	            _this.addClass('sc-on');
	            _self.loading.show();

	            if (_self.extendInfo && _self.extendInfo.length) {
	                _self.loading.hide();
	                _self.extendInfo.show();
	            } else {
	                ShopCart.Model.getGoodsList(function (data) {
	                    var reData = {
	                        list: data,
	                        topNum: _self.maxShowNum,
	                        total: ShopCart.Model.goodsNum
	                    };

	                    var html = '';

	                    if (data.length) {
	                        html = cartTpl(reData);
	                        _self.extendInfo = $(html);
	                    } else {
	                        html = '<div class="shop-cart-info"></div>';
	                        _self.extendInfo = $(html);
	                        _self.extendInfo.addClass('empty-cart').text('购物车里没有商品！');
	                    }

	                    _this.append(_self.extendInfo);
	                    _self.loading.hide();
	                    _self.extendInfo.show();
	                });
	            }
	        });

	        // 关闭购物车商品
	        _self.wrap.off('mouseleave').on('mouseleave', '.shopping-cart-v2', function () {
	            _self.extendInfo && _self.extendInfo.hide() && $(this).removeClass('sc-on');
	        });

	        // 删除一个商品
	        _self.wrap.off('click').on('click', '.shopping-cart-v2 .del', function () {
	            var _this = $(this),
	                stockId = _this.data('stockid'),
	                parent = _this.parent(),
	                currentNum = ShopCart.Model.goodsNum;

	            if (_this.hasClass('disabled')) return;

	            _this.addClass('disabled');

	            ShopCart.Model.delGood(stockId, function () {
	                currentNum--;
	                parent.fadeOut('slow', function () {

	                    _this.removeClass('disabled');

	                    if (!currentNum) {
	                        // 全部删了的时候显示没有商品

	                        _self.extendInfo = $('.shop-cart-info');
	                        _self.extendInfo.addClass('empty-cart').text('购物车里没有商品！');
	                    } else {
	                        parent.remove();
	                        ShopCart.Model.goodsNum = currentNum;
	                    }
	                });
	            });
	        });
	    }
	};

	module.exports = ShopCart.View;

/***/ },
/* 5 */
/***/ function(module, exports) {

	module.exports = function anonymous(it
	/*``*/) {
	var out='<div class="shop-cart-info" style="display: none;"> <ul class="max_height_ie6"> ';var arr1=it.list;if(arr1){var item,index=-1,l1=arr1.length-1;while(index<l1){item=arr1[index+=1];out+=' ';if(index < it.topNum){out+=' <li> <a rel="nofollow" href="//shop.mogujie.com/detail/'+(item.itemIdEsc)+'" target="_blank" class="imgbox"> ';if(item.imgUrl){out+=' <img src="'+(item.imgUrl)+'_48x48.jpg" alt="'+(item.title)+'" width="45"> ';}out+=' </a> <a rel="nofollow" href="//shop.mogujie.com/detail/'+(item.itemIdEsc)+'" target="_blank" class="title">'+(item.title)+'</a> ';if(item.skuAttributes){out+=' <span class="info">';var arr2=item.skuAttributes;if(arr2){var sku,key=-1,l2=arr2.length-1;while(key<l2){sku=arr2[key+=1];out+=''+(sku.key)+': '+(sku.value)+'  ';} } out+='</span> ';}out+=' <span class="price">¥'+((item.nowprice/100))+'</span> <span data-stockid="'+(item.stockIdEsc)+'" class="del">删除</span> </li> ';}out+=' ';} } out+=' </ul> <div class="subbox"> ';if(it.total-it.topNum>0){out+=' <p class="sub_info">购物车里还有<b class="num">'+(it.total - it.topNum)+'</b>件商品</p> ';}out+=' <div class="fr"> <a rel="nofollow" href="//cart.mogujie.com/cart/mycart" target="_blank" class="goel">查看购物车</a> </div> </div></div>';return out;
	}

/***/ },
/* 6 */
/***/ function(module, exports) {

	// 临时添加id2url的方法，购物车灰度结束下掉
	/**
	 * base_conver for js
	 * @param number
	 * @param frombase
	 * @param tobase
	 * @return {String}
	 */
	function base_convert(number, frombase, tobase) {
	    return parseInt(number + '', frombase | 0).toString(tobase | 0);
	}

	var id2url = function id2url(id, version) {
	    var url = '';
	    var v = version || 1;

	    id = '' + id;

	    if (id.length == 24) {
	        return id;
	    }

	    switch (v) {
	        case 1:
	            url = v + base_convert(id * 2 + 56, 10, 36);
	            break;

	        default:
	            url = false;
	            break;
	    }
	    return url;
	};

	module.exports = id2url;

/***/ },
/* 7 */
/***/ function(module, exports) {

	// removed by extract-text-webpack-plugin

/***/ }
/******/ ]);!function(o){function t(e){if(n[e])return n[e].exports;var i=n[e]={exports:{},id:e,loaded:!1};return o[e].call(i.exports,i,i.exports,t),i.loaded=!0,i.exports}var n={};return t.m=o,t.c=n,t.p="",t(0)}([function(o,t,n){n(1),n(3),n(4);var e=n(6),i=window.M||{},a=1260,r=$(".J_sidebar"),c={$elem:r,init:function(){var o=this;this.renderSidebar().then(function(){o.$goTop=r.find(".mgj-back2top"),o.$sidebarCart=r.find(".mgj-my-cart"),o.$goTop.length&&(o.offsetEl=$(".wrap").length?$(".wrap").eq(0):$("#body_wrap").length?$("#body_wrap"):$("body"),o.offsetEl.length&&(o.win=$(window),o.addEvent()))})},addEvent:function(){var o=this;o.setSidebarPos(),this.win.on("resize",function(){o.setSidebarPos()}),this.$sidebarCart.off().on("mouseenter",function(){o.win.width()>a||o.showSidebar()}),this.$elem.off().on("mouseleave",function(){o.win.width()>a||o.hideSidebar()}),this.win.on("scroll",function(){$(this).scrollTop()?o.$goTop.addClass("show"):o.$goTop.removeClass("show")}),this.$goTop.on("click",function(){return o.win.scrollTop(0),!1})},setSidebarPos:function(){var o=this.win.width();a>o?this.hideSidebar():this.showSidebar()},showSidebar:function(){this.$sidebarCart.stop().animate({left:"0"}),this.$goTop.stop().animate({left:"0"}),this.$elem.removeClass("mini").stop().animate({right:"0"})},hideSidebar:function(){this.$sidebarCart.stop().animate({left:"-30px"}),this.$goTop.stop().animate({left:"-30px"}),this.$elem.addClass("mini").stop().animate({right:"-30px"})},renderSidebar:function(){var o=this;return i&&i.getUserInfo?i.getUserInfo(!0,"//portal.mogujie.com/api/profile/baseinfo").then(function(t){o.$elem.html(e(t));var n=o.$elem.find(".mgj-my-cart");if(n.length){var a=n.find(".num");i.pc.common.getCartListNum("//cart.mogujie.com/jsonp/costaCartItemCount/1?marketType=market_mogujie").then(function(o){o&&o.data&&o.data.count>0?a.html(o.data.count>99?"99+":o.data.count).show():a.hide()})["catch"](function(){a.hide()});var r=o.$elem.find(".mgj-my-coupon");if(r.length){var c=r.find(".num");i.pc.common.getCouponNum("//promotion.mogujie.com/jsonp/getUnUsedCouponNumber/1?domain=8").then(function(o){if(o&&o.data&&o.data.number>0){var t=o.data.number,n=parseInt(t,10);n?c.html(n>99?"99+":n).show():c.hide()}else c.hide()})["catch"](function(){c.hide()})}}})["catch"](function(){o.$elem.html(e({}))}):Promise.resolve()}};o.exports=c.init()},function(o,t,n){function e(o){return c=new Promise(function(t){var n=m.http.jsonp,e=o;n?n(e,{jsonpCallback:"jsonp_cartListNum_"+(new Date).getTime(),tokenDomain:d}).then(function(o){o&&o.success?(o.data&&o.data.count>0&&window.localStorage&&window.localStorage.setItem("___cached_cart_list_num",o.data.count),s=o):s={},r=!1,t(s)})["catch"](function(){r=!1,s={},t(s)}):(r=!1,s={},t(s))})}function i(){var o=0,t={};if(window.localStorage){var n=window.localStorage.getItem("___cached_cart_list_num");n&&n>0&&(o=n)}return t={result:{count:o},status:{message:"",isLogin:!0,code:1001,msg:""}}}function a(o,t){return m.pc.common.checkDegradation().then(function(n){return n.degradation?Promise.resolve(i()):r?c:!s||t?(r=!0,e(o)):(s._sync=!1,Promise.resolve(s))})}n(2);var r=!1,c=void 0,s=void 0,d="cart.mogujie.com",m=window.M||{};m.pc=m.pc||{},m.pc.common=m.pc.common||{},m.pc.common.getCartListNum=m.pc.common.getCartListNum||a,o.exports=a},function(o,t){function n(){return a=new Promise(function(o){var t=location.protocol||"http:",n=s.http.jsonp,e=t+"//mce.mogucdn.com/jsonp/multiget/3";n?n(e,{data:{pids:c},jsonpCallback:"jsonp"+c}).then(function(t){r="SUCCESS"===t.returnCode&&t.data[c]&&t.data[c].list&&t.data[c].list.length&&"true"==t.data[c].list[0].degradation?{degradation:!0}:{degradation:!1},i=!1,o(r)})["catch"](function(){i=!1,r={degradation:!0},o(r)}):(i=!1,r={degradation:!0},o(r))})}function e(o){return i?a:!r||o?(i=!0,n()):(r._sync=!1,Promise.resolve(r))}var i=!1,a=void 0,r=void 0,c=23784,s=window.M||{};s.pc=s.pc||{},s.pc.common=s.pc.common||{},s.pc.common.checkDegradation=s.pc.common.checkDegradation||e,o.exports=e},function(o,t,n){function e(o){return c=new Promise(function(t){var n=d.http.jsonp,e=o;n?n(e,{jsonpCallback:"jsonp_couponNum_"+(new Date).getTime()}).then(function(o){o&&o.success&&"SUCCESS"==o.returnCode?(o.data&&o.data.number>0&&window.localStorage&&window.localStorage.setItem("___cached_coupon_num",o.data.number),s=o):s={},r=!1,t(s)})["catch"](function(){r=!1,s={},t(s)}):(r=!1,s={},t(s))})}function i(){var o=0,t={};if(window.localStorage){var n=window.localStorage.getItem("___cached_coupon_num");n&&n>0&&(o=n)}return t={data:{number:o},returnCode:"SUCCESS",success:!0}}function a(o,t){return d.pc.common.checkDegradation().then(function(n){return n.degradation?Promise.resolve(i()):r?c:!s||t?(r=!0,e(o)):(s._sync=!1,Promise.resolve(s))})}n(2);var r=!1,c=void 0,s=void 0,d=window.M||{};d.pc=d.pc||{},d.pc.common=d.pc.common||{},d.pc.common.getCouponNum=d.pc.common.getCouponNum||a,o.exports=a},function(o,t){},,function(o,t){o.exports=function(o){var t='<!--\u7a7a\u7684\u53f3\u4fa7\u8fb9\u680f--><div id="mgj_rightbar_top_blank" class="mgj_rightbar_960"></div><!--\u65b9\u4fbf\u5b9amargin\u7684\u7a7adediv--><div id="mgj_rightbar_blank_div"></div><!--\u7528\u6237\u5934\u50cf-->';return o.avatar&&(t+='<div class="sidebar-item mgj-my-avatar"> <a target="_blank" href="//pc.mogujie.com/member/member.html" rel="nofollow"> <div class="img"> <img width="20" height="20" src="'+o.avatar+'_48x48.jpg" alt=""> </div> </a></div>'),t+='<!--\u8d2d\u7269\u8f66--><div class="sidebar-item mgj-my-cart"> <a target="_blank" href="//cart.mogujie.com/cart/mycart" rel="nofollow"> <i class="s-icon"></i> <div class="s-txt">\u8d2d\u7269\u8f66</div> <div class="num"></div> </a></div><!--\u4f18\u60e0\u5238--><div class="sidebar-item mgj-my-coupon"> <a target="_blank" rel="nofollow" href="//promotion.mogujie.com/trade/promotion/user/shopcoupon"> <i class="s-icon"></i> <div class="s-txt">\u4f18\u60e0\u5238</div> <div class="num"></div> </a></div><!--\u94b1\u5305--><div class="sidebar-item mgj-my-wallet"> <a target="_blank" rel="nofollow" href="https://payuserp.mogujie.com/wallet/home"> <i class="s-icon"></i> <div class="s-txt">\u94b1\u5305</div> </a></div><!--\u8db3\u8ff9--><div class="sidebar-item mgj-my-browserlog"> <a target="_blank" rel="nofollow" href="//track.mogujie.com"> <i class="s-icon"></i> <div class="s-txt">\u8db3\u8ff9</div> </a></div><div class="sideBottom"> <!--\u56de\u5230\u9876\u90e8--> <div class="sidebar-item mgj-back2top"><a rel="nofollow" href="javascript:;"><i class="s-icon"></i></a></div></div>'}}]);!function(t){function e(t,e){this.init(t,e)}function a(){function e(e){return t.trim(e).replace(/(<|>|'|"|window|alert|eval|$|jQuery)/gi,"")}h.on("keyup keydown",function(o){var n=t(this),i=t("#select_type");if(!i.length||"bao"===i.val()||"5"===i.val())switch(o.keyCode){case 40:if("keyup"==o.type||!l.data("isshow"))break;g.chooseIndex=g.chooseIndex+1>g.tipLength-1?0:++g.chooseIndex;var s=v.changeListTab(g.chooseIndex);h.val(s);break;case 38:if("keyup"==o.type||!l.data("isshow"))break;g.chooseIndex=g.chooseIndex-1<0?g.tipLength-1:--g.chooseIndex;var s=v.changeListTab(g.chooseIndex);h.val(s);break;case 13:if("keyup"==o.type)break;o.preventDefault(),a.submitBefore(g.chooseType,g.chooseIndex),d.submit();break;case 37:break;case 39:break;default:clearTimeout(r),r=setTimeout(function(){var t=e(n.val());v.resetFactory(t)},500)}}).on("focus",function(){var a=t(this),o=t("#select_type");if(r&&clearTimeout(r),!o.length||"bao"===o.val()||"5"===o.val()){var n=e(a.val());clearTimeout(r),r=setTimeout(function(){v.resetFactory(n)},300)}}).on("blur",function(){t("body").bind("click",function(e){t(e.target).parents(".seatch_type_msearch").length||(l.empty().data("isshow",!0).hide(),t("body").unbind("click"))})}),l.on("mouseenter",".search_tip li",function(e){var a=t(this),o=a.index();g.chooseIndex=o,v.changeListTab(o)}).on("click",".search_tip li",function(e){var o=t(this).find(".title").text();t(e.target).hasClass("prop")&&(o+=" "+t(e.target).text()),a.submitBefore(g.chooseType,g.chooseIndex),h.val(o),d.submit()}),l.on("click",".hot_list li",function(){var e=t(this);return a.submitBefore(v.hotTypeName,e.index()),h.val(e.find("span").html()),d.submit(),!1}),l.on("click",".local_del",function(e){var a=t(this),o=a.parent();m.del(o.find(".title").attr("title"));var n=m.getTenItem();return v.updateLocalContent(a,n),g.chooseIndex=-1,g.tipLength=n.length,!1}).on("click",".local_title .del_all",function(){var e=t(this);return m.set(),v.destoryLocalContent(e),e.remove(),g.chooseIndex=-1,g.tipLength=0,!1}),o.on("click",".selectbox a",function(e){e.preventDefault(),v.changeType(t(this))}).on("mouseenter",".selectbox",function(){l.hide(),t(this).addClass("sele_hover")}).on("mouseleave",".selectbox",function(){t(this).removeClass("sele_hover")}),d.submit(function(){var o=t(this),n=e(h.val()),i=h.attr("def-v");if(""==n||n==i){if(""==n&&"shop"==t("#select_type").val())return!1;var s=h.data("def");h.val(s||"");var r='<input type="hidden" name="from" value="searchplacehold" id="TJ">';t("#top_nav_form").append(r),setTimeout(function(){t("#TJ").remove()},1e3)}else n==t.trim(h.val())&&"bao"==t("#select_type").val()&&m.addOne(n);if(d.find(".emptyvalue").remove(),o.data("index")>-1&&null!==o.data("type")){var c='<input type="hidden" class="emptyvalue" name="from" value="'+o.data("type")+"querytip"+o.data("index")+'">';d.append(c)}return v.destoryContent(),a.submitAfter(),!1}),v.showStickySearch()&&v.initStickySearch()}var o=t("#nav_search_form")||[];if(o.length>0&&!(window.M&&M.pc&&M.pc.__SEARCHBAR_JS_HAS_LOAD__)){M.pc.__SEARCHBAR_JS_HAS_LOAD__=!0;var n="//list.mogujie.com/module/mget?code=sketch,hotWord",i="//list.mogujie.com/module/mget?code=tips";t&&t.fn&&!t.fn.serializeObject&&(t.fn.serializeObject=function(){var e={},a=this.serializeArray();return t.each(a,function(){void 0!==e[this.name]?(e[this.name].push||(e[this.name]=[e[this.name]]),e[this.name].push(this.value||"")):e[this.name]=this.value||""}),e});var s=function(){var t=this;t.init()};s.prototype={constructor:s,init:function(){var t=this;t.requestLogo(),t.fixIe()},requestLogo:function(){var e=this,a="//mce.mogucdn.com/jsonp/multiget/3?pids=14360",o="https://s10.mogucdn.com/p1/170301/idid_ifrwimrvmqygkzrvmuzdambqhayde_440x180.png",n=t(".header_mid .wrap .mid_fr"),i=t(".header_mid .wrap .logo");M.http.jsonp({url:a,timeout:2e4,jsonpCallback:"__GET_SEARCHBAR_IMG__"}).then(function(a){if(a&&a.success&&a.data&&a.data[14360]&&a.data[14360].list&&a.data[14360].list[0]){var s=a.data[14360].list[0];if(s.link&&""!=s.link&&(i.attr("href",s.link),t(".sticky-search-container .wrap .logo").attr("href",s.link)),s.logoImg&&""!=s.logoImg){var r=new Image;r.src=s.logoImg,i.css({"background-image":"none"}),i.html('<img src="'+s.logoImg+'" alt="\u8611\u83c7\u8857\uff0c\u6211\u7684\u4e70\u624b\u8857">')}if(s.sLogoImg&&""!=s.sLogoImg&&t(".sticky-search-container .logo-wrap .logo img").attr("src",s.sLogoImg),s.codeImg&&""!=s.codeImg){var c=new Image;c.src=s.codeImg,e.insertImg(n,s.codeImg,s.codeLink)}else e.insertImg(n,o,"");s.codeBg&&""!=s.codeBg&&n.css({"background-image":'url("'+s.codeBg+'")'})}else e.insertImg(n,o,"")})["catch"](function(){e.insertImg(n,o,"")})},insertImg:function(t,e,a){a?t.html('<a href="'+a+'" target="_blank" class="code_wrap"><img src="'+e+'" alt="\u8611\u83c7\u8857\uff0c\u6211\u7684\u4e70\u624b\u8857"></a>'):t.html('<img src="'+e+'" alt="\u8611\u83c7\u8857\uff0c\u6211\u7684\u4e70\u624b\u8857">')},fixIe:function(){var e=M.ua.ie67||M.ua.ie8;e||t(".top_nav_search .top_search_hint").addClass("is-not-ie8-hack")},inputTextHide:function(e,a){e.focus(function(){var e=t(this);t.trim(e.val())==t.trim(e.attr("def-v"))&&e.val(""),a&&e.addClass(a)}),e.blur(function(){var e=t(this);""==t.trim(e.val())&&(e.val(e.attr("def-v")),a&&e.removeClass(a))})},getStore:function(t){if(!window.localStorage)return!1;var e=window.localStorage.getItem(t),a=JSON.parse(e);return a},setStore:function(t,e){if(!window.localStorage)return!1;var a=JSON.stringify(e);window.localStorage.setItem(t,a)}};var r,c=new s,l=t(".top_search_hint"),h=o.find(".ts_txt"),d=t("#top_nav_form"),u=t("#select_type"),p=o.find(".selectbox"),f={nowHost:window.location.host,defultHost:"http://search.mogujie.com",listHost:"http://list.mogujie.com/s",template:function(t){return'<div class="search_tip_box fl">'+t+"</div>"},addUrlParam:function(t,e){var a=/\?/.test(t),o="";for(var n in e)o+="&"+n+"="+e[n];if(!a&&o){var i=o.split("");i.shift(),o=i.join(""),t+="?"}return t+=o},listItemTemp:function(t){var e='<div class="mr300 tip_wrap"> ';e+=t.titleName&&""!=t.titleName?' <h3 class="search_tip_title">'+t.titleName+"</h3> ":" ",e+=' <ul class="search_tip"> ';var a=t.items;if(a)for(var o,n=-1,i=a.length-1;i>n;){o=a[n+=1],e+=" ";var s=o.acm,r=o.query,c=o.color||"#333",l=o.highcolor,h=o.bold,d=o.italic,u=o.link||"http://list.mogujie.com/s";u=f.addUrlParam(u,{q:r,acm:s}),c=c&&"#"===c.slice(0,1)?c:"#"+c,l=l?"#"===l.slice(0,1)?l:"#"+l:"";var p=c?"color: "+c+";":"",m=l?"background-color: "+l+";":"",g=h?"font-weight: bold;":"",v=d?"font-style: italic;":"";if(10>n){e+=' <li> <a href="'+u+'" style="'+p+g+v+m+'" class="title" title="'+o.query+'" >'+o.query+"</a> ";var _=o.tags;if(_)for(var y,w=-1,k=_.length-1;k>w;)y=_[w+=1],e+=" ",y.tag&&""!=y.tag&&(e+=' <a href="http://list.mogujie.com/s?q='+o.query+" "+y.tag+"&acm="+o.acm+'" class="prop" title="'+y.tag+'"><span>'+y.tag+"</sapn></a> "),e+=" ";e+=" </li> "}e+=" "}return e+=" </ul></div>"},localItemTemp:function(t){var e='<div class="mr300 tip_wrap"> <h3 class="search_tip_title local_title clearfix"> ';t.items.length&&(e+=' <span class="del_all">\u5220\u9664</span> '),e+='\u5386\u53f2\u8bb0\u5f55</h3> <ul class="search_tip"> ';var a=t.items;if(a)for(var o,n=-1,i=a.length-1;i>n;){if(o=a[n+=1],e+=" ",10>n){e+=' <li class="local_item"> <a href="javascript:;" class="title" title="'+o+'" >'+o+"</a> ";var s=o.props;if(s)for(var r,c=-1,l=s.length-1;l>c;)r=s[c+=1],e+=' <span class="prop">'+r+"</span> ";e+=' <span class="nums local_del">x</span> </li> '}e+=" "}return e+=" </ul></div>"},hotKeyTpl:function(t){var e='<div class="search_hot_wrap"> <h3 class="search_tip_title hot_title">\u70ed\u95e8\u5173\u952e\u8bcd</h3> <ul class="hot_list clearfix"> ',a=t.items;if(a)for(var o,n=-1,i=a.length-1;i>n;)o=a[n+=1],e+=" ",10>n&&(e+=" <li><span>"+o.title+"</span></li> "),e+=" ";return e+=" </ul></div>"},emptyTpl:function(){return'<div class="mr300 tip_wrap"><p class="tip_none">\u6682\u65e0\u76f8\u5173\u70ed\u95e8\u5173\u952e\u8bcd</p></div>'}},m={keyName:"_search_local_history",keyShowName:"_search_local_history_show",maxLength:20,showLength:10,isshow:function(){return!0},abtest:function(t){c.setStore(this.keyShowName,1)},get:function(){return c.getStore(this.keyName)||[]},getTenItem:function(){var t=this.get();return t.slice(0,this.showLength)},set:function(t){c.setStore(this.keyName,t||[])},addOne:function(e){if(e=t.trim(e),""!=e){var a=this.get(),o=t.inArray(e,a);-1==o?(a.unshift(e),a.length>this.maxLength&&a.pop()):(a.splice(o,1),a.unshift(e)),this.set(a)}},del:function(e){e=t.trim(e);var a=this.get(),o=t.inArray(e,a);o>-1&&(a.splice(o,1),this.set(a))}};GetQueryString=function(t){var e=new RegExp("(^|&)"+t+"=([^&]*)(&|$)","i"),a=window.location.search.substr(1).match(e);return null!=a?decodeURIComponent(a[2]):""},e.prototype.init=function(t,e){this.chooseIndex=-1,this.chooseType=t,this.tipLength=e||0};var g=new e("undefined"),v={ajaxKey:0,hotKeyArr:[],isShopHost:function(){var e=t("#M_searchbar_flag_isshop")||[],a=e.val();return!!(e&&e.length>0&&a&&"shop"===a)},showStickySearch:function(){var e=(location.pathname,t("#body_wrap")),a=e.length>0?e.offset().top:150;return 150>a&&(a=150),"show"==t("#J_searchbar_flag").val()?(this.stickyTargetTop=a,!0):!1},initSearchForm:function(e){var a=d.find(".ts_txt"),o=GetQueryString("q");o&&a.attr("def-v","").val(o),M.http.jsonp({url:n,jsonpCallback:"__GET_HOTWORD_BASEWORD__"}).then(function(n){if(n&&n.success&&"SUCCESS"==n.returnCode&&n.data){var i=n.data.sketch&&n.data.sketch.data||{},s=n.data.hotWord&&n.data.hotWord.data||[],r=i&&i.frontword||"",c=i&&i.query||"",l=i&&i.acm||"",h=l?[l]:[];o||a.attr("def-v",r).val(r),a.attr("data-def",c),a.attr("data-acm",l);var d="";if(t(s).each(function(t,e){var a=e.acm,o=e.query,n=e.frontword,i=e.color||"#666",s=e.highcolor,r=(e.tag,e.bold),c=e.italic,l=e.link||"http://list.mogujie.com/s";l=f.addUrlParam(l,{q:o,from:"hotword",acm:a}),i=i&&"#"===i.slice(0,1)?i:"#"+i,s=s?"#"===s.slice(0,1)?s:"#"+s:"";var u=i?"color: "+i+";":"",p=s?"background-color: "+s+";":"",m=r?"font-weight: bold;":"",g=c?"font-style: italic;":"",v=['<a rel="nofollow" class="ts_hotword" href="',l,'" style="'+u+m+g+p+'">',n,"</a>"].join("");d+=v,a&&h.push(a)}),t(".ts_hotwords").html(d),window.logger&&window.logger.log){var u=window.logger.log;try{u("0x00000000",{acms:h})}catch(p){}}}t.isFunction(e)&&e(n)})["catch"](function(){})},resetFactory:function(t){this.isShopHost()?this.resetShopContent(t):m.isshow()?this.resetListContent(t):this.resetOldContent(t)},searchReaultLogger:function(t){if(t&&t.data&&t.data.tips&&t.data.tips.data){for(var e=t.data.tips.data||{},a=Math.min(e.length,10),o={acm:[],index:[],tags:[],query:[]},n=0;a>n;n++){var i=e[n];o.acm.push(i.acm),o.index.push(n),o.query.push(i.query);for(var s=i.tags||[],r=[],c=0;c<s.length;c++)r.push(s[c].tag);o.tags.push(r)}if(window.logger&&window.logger.log){var l=window.logger.log;try{l("000000120",o)}catch(h){}}}},resetListContent:function(a){function o(t){n(function(){s()})}function n(o){var n=m.getTenItem();return""==t.trim(a)?(c.push(r.renderLocalContent(n)),void(t.isFunction(o)&&o())):void M.http.jsonp({url:i,data:{keyWord:a},jsonpCallback:"__GET_SEARCH_RESULT_1__"}).then(function(a){if(h>=r.ajaxKey&&a&&a.success&&a.data&&a.data.tips&&a.data.tips.data){var n=a.data.tips.data||[],i=n.length,s=n.slice(0,10);0==i?c.push(r.renderEmptyContent()):(c.push(r.renderSearchContent(s)),g=new e(r.searchTypeName,i)),r.searchReaultLogger(a)}t.isFunction(o)&&o()})["catch"](function(){})}function s(){var t=f.template(c.join(""))||"";l.html(t),r.showContentBox()}var r=this,c=[],h=++r.ajaxKey;o(r.hotKeyArr)},resetShopContent:function(a){function o(o){M.http.jsonp({url:i,data:{keyWord:a},jsonpCallback:"__GET_SEARCH_RESULT_2__"}).then(function(a){if(d>=s.ajaxKey&&a&&a.success&&a.data&&a.data.tips&&a.data.tips.data){var n=a.data.tips.data||[],i=n.length,l=n.slice(0,10);0==i?r.push(s.renderEmptyContent()):(r.push(s.renderSearchContent(l,c)),g=new e(h,i)),s.searchReaultLogger(a)}t.isFunction(o)&&o()})["catch"](function(){})}function n(){var t=f.template(r.join(""))||"";l.html(t),s.showContentBox()}var s=this,r=[],c="",h=""!=a?s.searchTypeName:s.hotTypeName,d=++s.ajaxKey;o(function(){n()})},resetOldContent:function(a){function o(o){M.http.jsonp({url:i,data:{keyWord:a},jsonpCallback:"__GET_SEARCH_RESULT_3__"}).then(function(a){if(d>=s.ajaxKey&&a&&a.success&&a.data&&a.data.tips&&a.data.tips.data){var n=a.data.tips.data||[],i=n.length,l=n.slice(0,10);0==i?r.push(s.renderEmptyContent()):(r.push(s.renderSearchContent(l,c)),g=new e(h,i)),s.searchReaultLogger(a)}t.isFunction(o)&&o()})["catch"](function(){})}function n(){var t=f.template(r.join(""))||"";l.html(t),l.find(".tip_wrap").removeClass("mr300").addClass("mr300_fix"),s.showContentBox()}var s=this,r=[],c=""!=a?"\u641c\u7d22\u7ed3\u679c":"\u70ed\u95e8\u5173\u952e\u8bcd",h=""!=a?s.searchTypeName:s.hotTypeName,d=++s.ajaxKey;o(function(){n()})},searchTypeName:"",renderSearchContent:function(t,e){return f.listItemTemp({titleName:e||null,items:t})},localTypeName:"local",renderLocalContent:function(t){return f.localItemTemp({items:t})},updateLocalContent:function(t,e){var a=t.parent(),o=t.parents(".search_tip");if(a.length&&o.length)if(e.length<m.showLength)a.remove();else{var n=e[m.showLength-1];a.find(".title").attr("title",n).html(n),a.appendTo(o)}},destoryLocalContent:function(t){var e=t.parents(".tip_wrap").find(".search_tip");e.length&&e.empty()},hotTypeName:"default",renderHotContent:function(t){for(var e=[],a=0;a<t.length;a++)e.push({title:t[a]});return f.hotKeyTpl({items:e})},renderEmptyContent:function(){return f.emptyTpl()},destoryContent:function(){l.empty().hide()},getContentPosition:function(t,e){var a=e.offset(),o=t.data("fixleft"),n=t.data("fixtop");o&&(a.left+=parseInt(o)),n&&(a.top-=parseInt(n));var i=e.width()-34;t.css({left:a.left,top:a.top+e.height()+2,width:i}).addClass("hasposition")},showContentBox:function(){l.show().data("isshow",!0)},changeListTab:function(t){var e=l.find(".search_tip li"),a=e.eq(t);return e.removeClass("checked"),a.addClass("checked"),a.find(".title").text()},changeType:function(t){var e=t.parent(),a=e.attr("data-index"),o=t.text();if(u.val(a),p.find(".selected").text("\u641c"+o),e.siblings("li").removeClass("current"),e.addClass("current"),"shop"==a)h.val()==h.attr("def-v")&&h.val("");else if(""==h.val()){var n=h.attr("def-v");h.val(n)}4==a?"shop.mogujie.com"===f.nowHost?d.attr("action",f.defultHost+"/group/search/"):d.attr("action","/group/search/"):"shop.mogujie.com"===f.nowHost?d.attr("action",f.listHost):"shop"==a?d.attr("action","http://list.mogujie.com/book/search/shop"):d.attr("action",f.listHost),p.removeClass("sele_hover")},initStickySearch:function(){var e=t("#nav_search_form"),a=['<div id="J_sticky_container" class="sticky-search-container">','<div class="wrap clearfix">','<div class="logo-wrap clearfix">','<a rel="nofollow" href="http://www.mogujie.com" class="logo" title="\u8611\u83c7\u8857|\u6211\u7684\u4e70\u624b\u8857"><img src="https://s10.mogucdn.com/mlcdn/c45406/180109_0afd7gig4fbdcag30dg7j054jicd0_224x82.png" alt="\u8611\u83c7\u8857\uff0c\u6211\u7684\u4e70\u624b\u8857"></a>',"</div>",'<div class="sticky-search-content"></div>',"</div>","</div>"].join("");t("body").append(a);var o=t(".sticky-search-container");t(window).off("scroll.sticky").on("scroll.sticky",function(){t(document).scrollTop()>v.stickyTargetTop?o.hasClass("lets-rock")||o.find(".sticky-search-content").append(e).end().addClass("lets-rock"):o.hasClass("lets-rock")&&(t(".normal-search-content").append(t("#nav_search_form")),o.find(".sticky-search-content").empty().end().removeClass("lets-rock"))})}};a.submitBefore=function(t,e){d.data({type:t,index:e})},a.submitAfter=function(){d.removeData("type index");var e=t.trim(d.find("input[name=t]").val());d.find("input[name=t]").remove(),g.chooseType="undefined",g.chooseIndex=-1;var a=t.map(d.serializeObject(),function(t,e){return[e,encodeURIComponent(t)].join("=")}).join("&"),o="";if("shop"==e)o="http://list.mogujie.com/book/search/shop?"+a;else{var n=h.attr("data-acm")||"",i=h.val()||"",s=h.attr("data-def")||"";o=n&&i&&s&&s==i?"http://list.mogujie.com/s?acm="+n+"&"+a:"http://list.mogujie.com/s?"+a}logger&&logger.generatePtpParams&&(o=logger.generatePtpParams(o)),window.location.href=o};var _=function(){c.inputTextHide(h,"ts_high"),"www.mogujie.com"===f.nowHost||p.parents(".store_header").length||d.attr("action",f.listHost),d.find(".ts_btn").attr("disabled",!1),a()};v.initSearchForm(_)}}(jQuery);!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define("pc/common/im/index",[],e):"object"==typeof exports?exports["pc/common/im/index"]=e():t["pc/common/im/index"]=e()}(this,function(){return function(t){function e(o){if(n[o])return n[o].exports;var i=n[o]={exports:{},id:o,loaded:!1};return t[o].call(i.exports,i,i.exports,e),i.loaded=!0,i.exports}var n={};return e.m=t,e.c=n,e.p="",e(0)}([function(t,e,n){"use strict";var o=n(1),i={},a=function(t,e){return $.ajax({url:"//webim.mogujie.com/jsonp/getshopowner/1",data:{shopId:t},type:"GET",dataType:"jsonp",jsonp:"callback",success:e})},r=function(t,e,n,i){o(t,e,n,i);var a=window.$?window.$("#J-imContainer"):document.getElementById("J-imContainer");a.show(),a.contents().focus()},d=function(t,e,n,o,d){var c=/com\/detail\/(1[a-z0-9]+)/,u=decodeURIComponent(location.href).match(c);return u&&u[1]&&(n=u[1]),!t&&e?i[e]?(t=i[e],void r(t,n,o,d)):void a(e,function(o){o.success&&o.data&&(t=o.data.userId,i[e]=t,r(t,n))}):void r(t,n,o,d)},c=function(t,e,n,o,i){var a=window.M||{},r=window.MoGu||{},c=window.MOGU||null;if(a.getUserInfo)a.getUserInfo().then(function(o){d(t,e,n)})["catch"](function(){location.href="https://portal.mogujie.com/user/login?redirect_url="+encodeURIComponent(location.href)});else if(!r.data||!r.data.userData||!r.data.userData.uid)return c&&c.user_handsome_login_init?(c.user_handsome_login_init(),void c.user_handsome_login(!1,{callback:function(){location.reload()}})):void(location.href="http://portal.mogujie.com/user/login?redirect_url="+encodeURIComponent(location.href));d(t,e,n,o,i)};$(document).ready(function(){$(".mogutalk_widget_btn").each(function(){var t=$(this).data("style")||"default";t&&$(this).addClass("mogutalk_"+t)})}),$(document).on("click",".mogutalk_widget_btn, .mogutalk_btn",function(t){t.preventDefault();var e=t.currentTarget,n=$(e).data("uid")||"",o=$(e).data("bid")||$(e).data("shopid")||"",i=$(e).data("tid")||$(e).data("gid")||"",a=$(e).data("frompage")||"",r=$(e).data("allocatetype")||"";o&&(o=o.replace(/#\d*$/,"")),c(n,o,i,a,r)}),window._openIm=c,t.exports=c},function(t,e,n){"use strict";n(2);var o=null,i={getPos:function(){var t=void 0;return o?o:window.localStorage&&(t=window.localStorage.getItem("IM_POSITION"))?JSON.parse(t):{x:$(window).width()-590,y:$(window).height()-440}},setPos:function(t,e){return o={x:t,y:e},window.localStorage&&window.localStorage.setItem("IM_POSITION",JSON.stringify(o)),!0}};t.exports=function(t,e,n,o){var a="http://webim.mogujie.com/pc";if(!$("#J-imContainer").length){var r="left:"+i.getPos().x+"px; top:"+i.getPos().y+"px",d='<div id="J-imContainer" class="im-frame-container" style="'+r+'">\n        <div id="J-closeImFrameBtn" class="im-frame-btn"></div>\n        <div id="J-dragImHandle" class="im-frame-drag"></div>\n        <iframe id="J-openImFrame" class="im-frame-box" frameborder="no" allowtransparency="true">\n        </iframe>\n      </div>';$("body").append(d),$("#J-closeImFrameBtn").on("click",function(){$("#J-imContainer").hide()}),$("#J-imContainer").drag({midX:40,midY:40,handler:"#J-dragImHandle",resize:function(t){i.setPos(t.x,t.y)},dragEnd:function(t){i.setPos(t.x,t.y)}})}var c=$.param({userId:t,goodsId:e,fromPage:n,allocatetype:o});$("#J-openImFrame").attr("src",a+"#"+c)}},function(t,e){"use strict";var n=!!("ontouchstart"in document.documentElement),o={start:"touchstart",move:"touchmove",end:"touchend"},i={start:"mousedown",move:"mousemove",end:"mouseup"},a=n?o:i;$.fn.drag=function(t){function e(){return h?(x.off(a.start,h),this):this}function o(){u=v.maxX>0?v.maxX:$(window).width(),s=v.maxY>0?v.maxY:$(window).height(),u=u-i("width")-v.midX,s=s-i("height")-v.midY,m=v.midX,l=v.midY}function i(t,e){return e?void p.css(t,e):parseFloat(p.css(t))}function r(){g.x=i("left"),g.y=i("top")}function d(t,e){u&&(m>t?t=m:t>=m&&t>u&&(t=u)),s&&(l>e?e=l:e>=l&&e>s&&(e=s)),"x"===v.axis?i("left",t+"px"):"y"===v.axis?i("top",e+"px"):(i("left",t+"px"),i("top",e+"px")),r()}function c(){function t(t){function e(e){var o,i,a,c;n?1===t.touches.length&&(o=e.touches[0].clientX-t.touches[0].clientX,i=e.touches[0].clientY-t.touches[0].clientY):(o=e.clientX-t.clientX,i=e.clientY-t.clientY),a=u+o,c=s+i,d(a,c),r(e)}function o(){"function"==typeof v.dragEnd&&v.dragEnd.call(this,g),c()}function r(t){t.preventDefault?(t.preventDefault(),t.stopPropagation()):(t.returnValue=!1,t.cancelBubble=!0)}function c(){$(document).off(a.move,e),$(document).off(a.end,o),$(document).off("selectstart",r),x.off("dragstart",r)}var u=i("left")||0,s=i("top")||0;document.body.focus(),$(document).on("selectstart",r),x.on("dragstart",r),$(document).on(a.move,e),$(document).on(a.end,o)}e(),o(),"function"==typeof v.dragStart&&v.dragStart.call(this,g),x.on(a.start,t)}var u,s,m,l,f,p=$(this),h=null,g={},w={midX:0,midY:0,axis:"both",handler:null},v=$.extend({},w,t),x=v.handler;"string"==typeof x?x=p.find(x):x||(x=p),$(window).resize(function(){var t=this;f&&window.clearTimeout(f),f=setTimeout(function(){o(),d(g.x,g.y),"function"==typeof v.resize&&v.resize.call(t,g)},300)}),c()}}])}),"function"==typeof define&&define.amd&&require(["pc/common/im/index"]);function Target(e,t,n){var s="";if(arguments.length<2?s="target error - target and name are both required":"object"!=typeof e?s="target error - target itself must be window object":"string"!=typeof t&&(s="target error - target name must be string type"),s)throw new Error(s);this.target=e,this.name=t,this.prefix=n}function Messenger(e,t){this.targets={},this.name=e,this.listenFunc=[],this.prefix=t||prefix,this.initListen()}var prefix="[PROJECT_NAME]",supportPostMessage="postMessage"in window;supportPostMessage?Target.prototype.send=function(e){this.target.postMessage(this.prefix+"|"+this.name+"__Messenger__"+e,"*")}:Target.prototype.send=function(e){var t=window.navigator[this.prefix+this.name];if("function"!=typeof t)throw new Error("target callback function is not defined");t(this.prefix+e,window)},Messenger.prototype.addTarget=function(e,t){var n=new Target(e,t,this.prefix);this.targets[t]=n},Messenger.prototype.initListen=function(){var e=this,t=function(t){if("object"==typeof t&&(t=t.data),!("string"!=typeof t||t.indexOf("Messenger")<0))for(var n=t.split("__Messenger__"),t=n[1],s=n[0].split("|"),r=s[0],i=s[1],a=0;a<e.listenFunc.length;a++)r+i===e.prefix+e.name&&e.listenFunc[a](t)};supportPostMessage?"addEventListener"in document?window.addEventListener("message",t,!1):"attachEvent"in document&&window.attachEvent("onmessage",t):window.navigator[this.prefix+this.name]=t},Messenger.prototype.listen=function(e){for(var t=0,n=this.listenFunc.length,s=!1;n>t;t++)if(this.listenFunc[t]==e){s=!0;break}s||this.listenFunc.push(e)},Messenger.prototype.clear=function(){this.listenFunc=[]},Messenger.prototype.send=function(e){var t,n=this.targets;for(t in n)n.hasOwnProperty(t)&&n[t].send(e)};var messenger;window.parent!==window.self?(messenger=new Messenger("im","ImFrame"),messenger.addTarget(window.parent,"Parent")):messenger=new Messenger("Parent","ImFrame");var newcinfo=function(e,t,n){if(n){var s=this;return this.url=window.location.protocol+"//webim.mogujie.com/jsonp/cinfo/1",this.IDLE=!0,this.trigger=function(e,s){n(t).trigger(e,s)},this.getData=function(e){if(s.IDLE){s.IDLE=!1;var t=0;n.ajax({url:s.url,data:e||{},dataType:"jsonp",timeout:9e3,success:function(e){e&&e.success&&e.data>0&&(t=e.data)},complete:function(){s.IDLE=!0,s.trigger("hasUnread",t)}})}},messenger.listen(function(e){try{switch(e=JSON.parse(e),e.code){case 1007:break;case 1008:s.getData()}}catch(t){}}),{refresh:function(e){var t=window.M||{},n=window.MoGu||{};t.getUserInfo?t.getUserInfo().then(function(){s.getData(e)})["catch"](function(){}):n.data&&n.data.userData&&n.data.userData.uid&&s.getData(e)}}}}(window,document,jQuery);!function(t){function o(i){if(e[i])return e[i].exports;var l=e[i]={exports:{},id:i,loaded:!1};return t[i].call(l.exports,l,l.exports,o),l.loaded=!0,l.exports}var e={};return o.m=t,o.c=e,o.p="",o(0)}([function(t,o,e){e(1);var i="32260",l="32261",r="32262",s="32263",n="32159",a="32163",c="32170",_=[i,l,r,s,a,c].join(","),m=[i,l,r,s,a,c].join("_"),g=location.href.split("?")[0],h=["http://www.mogujie.com/","http://www.mogujie.com","http://www.mogujie.com/index","https://www.mogujie.com/","https://www.mogujie.com","https://www.mogujie.com/index"].indexOf(g)>-1;h&&(_=[_,n].join(","),m=[m,n].join("_"),$(".foot").css("background","#f5f5f5"));var f=function(){this.isInit=!1,this._elem=$(".J_siteFooter"),this.init=function(){var t=this;t.checkElementInViewport(t._elem[0]),setTimeout(function(){t.checkElementInViewport(t._elem[0])},500),$(window).scroll(function(){t.checkElementInViewport(t._elem[0])})},this.checkElementInViewport=function(t){var o=this;if(!o.isInit){var e=t.getBoundingClientRect(),i=e.bottom,l=e.top,r=window.innerHeight||document.documentElement.clientHeight;r>=l&&i>0&&(o.getRender(o._elem),o.isInit=!0)}},this.getRender=function(t){var o=this;M.http.jsonp({url:"//mce.mogucdn.com/jsonp/multiget/3",data:{pids:_},jsonpCallback:"jsonp"+m}).then(function(e){if("SUCCESS"==e.returnCode&&e.success){var n=e.data[i].list,_=e.data[l].list,m=e.data[r].list,g=e.data[s].list,h=[],f=e.data[a].list,p=e.data[c].list,d=o.getHelperNewHtml(n,_,m,g),u=o.getOtherlinkHtml(h,e),j=o.getInfoHtml(f),v=o.getCopyrightHtml(p),w=[];w=['<div class="mgj_copyright">',d,u,j,v,"</div>"].join(""),t.html(w)}})["catch"](function(t){console.log(t)})},this.getHelperNewHtml=function(t,o,e,i){var l=[],r=this.getModHtml(t,!1),s=this.getModHtml(o,!1),n=this.getModHtml(e,!1),a=this.getModHtml(i,!0);return l=['<div class="mgj_footer_helper">',r,s,n,a,"</div>"].join("")},this.getModHtml=function(t,o){for(var e=[],i=[],l=[],r=0,s=t.length;s>r;r++){var n=t[r],a=n.link;"true"===n.isHeader?i.push('<h4 class="mgj_footer_helper_title color_666">'+n.title+"</h4>"):"false"===n.isHeader&&(o?l.push('<li class="mgj_footer_helper_item mgj_footer_helper_item_last"><div class="color_999">'+n.title+'</div><img class="mgj_footer_helper_quoer_code" src="'+n.image+'"></li>'):a?l.push('<li class="mgj_footer_helper_item"><a rel="nofollow" target="_blank" class="color_999" href="'+n.link+'">'+n.title+"</a></li>"):l.push('<li class="mgj_footer_helper_item"><div class="color_999" >'+n.title+"</div></li>"))}return i=i.join(""),l=l.join(""),e=['<div class="mgj_footer_helper_mod">','<div class="mgj_footer_helper_mod_container">',i,"<ul>",l,"</ul>","</div>","</div>"].join("")},this.getOtherlinkHtml=function(t,o){var e=[];if(h){t=o.data[n].list;for(var i=[],l=0,r=t.length;r>l;l++){var s=t[l],a=s.link;a?i.push('<a rel="nofollow" target="_blank" class="mgj_footer_a color_666" href="'+a+'">'+s.title+'</a><b class="mgj_footer_b color_666"> | </b>'):i.push('<div class="mgj_footer_a color_666">'+s.title+'</div><b class="mgj_footer_b color_666"> | </b>')}i=i.join(""),e=['<div class="mgj_footer_otherlink">','<p class="mgj_footer_otherlink_container">'+i+"</p>","</div>"].join("")}return e},this.getInfoHtml=function(t){for(var o=[],e=[],i=[],l=0,r=t.length;r>l;l++){var s=t[l],n=s.link;l==r-1?i.push('<p class="mgjhostname color_999">'+s.title+"</p>"):n?e.push('<li class="mgj_footer_mgjinfo_item"><a rel="nofollow" target="_blank" class="color_666" href="'+n+'">'+s.title+"</a></li>"):e.push('<li class="mgj_footer_mgjinfo_item"><div class="color_666" >'+s.title+"</div></li>")}return e=e.join(""),i=i.join(""),o=['<div class="mgj_footer_mgjinfo"><ul>',e,"</ul>"+i+"</div>"].join("")},this.getCopyrightHtml=function(t){for(var o=[],e=[],i=0,l=t.length;l>i;i++){var r=t[i],s=r.link;s?e.push('<span class="mgj_footer_copyright_span color_999">'+r.title+'</span><a rel="nofollow" target="_blank" class="mgj_footer_a color_999" href="'+r.link+'">'+r.subTitle+'</a><b class="mgj_footer_b color_999"> | </b>'):e.push('<span class="mgj_footer_copyright_span color_999">'+r.title+'</span><div class="mgj_footer_a color_999" >'+r.subTitle+'</div><b class="mgj_footer_b color_999"> | </b>')}return e=e.join(""),o=['<div class="mgj_footer_copyright"><p class="mgj_footer_copyright_container">',e,"</p></div>"].join("")}};t.exports=(new f).init()},function(t,o){}]);!function(t){t.MWP=function(){"use strict";function t(t,e){function n(){this.constructor=t}S(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}function e(t,e){void 0===e&&(e=!0);var n=t.split(O),r=e?decodeURIComponent:E;return n.reduce(function(t,e){e=e.replace(T,"%20");var n,o,i=e.indexOf("=");return 0>i?(n=e,o=""):(n=e.slice(0,i),o=e.slice(i+1)),n=r(n),o=r(o),j.call(t,n)?Array.isArray(t[n])?t[n].push(o):t[n]=[t[n],o]:t[n]=o,t},{})}function n(t,e){if(void 0===e&&(e=!0),!t)return"";var n=e?encodeURIComponent:E;return Object.keys(t).map(function(e){var r=t[e];return e=n(e),Array.isArray(r)?r.map(function(t,r){return e+"["+r+"]="+n(t)}).join("&"):e+"="+n(r)}).join("&")}function r(t){return"undefined"!=typeof FormData&&t instanceof FormData}function o(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}function i(t,e,n){function r(){i.parentNode&&i.parentNode.removeChild(i);try{delete window[s]}catch(t){window[s]=void 0}}var i,s=e.jsonpCallback||"httpCb"+h();window[s]=function(t){r(),n(null,t),n=null},t=c(t,Object.assign({},e.data,{callback:s,_:Date.now()})),i=document.createElement("script"),i.src=t,i.type="text/javascript",i.async=!0;var a=function(t){(t&&"error"===t.type||null!==n)&&(r(),n(new Error(M)))};D&&"onreadystatechange"in i?i.onreadystatechange=function(){"complete"===i.readyState&&(i.onreadystatechange=null,o(i),a({type:"load "}));var t=i.readyState;try{i.children}catch(e){}"loaded"===t&&"loading"===i.readyState&&(i.onreadystatechange=null,a({type:"error"}))}:(i.onload=i.onerror=a,o(i))}function s(t,e,o){var i=e.data,s=new XMLHttpRequest;"GET"===e.method&&(t=c(t,i),i=null),s.open(e.method,t),s.withCredentials="omit"!==e.credentials,s.onreadystatechange=function(){if(s.readyState===XMLHttpRequest.DONE)if(s.onreadystatechange=function(){},200===s.status)try{var t;t="json"===e.dataType?""===s.responseText?null:JSON.parse(s.responseText):s.responseText,o(null,t)}catch(n){o(n)}else o(new Error(M))};try{var a=e.headers;r(i)&&delete a["content-type"],Object.keys(a).forEach(function(t){s.setRequestHeader(t,a[t])}),i?r(i)?s.send(i):a["content-type"].indexOf(R.json)>=0?s.send(JSON.stringify(i)):s.send(n(i)):s.send(null)}catch(u){o(u)}}function a(t,e,o){var i=e.data,s={method:e.method,headers:e.headers,credentials:e.credentials};"GET"===e.method?t=c(t,i):i&&(r(i)?(s.body=i,delete s.headers["content-type"]):e.headers["content-type"].indexOf(R.json)>=0?s.body=JSON.stringify(i):s.body=n(i)),u(t)||(s.mode="cors"),k(t,s).then(function(t){switch(e.dataType){case"json":return t.json();case"text":default:return t.text()}}).then(function(t){o(null,t)})["catch"](function(){o(new Error(M))})}function u(t){try{var e=document.createElement("a");return e.href=t,e.href=e.href,e.protocol===x.protocol&&e.hostname===x.hostname&&e.port===x.port}catch(n){return!0}}function c(t,r){if(r){var o=t.split("?"),i=o[0],s=o[1];s&&(r=Object.assign(e(s),r));var a=n(r);a&&(t=i+"?"+a)}return t}function h(){return String(Date.now())+String((90*Math.random()|0)+10)}function p(t,e,n){n=n||{},null===e&&(e="",n.expires=-1);var r="";if(n.expires&&("number"==typeof n.expires||n.expires.toUTCString)){var o;"number"==typeof n.expires?(o=new Date,o.setTime(o.getTime()+864e5*n.expires)):o=n.expires,r="; expires="+o.toUTCString()}var i=n.path?"; path="+n.path:"",s=n.secure?"; secure":"",a="";n.domain?a="; domain="+n.domain:(a=document.domain.toString().split("."),a="; domain=."+a[1]+"."+a[2]),document.cookie=[t,"=",encodeURIComponent(e),r,i,a,s].join("")}function f(t){var e=document.cookie.match(new RegExp("(^| )"+t+"=([^;]*)(;|$)"));return null!==e?decodeURIComponent(e[2]):""}function d(){return++window._mwpJsonpID||(window._mwpJsonpID=1)}function l(t){if(t.ret===H.Success)return t.data;throw Object.assign(Object.create(new Error(t.msg||C)),{code:t.ret,payload:t})}function m(){var t=window.M;if(t){if(t.isDev("test"))return I.Develop;if(t.isDev("local")||t.isDev("pre"))return I.PreRelease}}function y(t){if(!t)return Promise.resolve(!1);var e=window.hdp;try{if(e&&e.isApp())return e.getObj("mgj").then(function(t){return t.mwpEnable},function(){return Promise.resolve(!1)});var n=navigator.userAgent.toLowerCase();return t.test(n)?window.mgj?Promise.resolve(window.mgj.mwpEnable===!0):new Promise(function(t){document.addEventListener("deviceready",function(){try{t(window.mgj.mwpEnable===!0)}catch(e){t(!1)}},!1)}):Promise.resolve(!1)}catch(r){return Promise.resolve(!1)}}function g(t){return t&&"function"==typeof t.then}function v(t,e){return e={exports:{}},t(e,e.exports),e.exports}function w(t){return!!t.constructor&&"function"==typeof t.constructor.isBuffer&&t.constructor.isBuffer(t)}function b(t){return"function"==typeof t.readFloatLE&&"function"==typeof t.slice&&w(t.slice(0,0))}function _(t){return t?"string"==typeof t?t:JSON.stringify(t):""}var P,S=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},O=/&/,T=/\+/g,j=Object.prototype.hasOwnProperty,E=function(t){return t},k=window.fetch,x=window.location,R={text:"text/plain",form:"application/x-www-form-urlencoded",json:"application/json"},D=window.navigator.userAgent.indexOf("MSIE 8.0")>=0,M="\u7f51\u7edc\u9519\u8bef\uff0c\u8bf7\u7a0d\u5019\u518d\u8bd5",C="\u670d\u52a1\u5668\u5f00\u5c0f\u5dee\u4e86\uff0c\u8bf7\u7a0d\u5019\u518d\u8bd5";!function(t){t.MGJ="mgj",t.MLS="mls",t.XD="xd"}(P||(P={}));var A,I={Develop:"DEVELOP",PreRelease:"PRE_RELEASE",Release:"RELEASE"},H={Success:"SUCCESS",NeedHttps:"FAIL_SYS_NEED_HTTPS",TokenNeedRenew:"FAIL_SYS_TOKEN_NEED_RENEW",SessionInvalid:"FAIL_BIZ_SESSION_INVALID"},N=function(){try{var t=location.hostname;if(/(mogujie\.org|meili-inc\.com)$/.test(t))return"nsh5"}catch(e){}return"h5"}(),L=(A={},A[P.MGJ]={Develop:"devapi.mogujie.com",PreRelease:"newpreapi.mogujie.com",Release:"api.mogujie.com"},A[P.MLS]={Develop:"devapi.meilishuo.com",PreRelease:"preapi.meilishuo.com",Release:"api.meilishuo.com"},A[P.XD]={Develop:"devapi.xiaodian.com",PreRelease:"preapi.xiaodian.com",Release:"api.xiaodian.com"},A),W="_mwp_h5_token",B="__mgjuuid",J=function(){function t(){this.data={}}return t.prototype.add=function(t,e,n){return void 0===n&&(n=null),this.data[t+"."+e]=n,this},t.prototype.toObject=function(){return this.data},t}(),U=function(){function t(t){this.callbacks={},this.Request=t}return t.prototype.addParameter=function(t,e,n){return this.parameter||(this.parameter=new J),this.parameter.add(t,e,n),this},t.prototype.request=function(t,e,n,r){var o,i=this;return n instanceof J?o=n.toObject():(o=this.parameter?this.parameter.toObject():null,r||(r=n||{})),this.promise=this.Request.request(t,e,o,r).then(function(t){return i.result=t,i.Request.filterResult(t)}).then(function(t){var e=Object.keys(t).filter(function(t){return t in i.callbacks}).map(function(e){return i.callbacks[e](t[e])}).filter(g);return e.length>0?i.Request.Promise.all(e).then(function(){return i.result}):i.result}),this},t.prototype.on=function(t,e){return this.callbacks[t]||(this.callbacks[t]=e),this},t.prototype.then=function(t,e){return this.promise=this.promise.then(t,e),this},t.prototype["catch"]=function(t){return this.promise=this.promise["catch"](t),this},t.Parameter=J,t}(),q=v(function(t){!function(){var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",n={rotl:function(t,e){return t<<e|t>>>32-e},rotr:function(t,e){return t<<32-e|t>>>e},endian:function(t){if(t.constructor==Number)return 16711935&n.rotl(t,8)|4278255360&n.rotl(t,24);for(var e=0;e<t.length;e++)t[e]=n.endian(t[e]);return t},randomBytes:function(t){for(var e=[];t>0;t--)e.push(Math.floor(256*Math.random()));return e},bytesToWords:function(t){for(var e=[],n=0,r=0;n<t.length;n++,r+=8)e[r>>>5]|=t[n]<<24-r%32;return e},wordsToBytes:function(t){for(var e=[],n=0;n<32*t.length;n+=8)e.push(t[n>>>5]>>>24-n%32&255);return e},bytesToHex:function(t){for(var e=[],n=0;n<t.length;n++)e.push((t[n]>>>4).toString(16)),e.push((15&t[n]).toString(16));return e.join("")},hexToBytes:function(t){for(var e=[],n=0;n<t.length;n+=2)e.push(parseInt(t.substr(n,2),16));return e},bytesToBase64:function(t){for(var n=[],r=0;r<t.length;r+=3)for(var o=t[r]<<16|t[r+1]<<8|t[r+2],i=0;4>i;i++)8*r+6*i<=8*t.length?n.push(e.charAt(o>>>6*(3-i)&63)):n.push("=");return n.join("")},base64ToBytes:function(t){t=t.replace(/[^A-Z0-9+\/]/gi,"");for(var n=[],r=0,o=0;r<t.length;o=++r%4)0!=o&&n.push((e.indexOf(t.charAt(r-1))&Math.pow(2,-2*o+8)-1)<<2*o|e.indexOf(t.charAt(r))>>>6-2*o);return n}};t.exports=n}()}),G={utf8:{stringToBytes:function(t){return G.bin.stringToBytes(unescape(encodeURIComponent(t)))},bytesToString:function(t){return decodeURIComponent(escape(G.bin.bytesToString(t)))}},bin:{stringToBytes:function(t){for(var e=[],n=0;n<t.length;n++)e.push(255&t.charCodeAt(n));return e},bytesToString:function(t){for(var e=[],n=0;n<t.length;n++)e.push(String.fromCharCode(t[n]));return e.join("")}}},X=G,K=function(t){return null!=t&&(w(t)||b(t)||!!t._isBuffer)},F=v(function(t){!function(){var e=q,n=X.utf8,r=K,o=X.bin,i=function(t,s){t.constructor==String?t=s&&"binary"===s.encoding?o.stringToBytes(t):n.stringToBytes(t):r(t)?t=Array.prototype.slice.call(t,0):Array.isArray(t)||(t=t.toString());for(var a=e.bytesToWords(t),u=8*t.length,c=1732584193,h=-271733879,p=-1732584194,f=271733878,d=0;d<a.length;d++)a[d]=16711935&(a[d]<<8|a[d]>>>24)|4278255360&(a[d]<<24|a[d]>>>8);a[u>>>5]|=128<<u%32,a[(u+64>>>9<<4)+14]=u;for(var l=i._ff,m=i._gg,y=i._hh,g=i._ii,d=0;d<a.length;d+=16){var v=c,w=h,b=p,_=f;c=l(c,h,p,f,a[d+0],7,-680876936),f=l(f,c,h,p,a[d+1],12,-389564586),p=l(p,f,c,h,a[d+2],17,606105819),h=l(h,p,f,c,a[d+3],22,-1044525330),c=l(c,h,p,f,a[d+4],7,-176418897),f=l(f,c,h,p,a[d+5],12,1200080426),p=l(p,f,c,h,a[d+6],17,-1473231341),h=l(h,p,f,c,a[d+7],22,-45705983),c=l(c,h,p,f,a[d+8],7,1770035416),f=l(f,c,h,p,a[d+9],12,-1958414417),p=l(p,f,c,h,a[d+10],17,-42063),h=l(h,p,f,c,a[d+11],22,-1990404162),c=l(c,h,p,f,a[d+12],7,1804603682),f=l(f,c,h,p,a[d+13],12,-40341101),p=l(p,f,c,h,a[d+14],17,-1502002290),h=l(h,p,f,c,a[d+15],22,1236535329),c=m(c,h,p,f,a[d+1],5,-165796510),f=m(f,c,h,p,a[d+6],9,-1069501632),p=m(p,f,c,h,a[d+11],14,643717713),h=m(h,p,f,c,a[d+0],20,-373897302),c=m(c,h,p,f,a[d+5],5,-701558691),f=m(f,c,h,p,a[d+10],9,38016083),p=m(p,f,c,h,a[d+15],14,-660478335),h=m(h,p,f,c,a[d+4],20,-405537848),c=m(c,h,p,f,a[d+9],5,568446438),f=m(f,c,h,p,a[d+14],9,-1019803690),p=m(p,f,c,h,a[d+3],14,-187363961),h=m(h,p,f,c,a[d+8],20,1163531501),c=m(c,h,p,f,a[d+13],5,-1444681467),f=m(f,c,h,p,a[d+2],9,-51403784),p=m(p,f,c,h,a[d+7],14,1735328473),h=m(h,p,f,c,a[d+12],20,-1926607734),c=y(c,h,p,f,a[d+5],4,-378558),f=y(f,c,h,p,a[d+8],11,-2022574463),p=y(p,f,c,h,a[d+11],16,1839030562),h=y(h,p,f,c,a[d+14],23,-35309556),c=y(c,h,p,f,a[d+1],4,-1530992060),f=y(f,c,h,p,a[d+4],11,1272893353),p=y(p,f,c,h,a[d+7],16,-155497632),h=y(h,p,f,c,a[d+10],23,-1094730640),c=y(c,h,p,f,a[d+13],4,681279174),f=y(f,c,h,p,a[d+0],11,-358537222),p=y(p,f,c,h,a[d+3],16,-722521979),h=y(h,p,f,c,a[d+6],23,76029189),c=y(c,h,p,f,a[d+9],4,-640364487),f=y(f,c,h,p,a[d+12],11,-421815835),p=y(p,f,c,h,a[d+15],16,530742520),h=y(h,p,f,c,a[d+2],23,-995338651),c=g(c,h,p,f,a[d+0],6,-198630844),f=g(f,c,h,p,a[d+7],10,1126891415),p=g(p,f,c,h,a[d+14],15,-1416354905),h=g(h,p,f,c,a[d+5],21,-57434055),c=g(c,h,p,f,a[d+12],6,1700485571),f=g(f,c,h,p,a[d+3],10,-1894986606),p=g(p,f,c,h,a[d+10],15,-1051523),h=g(h,p,f,c,a[d+1],21,-2054922799),c=g(c,h,p,f,a[d+8],6,1873313359),f=g(f,c,h,p,a[d+15],10,-30611744),p=g(p,f,c,h,a[d+6],15,-1560198380),h=g(h,p,f,c,a[d+13],21,1309151649),c=g(c,h,p,f,a[d+4],6,-145523070),f=g(f,c,h,p,a[d+11],10,-1120210379),p=g(p,f,c,h,a[d+2],15,718787259),h=g(h,p,f,c,a[d+9],21,-343485551),c=c+v>>>0,h=h+w>>>0,p=p+b>>>0,f=f+_>>>0}return e.endian([c,h,p,f])};i._ff=function(t,e,n,r,o,i,s){var a=t+(e&n|~e&r)+(o>>>0)+s;return(a<<i|a>>>32-i)+e},i._gg=function(t,e,n,r,o,i,s){var a=t+(e&r|n&~r)+(o>>>0)+s;return(a<<i|a>>>32-i)+e},i._hh=function(t,e,n,r,o,i,s){var a=t+(e^n^r)+(o>>>0)+s;return(a<<i|a>>>32-i)+e},i._ii=function(t,e,n,r,o,i,s){var a=t+(n^(e|~r))+(o>>>0)+s;return(a<<i|a>>>32-i)+e},i._blocksize=16,i._digestsize=16,t.exports=function(t,n){if(void 0===t||null===t)throw new Error("Illegal argument "+t);var r=e.wordsToBytes(i(t,n));return n&&n.asBytes?r:n&&n.asString?o.bytesToString(r):e.bytesToHex(r)}}()}),Y="mw-ttid",Q="mw-t",V="data",$="mw-appkey",z="mw-sign",Z="mw-did",tt="mw-uid",et="mw-cmd-v",nt="mw-uuid",rt=["mw-pv","mw-sid",Z];"function"!=typeof Date.now&&(Date.now=function(){return(new Date).getTime()});var ot=function(){function t(){this._params={},this._omitted={}}return t.prototype.add=function(t,e){return rt.indexOf(t)>=0?(this._omitted[t]=e,this):((e||"data"===t)&&(this._params[t]=e),this)},t.prototype.sign=function(t,e,n,r){var o=this._params,i=Object.keys(o);return i.sort(),F(i.map(function(t){return o[t]}).concat([t,e,F(n),r]).join("&"))},t.prototype.getSignedParams=function(t){var e=this,n=t.constructor;this.add($,n.AppKey).add(Q,String(Date.now())).add(nt,t.getUUID()).add(Y,n.TTID);var r=t.getMWPCookieHeader();Object.keys(r).forEach(function(t){t.startsWith("mw-cookie-")&&e.add(t,r[t])});var o=_(t.data);return this.add(z,this.sign(t.api,t.version,o,t.getToken())).add(V,o),Object.assign({},this._omitted,this._params)},t.getSignedParams=function(e){return(new t).getSignedParams(e)},t}();!function(t){t.Key={KEY_DEVICE_ID:Z,KEY_UID:tt,KEY_CMD_V:et}}(ot||(ot={}));var it,st=ot,at=function(){function t(t){var e=this;this.callback=t,this.promise=new Promise(function(t,n){e.resolve=t,e.reject=n})}return t.prototype.exec=function(){return this.callback().then(this.resolve,this.reject)},t.prototype.then=function(t,e){return this.promise=this.promise.then(t,e)},t.prototype["catch"]=function(t){return this.promise=this.promise["catch"](t)},t}(),ut=function(){function t(){this.tasks=[]}return t.createQueue=function(){var t=new this;return this.instances.push(t),t},t.getQueue=function(){return this.instances[0]},t.prototype.add=function(t){try{var e=new at(t);return this.tasks.push(e),e}catch(n){return null}},t.prototype.exec=function(){var e=this;if(t.instances=t.instances.filter(function(t){return e!==t}),null===this.tasks||0===this.tasks.length)return Promise.resolve();var n=function(){return e.tasks=null};return Promise.all(this.tasks.map(function(t){return t.exec()})).then(n,n)},t.instances=[],t}(),ct=function(){function t(t,e,n){void 0===n&&(n={}),this.retries=1,this.api=t,this.version=e;var r=this.constructor.defaultOptions;this.options=Object.assign({},r,n),this.options.headers=Object.assign({},r.headers,n.headers)}return t.getContext=function(t,e,n){return new this(t,e,n)},t.request=function(t,e,n,r){return this.getContext(t,e,r).request(n)},t.setHeader=function(t,e){var n=this.defaultOptions;n.headers||(n.headers={}),n.headers[t]=e},t.getDSL=function(){return new U(this)},t.getDSLParameter=function(){return new U.Parameter},t.setGlobalEnv=function(t){t&&(this.defaultOptions.env=t)},t.getGlobalEnv=function(){return this.defaultOptions.env},t.getMWPCookies=function(t,e){return this.MWPCookieJar.getCookies(this.getContext(t,e))},t.prototype.shouldRetry=function(){return this.retries<5},t.prototype.getToken=function(){throw new Error("Method not implemented.")},t.prototype.getUUID=function(){return""},t.prototype.getParams=function(){return st.getSignedParams(this)},t.prototype.getHostname=function(){var t=this.constructor.Hostname;switch(this.options.env){case I.Develop:return t.Develop;case I.PreRelease:return t.PreRelease;default:return t.Release}},t.prototype.getOrigin=function(){var t=this.options,e=t.useHTTPS?"https:":"http:";return e+"//"+this.getHostname()},t.prototype.getURL=function(){return this.getOrigin()+"/"+N+"/"+this.api+"/"+this.version+"/"},t.prototype.getHeaders=function(){return Object.assign({},this.options.headers)},t.prototype.getMWPCookies=function(){return this.constructor.MWPCookieJar.getCookies(this)},t.prototype.getMWPCookieHeader=function(){var t={},e=this.getMWPCookies();return Object.keys(e).length>0&&(t["mw-cookie-"+this.api.replace(/\./g,"")+this.version]=Object.keys(e).map(function(t){return t+"="+e[t]}).join("; ")+";"),t},t.prototype.request=function(t){return this.data=t,this.getToken()?this._fetch():this.enqueue()},t.prototype.fetch=function(t,e){e(new Error("Please implement `fetch` method in your own subclass"))},t.prototype.handleResponse=function(t){switch(t.ret){case H.TokenNeedRenew:return this._fetch();case H.NeedHttps:return this.options.useHTTPS=!0,this._fetch();default:return this.constructor.Promise.resolve(t)}},t.prototype._fetch=function(){var t=this;return new this.constructor.Promise(function(e,n){return t.shouldRetry()?(t.retries++,void t.fetch(e,n)):(console.warn("Have retried too much times"),n(new Error(C)))}).then(function(e){return t.handleResponse(e)})},t.prototype.enqueue=function(){var t=ut.getQueue();if(t){var e=t.add(this._fetch.bind(this));return null===e?this._fetch():e}t=ut.createQueue();var n=this._fetch(),r=t.exec.bind(t);return n.then(r,r),n},t.Promise=Promise,t.Env=I,t.Hostname=L[P.MGJ],t.Code=H,t.defaultOptions={useHTTPS:!1,env:I.Release},t.v="3.1.3",t.filterResult=l,t}(),ht=/iPhone|iPad|iPod|Android|BlackBerry|IEMobile|Opera Mini/i;!function(t){t.PC="pc",t.H5="h5"}(it||(it={}));var pt,ft,dt,lt=(pt={},pt[P.MGJ]=/\.mogujie\.com$/,pt[P.MLS]=/\.meilishuo\.com$/,pt[P.XD]=/\.xiaodian\.com$/,pt),mt=(ft={},ft[P.MGJ]=/mogujie4/,ft[P.XD]=/xiaodian4/,ft),yt=(dt={},dt[P.MGJ]="100028",dt[P.MLS]="100066",dt[P.XD]="100028",dt),gt=function(){function t(e){void 0===e&&(e=location.hostname),this.userAgent=navigator.userAgent.toLowerCase(),this.version="1.0",this.type=t.getType(e),this.platform=t.getPlatform(this.userAgent)}return t.getType=function(t){var e=P.MGJ;return Object.keys(lt).some(function(n){return lt[n].test(t)?(e=n,!0):!1}),e},t.getPlatform=function(e){return t.isMobile(e)?it.H5:it.PC},t.isMobile=function(t){return ht.test(t)},t.prototype.getHostname=function(){return L[this.type]},t.prototype.getUserAgentTester=function(){return mt[this.type]},t.prototype.getTTID=function(){return"NMMain@"+[this.type,this.platform,this.version].join("_")},t.prototype.getAppKey=function(){return yt[this.type]},t}(),vt=function(){},wt=function(e){function r(){var t=null!==e&&e.apply(this,arguments)||this;return t.retriesOnSignError=!1,t}return t(r,e),r.config=function(t){void 0===t&&(t={});var e=this.adaptor;["type","platform","version"].forEach(function(n){t[n]&&(e[n]=t[n])}),this.AppKey=e.getAppKey(),this.TTID=e.getTTID(),this.Hostname=e.getHostname(),this.useNativeMWP=y(e.getUserAgentTester()),this.setGlobalEnv(t.env)},r.prototype.request=function(t){var n=this;return r.useNativeMWP.then(function(r){return r?(n.data=t,n._fetch()):e.prototype.request.call(n,t)})},r.prototype.getToken=function(){return f(W)},r.prototype.getUUID=function(){return f(B)},r.prototype.getParams=function(){var t=new st,e=this.options.headers;return e&&Object.keys(e).forEach(function(n){n.startsWith("mw-")&&t.add(n,e[n])}),t.getSignedParams(this)},r.prototype.fetch=function(t,e){var n=this;return this.options.forceJSONP?void this._fetchByWeb(t,e):void r.useNativeMWP.then(function(r){r?n._fetchByNative(t,e):n._fetchByWeb(t,e)})},r.prototype.getMWPCookieHeader=function(){return{}},r.prototype.getMWPCookies=function(){return{}},r.prototype._fetchByNative=function(t,e){"number"==typeof this.version&&(this.version=String(this.version)),window.mgj.ajax.mwp(t,e,this.api,this.version,this.data,"get",!this.options.useHTTPS)},r.prototype._fetchByWeb=function(t,e){var n=function(n,r){return n?void e(n):void t(r)};this.options.cors===!0?this._fetchWithCORS(n):this._fetchWithJSONP(n)},r.prototype._fetchWithJSONP=function(t){var e=this.getURL(),r=this.getParams(),o="mwpCb"+d();this.constructor.adaptor.userAgent.indexOf("xcore")>-1?(window[o]=function(e){t(null,e)},r.callback=o,r._=Date.now(),loader.script(e+(~e.indexOf("?")?"&":"?")+n(r),vt,t)):i(e,{data:r,jsonpCallback:o},t)},r.prototype._fetchWithCORS=function(t){var e=this.getURL(),n=this.getParams(),r={method:this.options.method,data:n,dataType:"json",credentials:"include",headers:{"content-type":R.form}};"function"==typeof fetch?a(e,r,t):XMLHttpRequest?s(e,r,t):this._fetchWithJSONP(t)},r.prototype.handleResponse=function(t){return"FAIL_SYS_SIGN_ERROR"!==t.ret||this.retriesOnSignError?e.prototype.handleResponse.call(this,t):(this.retriesOnSignError=!0,ut.getQueue()||p("_mwp_h5_token",null,{domain:".meilishuo.com",path:"/"}),this.enqueue())},r.adaptor=new gt,r.Platform={PC:it.PC,H5:it.H5},r.Type={MGJ:P.MGJ,MLS:P.MLS,XD:P.XD},r.defaultOptions=Object.assign({},ct.defaultOptions,{useHTTPS:"https:"===location.protocol,method:"GET"}),r}(ct);return wt.config(),wt.setGlobalEnv(m()),wt}()}(this.M||this.MoGu||this);
!function(a){function e(t){if(i[t])return i[t].exports;var n=i[t]={exports:{},id:t,loaded:!1};return a[t].call(n.exports,n,n.exports,e),n.loaded=!0,n.exports}var i={};return e.m=a,e.c=i,e.p="",e(0)}([function(a,e,i){"use strict";function t(a){function e(a){if(R||A||M.pc.isTopSideNavOpen)o();else for(var e=0;e<S.length;e++){var i=S[e].topBarUrl,t=a.indexOf(i)>-1;if(t){o();break}}}function i(a){if(R||A||M.pc.isTopSideNavOpen)n();else for(var e=0;e<L.length;e++){var i=L[e].sideBarUrl,t=a.indexOf(i)>-1;if(t){n();break}}}var t=a.time.getTime()/1e3;M.http.jsonp({url:z.maitUrl,jsonpCallback:"jsonp6583_6584",data:{pids:"6583,6584,21943,21944"}}).then(function(a){a.success&&"SUCCESS"==a.returnCode&&a.data[6583].list.length>0&&a.data[6584].list.length>0&&a.data[21943].list.length>0&&a.data[21944].list.length>0&&(k=a.data[6583].list[0],C=a.data[6584].list[0],S=a.data[21943].list,L=a.data[21944].list,j="false"==k.openFlag,j&&(t=parseInt(P||0)),t>k.actOpenTime&&t<k.actCloseTime&&(x=!0,t>k.actSellTime&&(y=!0),e(U),i(U)))})}function n(){var a=r(C);$("#mgj_rightbar_blank_div").css("display","none"),f.prepend(a),f.css("z-index","10000"),function(a,e){function i(e,i,r,s){e[t](o+i,"wheel"==n?r:function(e){!e&&(e=a.event);var i={originalEvent:e,target:e.target||e.srcElement,type:"wheel",deltaMode:"MozMousePixelScroll"==e.type?0:1,deltaX:0,deltaY:0,preventDefault:function(){e.preventDefault?e.preventDefault():e.returnValue=!1}};return"mousewheel"==n?(i.deltaY=-1/40*e.wheelDelta,e.wheelDeltaX&&(i.deltaX=-1/40*e.wheelDeltaX)):i.deltaY=e.detail,r(i)},s||!1)}var t,n,o="";a.addEventListener?t="addEventListener":(t="attachEvent",o="on"),n="onwheel"in e.createElement("div")?"wheel":void 0!==e.onmousewheel?"mousewheel":"DOMMouseScroll",a.addWheelListener=function(a,e,t){i(a,n,e,t),"DOMMouseScroll"==n&&i(a,"MozMousePixelScroll",e,t)}}(window,document);var e={goTop:f.find(".mgj-back2top"),sidebar:f,sidebarCart:f.find(".mgj-my-cart"),eleBtn:$(".mgj_rightbar").find(".actnav_box"),eleBack:$(".mgj_actnav_box .ele_header_cont i"),eleBox:$(".mgj_actnav_box"),sidebarShow:!1,isLogin:!1,contentIds:"2603,2426,2421,2427,38726",redContentAdd:!1,fullReturnAdd:!1,shopCouponAdd:!1,redGoodsId:"",campaignId:"",goodShopId:"",mainUrl:"",redpayDetail:"",fullreturnDetail:"",userInfo:{uuid:"",avatar:""},init:function(){var a=this;a.goTop.length&&(a.offsetEl=$(".wrap").length?$(".wrap").eq(0):$("#body_wrap"),a.offsetEl.length&&(a.win=$(window),a.setSidebarPos(),a.redGoodsId=k.goodsLikeId,a.campaignId=k.redKey,a.redpayDetail=k.redpayDetail,a.fullreturnDetail=k.fullreturnDetail,a.goodShopId=k.goodShopId,a.rulePageUrl=k.link,M.getUUID().then(function(e){a.userInfo.uuid=e}),a.getActContentMait(),M.getUserInfo().then(function(e){M.log(e),a.isLogin=!0,a.userInfo.avatar=e.avatar,a.addEvent()})["catch"](function(){a.isLogin=!1,a.addEvent()})))},getActContentMait:function(){var a=this;M.http.jsonp({url:z.maitUrl,jsonpCallback:"jsonp2603_2426_2421_2427_38726",data:{pids:a.contentIds}}).then(function(e){e.success&&"SUCCESS"==e.returnCode?($("#enterArea").html(s({data:e.data})),$(".shop-top-enter-area").html(d({data:e.data})),a.mainUrl=e.data[2426].list[0].link,$(".J_act_main_link").attr("href",a.mainUrl),$(".J_act_rule_link").attr("href",a.rulePageUrl)):$("#enterArea .ele_loading_text").show()})["catch"](function(){$("#enterArea .ele_loading_text").show()})},guessLike:function(){var a=this,e={pid:a.redGoodsId,pageSize:60,plat:"pc",uuid:a.userInfo.uuid};a.isLogin&&a.userInfo.uid&&(e.uidE=a.userInfo.uid),M.http.jsonp({url:z.guessLikeUrl,data:e}).then(function(a){if(a.success&&"SUCCESS"==a.returnCode&&a.data.list.length>0){for(var e=a.data.list,i=[],t=[],n=[],o={isFormal:y,list:e},r=0;r<e.length;r++){var s=e[r].image;e[r].price=Math.floor(e[r].price),s.indexOf(".jpg")>0&&s.indexOf(".jpg_")<0&&(e[r].image+="_160x999.jpg")}$("#act_goods_like_box").html(l(o));for(var r=0;r<e.length;r++)i.push(e[r].item_id),t.push(r),n.push(e[r].acm);u._pushLog({eventid:70500,iids:i,indexs:t,acms:n},70500)}else $("#act_goods_like_box .ele_loading_text").show()})["catch"](function(){$("#act_goods_like_box .ele_loading_text").show()})},getRedContent:function(){function a(){if(i.redContentAdd)return!1;i.redContentAdd=!0;var a={isLogin:i.isLogin,mainUrl:i.mainUrl,hasRedpay:!1,price:0,link:""};i.isLogin?M.http.jsonp({url:z.redpayUrl,data:{campaignId:i.campaignId}}).then(function(e){if("SUCCESS"==e.returnCode){var t=e.data.num;+t?(a.hasRedpay=!0,a.price=(t/100).toFixed(2),a.link=i.redpayDetail):(a.hasRedpay=!1,a.price=0)}else 1004!=e.returnCode&&4004!=e.returnCode||(a.hasRedpay=!1);$("#redpayArea").html(c(a))}):$("#redpayArea").html(c(a))}function e(){if(i.fullReturnAdd)return!1;i.fullReturnAdd=!0;var a={price:0,isLogin:!1,hasFullReturn:!1,mainUrl:i.mainUrl,link:i.fullreturnDetail};M.http.jsonp({url:z.fullReturnUrl}).then(function(e){if("SUCCESS"==e.returnCode){var i=e.data.totalAmout;i>0?(a.isLogin=!0,a.hasFullReturn=!0,a.price=(i/100).toFixed(2)):(a.isLogin=!0,a.hasFullReturn=!1)}else 16e4==e.returnCode?(a.isLogin=!0,a.hasFullReturn=!1):"1002"==e.returnCode&&(a.isLogin=!1,a.hasFullReturn=!1);$("#fullReturnArea").html(h(a))})}var i=this,t=$(".redpay_pre_header"),n=$(".redpay_header");a(),y&&w&&(t.removeClass("show").addClass("hide"),n.removeClass("hide").addClass("show"),e()),i.guessLike()},getShopContent:function(){function a(){return i.shopCouponAdd?!1:(i.shopCouponAdd=!0,void M.http.jsonp({url:z.shopCouponUrl}).then(function(a){if(a&&1001==a.returnCode&&a.data&&a.data.couponList&&a.data.couponList.length>0){for(var e=a.data.couponList,i=[],t={isFormal:y,list:e,link:a.data.moreUrl},n=0;n<e.length;n++){var o=e[n].recommendItemCover,r=e[n].cutPrice,s=e[n].limitPrice;o.indexOf(".jpg")>0&&o.indexOf(".jpg_")<0&&(e[n].recommendItemCover+="_160x999.jpg"),e[n].cutPrice=r/100,e[n].limitPrice=s/100}$("#act-shop-coupon-box").html(v(t));for(var n=0;n<e.length;n++)i.push(n);u._pushLog({eventid:70500,indexs:i},70500)}else $("#act-shop-coupon-box .ele_body_loading").hide()})["catch"](function(){$("#act-shop-coupon-box .ele_body_loading").hide()}))}function e(){M.http.jsonp({url:z.goodShopUrl,data:{pid:i.goodShopId,uuid:i.userInfo.uuid}}).then(function(a){if(a.success&&"SUCCESS"==a.returnCode&&a.data.list.length>0){for(var e=a.data,i=e.list,t=[],n=[],o=[],r={isFormal:y,list:i},s=0;s<i.length;s++){var d=i[s].list[0].image;d.indexOf(".jpg")>0&&d.indexOf(".jpg_")<0&&(i[s].list[0].image+="_160x999.jpg")}$("#act-good-shop-box").html(g(r));for(var s=0;s<i.length;s++)t.push(i[s].shop_id),n.push(s),o.push(i[s].acm);u._pushLog({eventid:70500,iids:t,indexs:n,acms:o},70500)}else $("#act-good-shop-box .ele_loading_text").show()})["catch"](function(){$("#act-good-shop-box .ele_loading_text").show()})}var i=this;a(),e()},addEvent:function(){var a=this,e=$("#showRuleBtn"),i=$("#showRuleFullReturnBtn"),t=$("#ruleArea"),n=$("#ruleFullReturnArea");if(this.win.on("resize",function(e){a.setSidebarPos()}),this.sidebarCart.off().on("mouseenter",function(){a.win.width()>b||a.sidebarShow||a.showSidebar()}),this.sidebar.off().on("mouseleave",function(){a.win.width()>b||a.sidebarShow||a.hideSidebar()}),this.eleBtn.on("click",".actnav_mainin",function(){$(this).hasClass("act_nav_tab_on")||a.changeSiderbarContent(1)}),this.eleBtn.on("click",".actnav_favor",function(){$(this).hasClass("act_nav_tab_on")||(a.changeSiderbarContent(0),a.guessLike())}),$("body").on("click",function(e){var i=$(e.target);i[0]!=f[0]&&0==f.find(i).length&&a.sidebarShow&&(a.hideSidePanel(),a.hideSidebar())}),a.eleBox.on("click",".ele_header_cont i",function(){a.sidebarShow&&(a.hideSidePanel(),a.hideSidebar())}),e.add(t).on("mouseenter",function(){t.addClass("show")}),e.add(t).on("mouseleave",function(){t.removeClass("show")}),i.add(n).on("mouseenter",function(){n.addClass("show")}),i.add(n).on("mouseleave",function(){n.removeClass("show")}),y){var o=$(".redpay_item"),r=$(".fullreturn_item"),s=$(".redpay-user-box"),d=$(".fullreturn-user-box"),l=$(".hover_line");o.on("click",function(){s.removeClass("hide").addClass("show"),d.removeClass("show").addClass("hide"),l.animate({left:"24px"})}),r.on("click",function(){s.removeClass("show").addClass("hide"),d.removeClass("hide").addClass("show"),l.animate({left:"136px"})})}addWheelListener(a.eleBox[0],function(e){var i=60;-1!=navigator.appVersion.indexOf("Mac")&&(i=10),0!=e.deltaY&&(a.eleBox[0].scrollTop+=e.deltaY>0?i:-i),e.preventDefault()}),a.isLogin||f.on("click","#goLogin",function(a){var e="//portal.mogujie.com/user/login?refer="+B;a.preventDefault(),window.location=e})},setSidebarPos:function(){var a=(this.offsetEl.offset(),this.offsetEl.outerWidth(),this.win.width());b>a?this.hideSidebar():this.showSidebar(),this.hideSidePanel()},showSidePanel:function(){this.sidebar.stop().animate({right:"270px"}),this.eleBox.stop().animate({right:"0px"}),this.sidebarShow=!0},hideSidePanel:function(){this.eleBox.stop().animate({right:"-270px"}),this.sidebarShow=!1,this.eleBtn.find(".act_nav_tab").removeClass("act_nav_tab_on")},changeSiderbarContent:function(a){this.eleBtn.find(".act_nav_tab").removeClass("act_nav_tab_on"),1==a?($(".body_enter").show().siblings().hide(),this.eleBtn.find(".actnav_mainin").addClass("act_nav_tab_on")):0==a&&($(".body_favor").show().siblings().hide(),this.eleBtn.find(".actnav_favor").addClass("act_nav_tab_on")),this.showSidePanel()},showSidebar:function(){this.sidebarCart.stop().animate({left:"0px"}),this.goTop.stop().animate({left:"0px"}),this.sidebar.removeClass("mini").stop().animate({right:"0px"})},hideSidebar:function(){var a,e=-95,i=0;a=this.win.width()<b?e:i,this.sidebarCart.stop().animate({left:a}),this.goTop.stop().animate({left:a}),this.sidebar.addClass("mini").stop().animate({right:a})}};e.init()}function o(){var a=$('<div class="promotionTopBarContainer"></div>');$("#header").before(a),M.http.jsonp({url:z.maitUrl,jsonpCallback:"jsonp22149_22450",data:{pids:"22149,22450"}}).then(function(e){if("SUCCESS"==e.returnCode&&e.success){var i=e.data[22149].list,t=e.data[22450].list[0];if(!(e&&e.data&&i.length>0&&t))return;a.css("backgroundColor",t.bg_nav_color);var n=!!$("body").hasClass("media_screen_1200"),o=p(i);a.html(o);var r=a.find(".innerwrap"),s=new Image,d="";if(n?(d=t.image_big,s.src=d):(d=t.image_small,s.src=d),s.complete)return r.css("background-image","url("+s.src+")"),void a.animate({"margin-top":"0"});s.onload=function(){r.css("background-image","url("+s.src+")"),a.animate({"margin-top":"0"})}}})}i(1);var r=i(3),s=i(4),d=i(5),l=i(6),c=i(7),v=i(8),g=i(9),h=i(10),p=i(11),u={};u._pushLog=function(a,e){setTimeout(function(){if(window.logger&&logger.log)try{logger.log(e,a)}catch(i){M.log(i)}else if(window.detePtp&&detePtp.logFromtSend){var t=window.detePtp._collectParams||{};a.ptp_cnt=t.ptp_cnt||"",a.ptp_url=t.ptp_url||"",a.ptp_ref=t.ptp_ref||"";try{detePtp.logFromtSend("e",e,a)}catch(i){M.log(i)}}},1e3)};var _=M.ua,m=_.ie67,b=1260,f=$(".mgj_rightbar"),x=!1,y=!1,j=0,w=0,k={},C={},S="",L="",U=location.href.split("?")[0],B=location.href,P=M.fn.getQueryString("_act_set_time",B),R=!1,I=$("#shopBaseUrlSec");I.length>0&&(R=location.host==I.val().split("/")[2]||"shop.mogujie.com"==location.host);var A="http://www.mogujie.com/"===U||"http://www.mogujie.com"===U||"http://www.mogujie.com/index"===U;M.pc.isTopSideNavOpen=!1;var z={maitUrl:"//mce.mogucdn.com/jsonp/multiget/3",redpayUrl:"//promotion.mogujie.com/jsonp/getRedPacket/1",fullReturnUrl:"//hongbao.mogujie.com/jsonp/hongbaoAmount/1",guessLikeUrl:"//mce.mogujie.com/jsonp/get/3",shopCouponUrl:"//www.mogujie.com/mbractivity/myshopcoupon.jsonp",goodShopUrl:"//mce.mogujie.com/jsonp/recommend/4"};P&&(z.maitUrl="//mce.mogujie.com/jsonp/multiget/3?time="+P),m||M.getServerTime().then(function(a){t(a)})},function(a,e){},,function(a,e){a.exports=function(a){var e='<!-- \u4ec5\u6709\u6837\u5f0f\u7684\u60c5\u51b5\uff0c\u901a\u8fc7\u5176\u4ed6tpl\u52a0\u5165\u6570\u636e --><!--\u7a7a\u7684\u53f3\u4fa7\u8fb9\u680f--><div id="mgj_rightbar_top_blank" class="mgj_rightbar_960"></div><!--\u65b9\u4fbf\u5b9amargin\u7684\u7a7adiv-->';return a||(e+='<div id="mgj_rightbar_blank_div"></div>'),e+="<!--1111\u5927\u4fc3\u4fa7\u8fb9\u5bfc\u822a-->",a&&(e+=" <!-- \u9ea6\u7530\u83b7\u53d6\u6837\u5f0f --> <style>  .mgj_rightbar .mgj-my-actnavin .actnav_box .main_link, .mgj_rightbar .mgj-my-actnavin .actnav_box .actnav_mainin, .mgj_rightbar .mgj-my-actnavin .actnav_box .actnav_my, .mgj_rightbar .mgj-my-actnavin .actnav_box .actnav_shop, .mgj_rightbar .mgj-my-actnavin .actnav_box .actnav_favor, .mgj_rightbar .mgj-my-actnavin .actnav_box .actnav_rule, .mgj_rightbar .mgj-my-actnavin .actnav_box .bot_bg { background-image: url("+a.barHeadBg+"); background-repeat: no-repeat; }  .mgj_rightbar .mgj-my-actnavin .actnav_box .actnav_mainin:hover, .mgj_rightbar .mgj-my-actnavin .actnav_box .actnav_mainin.act_nav_tab_on { background: url("+a.pageTabLight+") no-repeat; } .mgj_rightbar .mgj-my-actnavin .actnav_box .actnav_my:hover, .mgj_rightbar .mgj-my-actnavin .actnav_box .actnav_my.act_nav_tab_on { background: url("+a.redTabLight+") no-repeat; } .mgj_rightbar .mgj-my-actnavin .actnav_box .actnav_shop:hover, .mgj_rightbar .mgj-my-actnavin .actnav_box .actnav_shop.act_nav_tab_on { background: url("+a.shopTabLight+") no-repeat; } .mgj_rightbar .mgj-my-actnavin .actnav_box .actnav_favor:hover, .mgj_rightbar .mgj-my-actnavin .actnav_box .actnav_favor.act_nav_tab_on { background: url("+a.favorTabLight+") no-repeat; } .mgj_rightbar .mgj-my-actnavin .actnav_box .actnav_rule:hover, .mgj_rightbar .mgj-my-actnavin .actnav_box .actnav_rule.act_nav_tab_on { background: url("+a.ruleTabLight+") no-repeat; } .mgj_rightbar .mgj-my-actnavin .actnav_box .act_nav_tab_on { width: 110px; }  .mgj_actnav_box .actnavBox_header  { background: url("+a.pageHead+") no-repeat; } .mgj_actnav_box .redpay_pre_header { background: url("+a.redHead+") no-repeat; } .mgj_actnav_box .redpay_header { background: url("+a.redFormalHead+") no-repeat; } .mgj_actnav_box .shop_header { background: url("+a.shopHead+") no-repeat; } .mgj_actnav_box .favor_header { background: url("+a.favorHead+") no-repeat; }   .mgj_actnav_box .actnavBox_body .body_main .body_main_item { background: url("+a.oneM+") no-repeat; } .mgj_actnav_box .actnavBox_body .body_centre .body_centre_item { background: url("+a.twoM+") no-repeat; } .mgj_actnav_box .actnavBox_body .body_main .body_main_item:hover { background: url("+a.oneL+") no-repeat; } .mgj_actnav_box .actnavBox_body .body_centre .body_centre_item:hover { background: url("+a.twoL+") no-repeat; } .mgj_actnav_box .actnavBox_body .body_centre .body_centre_title { background: url("+a.twoTitle+") no-repeat; }  .mgj_rightbar .act-like-goods-area .gap .title { background: url("+a.gTitle+") no-repeat; } .mgj_rightbar .act-like-goods-area span.price-tag { background: url("+a.gp+") no-repeat; } .mgj_rightbar .act-like-goods-area .redpay-use .hb-img { background: url("+a.gr+') no-repeat 0 2px; } </style> <!-- \u5de6\u4fa7\u5bfc\u822a\u56fe\u7247 --> <div class="img_pre_hide" style="height: 0;width: 0;overflow: hidden;"> <img src="'+a.pageTabLight+'" alt=""> <img src="'+a.redTabLight+'" alt=""> <img src="'+a.shopTabLight+'" alt=""> </div> <!-- \u4fa7\u8fb9\u6761 --> <div class="mgj-my-actnavin"> <div class="actnav_box"> <!-- \u8fdb\u5165\u4e3b\u4f1a\u573a --> <a class="main_link J_act_main_link" target="_blank" href="javascript:;"></a> <!-- \u4f1a\u573a\u5bfc\u822a --> <a class="actnav_mainin act_nav_tab" href="javascript:void(0)" rel="nofollow"></a> <!-- \u6211\u7684\u7ea2\u5305 --> <!--<a class="actnav_my act_nav_tab" href="javascript:void(0)" rel="nofollow"></a>--> <!-- \u5e97\u94fa\u4f18\u60e0 --> <!--<a class="actnav_shop act_nav_tab" href="javascript:void(0)" rel="nofollow"></a>--> <!-- \u731c\u4f60\u559c\u6b22 --> <a class="actnav_favor act_nav_tab" href="javascript:void(0)" rel="nofollow"></a> <!-- 321\u89c4\u5219 --> <a class="actnav_rule act_nav_tab J_act_rule_link" target="_blank" href="javascript:;"></a> <!-- \u5e95\u90e8\u56fe\u7247 --> <div class="bot_bg"></div> </div> </div> <!-- \u4fa7\u8fb9\u4e3b\u4f53 --> <div class="mgj_actnav_box"> <!-- \u4f1a\u573a\u5bfc\u822a --> <div class="body_enter"> <!-- \u9876\u90e8\u56fe\u7247 --> <div class="actnavBox_header"> <div class="ele_header_cont"> <i></i> </div> </div> <!-- \u672a\u83b7\u53d6\u5230\u6570\u636e\u65f6\u5360\u4f4d --> <div class="actnavBox_body"> <div id="enterArea">  <div class="ele_body_loading"> <img src="https://s10.mogucdn.com/mlcdn/c45406/170605_68beed891hedb47j43l093ka1f8j3_26x26.gif"> <div class="ele_loading_text">\u670d\u52a1\u5668\u5f00\u5c0f\u5dee\u4e86\uff0c\u8bf7\u7a0d\u540e\u67e5\u770b</div> </div> </div> </div> </div> <!-- \u7ea2\u5305\u9875 --> <!--<div class="body_redpay" > &lt;!&ndash; \u53ea\u6709\u7ea2\u5305\u60c5\u51b5\u5934\u90e8 &ndash;&gt; <div class="actnavBox_header redpay_pre_header show"> <div class="ele_header_cont"> <i></i> </div> </div> &lt;!&ndash; \u6709\u7ea2\u5305\u548c\u6ee1\u8fd4\u60c5\u51b5\u5934\u90e8 &ndash;&gt; <div class="actnavBox_header redpay_header hide"> <div class="ele_header_cont"> <i></i> <div class="redpay_item"></div> <div class="fullreturn_item"></div>  <div class="hover_line"></div> </div> </div> <div class="actnavBox_body"> &lt;!&ndash; \u7ea2\u5305\u4fe1\u606f &ndash;&gt; <div class="redpay-user-box show"> <div class="redpay-desc"> <div class="go-rule" > <span class="show-rule-btn" id="showRuleBtn"> <img src="https://s10.mogucdn.com/p1/160301/upload_ie3weyjwgazgmnzqg4zdambqgayde_16x16.png"> \u4f7f\u7528\u89c4\u5219 </span> </div> <div id="redpayArea"></div> </div> <div class="redpay-rule-box" id="ruleArea"> <div class="popver-trangle"> <img src="https://s10.mogucdn.com/p1/160304/upload_ie3tan3ggiydknzrg4zdambqgayde_34x16.png"> </div> <div class="popver-body "> <div class="popver-title">XXXXXXXXX</div> <div class="popver-content" id="ruleContent"> </div>  </div> </div> </div> &lt;!&ndash; \u6ee1\u8fd4 &ndash;&gt; <div class="fullreturn-user-box hide"> <div class="fullreturn-desc"> <div class="go-full-return-rule" > <span class="show-full-return-rule-btn" id="showRuleFullReturnBtn"> <img src="https://s10.mogucdn.com/p1/160301/upload_ie3weyjwgazgmnzqg4zdambqgayde_16x16.png"> \u6ee1\u8fd4\u6d3b\u52a8\u89c4\u5219 </span> </div> <div id="fullReturnArea"></div> </div> <div class="fullreturn-rule-box" id="ruleFullReturnArea"> <div class="popver-trangle"> <img src="https://s10.mogucdn.com/p1/160304/upload_ie3tan3ggiydknzrg4zdambqgayde_34x16.png"> </div> <div class="popver-body "> <div class="popver-title">XXXXXXXXX</div> <div class="popver-content" id="ruleFullReturnContent"> </div>  </div> </div> </div> &lt;!&ndash; \u731c\u4f60\u559c\u6b22 &ndash;&gt; <div id="act_goods_like_box">  <div class="ele_body_loading"> <img src="https://s10.mogucdn.com/mlcdn/c45406/170605_68beed891hedb47j43l093ka1f8j3_26x26.gif"> <div class="ele_loading_text">\u670d\u52a1\u5668\u5f00\u5c0f\u5dee\u4e86\uff0c\u8bf7\u7a0d\u540e\u67e5\u770b</div> </div> </div>  </div>  </div>--> <!-- \u5e97\u94fa\u4f18\u60e0 --> <!--<div class="body_shop"> <div class="actnavBox_header shop_header"> <div class="ele_header_cont"> <i></i> </div> </div> <div class="actnavBox_body"> &lt;!&ndash; \u6211\u7684\u5e97\u94fa\u5238 &ndash;&gt; <div id="act-shop-coupon-box"> <div class="ele_body_loading"> <img src="https://s10.mogucdn.com/mlcdn/c45406/170605_68beed891hedb47j43l093ka1f8j3_26x26.gif"> <div class="ele_loading_text">\u670d\u52a1\u5668\u5f00\u5c0f\u5dee\u4e86\uff0c\u8bf7\u7a0d\u540e\u67e5\u770b</div> </div> </div> &lt;!&ndash; \u597d\u5e97\u63a8\u8350 &ndash;&gt; <div id="act-good-shop-box"> <div class="ele_body_loading"> <img src="https://s10.mogucdn.com/mlcdn/c45406/170605_68beed891hedb47j43l093ka1f8j3_26x26.gif"> <div class="ele_loading_text">\u670d\u52a1\u5668\u5f00\u5c0f\u5dee\u4e86\uff0c\u8bf7\u7a0d\u540e\u67e5\u770b</div> </div> </div> </div> </div>--> <!-- \u731c\u4f60\u559c\u6b22 --> <div class="body_favor" > <div class="actnavBox_header favor_header"> <div class="ele_header_cont"> <i></i> </div> </div> <div class="actnavBox_body"> <div class="shop-top-enter-area"> </div> <!-- \u731c\u4f60\u559c\u6b22 --> <div id="act_goods_like_box"> <div class="ele_body_loading"> <img src="https://s10.mogucdn.com/mlcdn/c45406/170605_68beed891hedb47j43l093ka1f8j3_26x26.gif"> <div class="ele_loading_text">\u670d\u52a1\u5668\u5f00\u5c0f\u5dee\u4e86\uff0c\u8bf7\u7a0d\u540e\u67e5\u770b</div> </div> </div> </div> </div> </div>'),e}},function(a,e){a.exports=function(a){var e="<!-- \u4f1a\u573a\u5bfc\u822a -->";if(a){e+='<!-- \u5168\u90e8\u4f1a\u573a --> <!-- \u6b63\u5f0fbody\u5f00\u59cb --> <div class="body_main clearfix"> <!-- \u4e3b\u4f1a\u573a --> ';var i=a.data[2426].list;if(i)for(var t,n=-1,o=i.length-1;o>n;)t=i[n+=1],e+=' <a class="body_main_header" href="'+t.link+'" target="_blank"> <img src="'+t.image+'"> </a> ';e+=" <!-- \u4e00\u7ea7\u4f1a\u573a --> ";var r=a.data[2421].list;if(r)for(var t,s=-1,d=r.length-1;d>s;)t=r[s+=1],e+=' <a class="body_main_item yahei fl" href="'+t.link+'" target="_blank">'+t.title+"</a> ";e+=' </div> <div class="body_centre clearfix"> <div class="body_centre_title"></div> <!-- \u4e8c\u7ea7\u4f1a\u573a --> ';var l=a.data[2427].list;if(l)for(var t,c=-1,v=l.length-1;v>c;)t=l[c+=1],e+=' <a class="body_centre_item yahei fl" href="'+t.link+'" target="_blank">'+t.title+"</a> ";e+=" </div>"}return e}},function(a,e){a.exports=function(a){var e="<!-- \u529b\u8350\u597d\u5e97\u5165\u53e3 -->";if(a){e+='<div class="body_top_shop clearfix"> ';var i=a.data[38726].list;if(i)for(var t,n=-1,o=i.length-1;o>n;)t=i[n+=1],e+=' <a class="top_shop_enter" href="'+t.link+'" target="_blank"> <img src="'+t.image+'"> </a> ';e+="</div>"}return e}},function(a,e){a.exports=function(a){var e="<!-- \u731c\u4f60\u559c\u6b22 -->";if(a&&(e+=" ",a.list)){e+=' <div class="act-like-goods-area"> <div class="gap"> <div class="title"></div> ';var i=a.list;if(i)for(var t,n=-1,o=i.length-1;o>n;)t=i[n+=1],e+=' <div class="like-goods-list" data-iid="'+t.item_id+'">  <div class="like-goods-item clearfix">  <div class="left-img"> <a href="'+t.item_url+'" data-ext-acm="'+t.acm+'" class="loading_bg_90 img-wrap"  target="_blank"> <img src="'+t.image+'" alt=""> </a> </div>  <div class="right-info fl"> <a href="'+t.item_url+'" data-ext-acm="'+t.acm+'" target="_blank"> <div class="name single-line yahei">'+t.title+'</div> <div class="price-area single-line"> <span class="price-tag fl"></span> <span class="price yahei fl">\xa5'+(t.discountPrice||t.price)+'</span> <span class="old-price yahei fl">\xa5'+t.price+'</span> </div> <div class="redpay-use single-line clearfix"> <!--<span class="hb-img fl"></span> <span class="hb-price fl">',e+=t.hbPrice?"\u7ea2\u5305\u6700\u9ad8\u518d\u62b5\uffe5"+t.hbPrice:"\u7528\u7ea2\u5305\u66f4\u5212\u7b97",e+="</span>--> </div> <div> ",e+=a.isFormal?' <div class="btn add-shopcar yahei">\u7acb\u5373\u8d2d\u4e70</div> ':' <div class="btn add-shopcar yahei">\u52a0\u5165\u8d2d\u7269\u8f66</div> ',e+=" </div> </a> </div>  </div> </div> ";e+="  </div> </div> "}return e}},function(a,e){a.exports=function(a){var e="<!-- \u7ea2\u5305\u4fe1\u606f -->";return a&&(e+=" ",e+=a.isLogin?a.hasRedpay?' <div class="sidebar_tip gray999">\u7ea2\u5305\u603b\u8ba1\uff08\u5143\uff09</div> <div class="redpay-num">'+a.price+'</div> <div class="sidebar_tip gray666">\uff08\u53ef\u4e0e\u5e97\u94fa\u5238\u3001\u5e73\u53f0\u5238\u53e0\u52a0\uff09</div> <a href="'+a.link+'" class="redpay-btn" style="background-image:none;" target="_blank">\u67e5\u770b\u7ea2\u5305\u660e\u7ec6</a> ':' <img class="main-img" src="https://s10.mogucdn.com/p1/160301/upload_ie4tomzqgq4wcnzqg4zdambqgqyde_31x39.jpg"> <div class="sidebar_tip gray666">\u4f60\u8fd8\u6ca1\u6709\u7ea2\u5305\u54e6<br/>\u5feb\u53bb\u4e3b\u4f1a\u573a\u8d62\u53d6\u7ea2\u5305\u5427</div> <a href="'+a.mainUrl+'" class="redpay-btn" target="_blank">\u53bb\u4e3b\u4f1a\u573a</a> ':' <img class="main-img" src="https://s10.mogucdn.com/p1/160301/upload_ie4tsnjwgjtdonzqg4zdambqgqyde_38x38.png"> <div class="sidebar_tip gray666">\u4f60\u8fd8\u6ca1\u6709\u767b\u5f55</div> <a href="javascript:void(0);" class="redpay-btn" id="goLogin">\u7acb\u5373\u767b\u5f55</a> '),e}},function(a,e){a.exports=function(a){var e="<!-- \u6211\u7684\u5e97\u94fa\u4f18\u60e0\u5238 -->";if(a&&(e+=" ",a.list)){e+=' <div class="act-shop-coupon-area"> <div class="gap"> <div class="title">\u6211\u7684\u5e97\u94fa\u5238</div> ';var i=a.list;if(i)for(var t,n=-1,o=i.length-1;o>n;)t=i[n+=1],e+=" ",3>n&&(e+=' <div class="shop-coupon-list">                 <div class="shop-coupon-item clearfix"> <!-- \u5de6\u4fa7\u56fe\u7247 --> <div class="left-img"> <a href="'+t.shopUrl+'" class="loading_bg_90 img-wrap"  target="_blank"> <img src="'+t.recommendItemCover+'" alt=""> </a> </div> <!-- \u53f3\u4fa7\u4fe1\u606f --> <div class="right-info fl"> <a href="'+t.shopUrl+'" target="_blank"> <div class="name yahei">'+t.shopName+'</div> <div class="line">----------------------</div> <div class="coupon-area"> <div class="cutPrice" ><b class="yahei">&yen;</b>'+(t.cutPrice||0)+'</div> <div class="limitPrice yahei">\u6ee1'+t.limitPrice+'\u5143\u4f7f\u7528</div> </div> <div> <div class="btn go-shopping yahei">\u53bb\u901b\u5e97</div> </div> </a> </div>  </div> </div> '),e+=" ";e+=' <!-- \u67e5\u770b\u66f4\u591a --> <a href="'+a.link+'" class="check-more yahei" target="_blank">\u67e5\u770b\u66f4\u591a<span class="logo"></span></a> </div> </div> '}return e}},function(a,e){a.exports=function(a){var e="<!-- \u597d\u5e97\u63a8\u8350 -->";if(a&&(e+=" ",a.list)){e+=' <div class="act-good-shop-area"> <div class="gap"> <div class="title">\u597d\u5e97\u63a8\u8350</div> ';var i=a.list;if(i)for(var t,n=-1,o=i.length-1;o>n;)t=i[n+=1],e+=" ",3>n&&(e+=' <div class="good-shop-list" >                 <div class="good-shop-item clearfix"> <!-- \u5de6\u4fa7\u56fe\u7247 --> <div class="left-img"> <a href="'+t.shop_url+'" data-ext-acm="'+t.acm+'" class="loading_bg_90 img-wrap"  target="_blank"> <img src="'+t.list[0].image+'" alt=""> </a> </div> <!-- \u53f3\u4fa7\u4fe1\u606f --> <div class="right-info fl"> <a href="'+t.shop_url+'" data-ext-acm="'+t.acm+'" target="_blank"> <div class="name yahei">'+t.shopName+'</div> <div class="line">----------------------</div> <div class="coupon-area"> <div class="cutPrice"><b class="yahei">&yen;</b>'+(t.cutPrice||0)+'</div> <div class="limitPrice yahei">\u6ee1'+t.limitPrice+'\u5143\u4f7f\u7528</div> </div> <div> <div class="btn go-shopping yahei">\u53bb\u901b\u5e97</div> </div> </a> </div> </div> </div> '),e+=" ";e+="  </div> </div> "}return e}},function(a,e){a.exports=function(a){var e="<!-- \u6ee1\u8fd4 -->";return a&&(e+=" ",e+=a.isLogin?a.hasFullReturn?' <div class="sidebar_tip gray999">\u91d1\u989d\u603b\u8ba1\uff08\u5143\uff09</div> <div class="fullreturn-num">'+a.price+'</div> <div class="sidebar_tip gray666">(\u53ef\u5728\u6536\u94f6\u53f0\u62b5\u6263\u4ed8\u6b3e\u91d1\u989d  )</div> <a href="'+a.link+'" class="fullreturn-btn" style="background-image:none;" target="_blank">\u67e5\u770b\u660e\u7ec6</a> ':' <img class="main-img" src="https://s10.mogucdn.com/p1/160301/upload_ie4tomzqgq4wcnzqg4zdambqgqyde_31x39.jpg"> <div class="sidebar_tip gray666">\u60a8\u7684\u6ee1\u8fd4\u4f59\u989d\u4e3a\u96f6\uff0c<br/>\u5355\u7b14\u5b9e\u4ed8\u6ee1\u767e\u5373\u8fd4\uff01</div> <a href="'+a.mainUrl+'" class="fullreturn-btn" target="_blank">\u53bb\u8d2d\u7269</a> ':' <img class="main-img" src="https://s10.mogucdn.com/p1/160301/upload_ie4tsnjwgjtdonzqg4zdambqgqyde_38x38.png"> <div class="sidebar_tip gray666">\u4f60\u8fd8\u6ca1\u6709\u767b\u5f55</div> <a href="javascript:void(0);" class="fullreturn-btn" id="goLogin">\u7acb\u5373\u767b\u5f55</a> '),e}},function(a,e){a.exports=function(a){var e='<!-- \u9876\u901a --><div class="wrap"> <div class="innerwrap clearfix"> ',i=a;if(i)for(var t,n=-1,o=i.length-1;o>n;)t=i[n+=1],e+=' <a class="fl ',0===n?e+="first reset":n===a.length-1&&(e+="last"),e+='" href="'+(t.link||"javascript:;")+'" target="_blank"></a> ';return e+=" </div></div>"}}]);function makeCallBackDelay(e,a){return function(){var t=a.offset().top,n=0,o=arguments,r=!1;if(t>window.innerHeight&&0===$(window).scrollTop()){n=1500;var c=setTimeout(function(){r=!0,e.apply(a,o)},n);$(document).one("touchmove scroll",function(){c&&clearTimeout(c),r||(r=!0,e.apply(a,o))})}else e.apply(a,o)}}$.fn.listenToLazyData=function(e){var a=$(this).attr("data-source-key"),t=$(this).attr("data-refresh-type");return t&&(a=a+""+t),MoGu&&MoGu.lazyInstance&&MoGu.lazyInstance._cache&&MoGu.lazyInstance._cache[a]?void makeCallBackDelay(e,$(this))({},!0,"",a,MoGu.lazyInstance._cache[a]||[],!1):void $(this).one("receive-data",makeCallBackDelay(e,$(this)))},define("base/core/datalazy",["base/MoGu"],function(e){function a(e){window.console&&console.warn&&console.warn.apply&&console.warn.apply&&console.log.apply(console,arguments)}function t(e){window.console&&console.error&&console.error.apply&&console.error.apply(console,arguments)}function n(e,a,t){var n=e.top,o=n+e.height;return t=t||0,!(o<a-t||n>a+m+t)}function o(e){return"none"!=e.css("display")&&"hidden"!=e.css("visibility")&&0!=e.css("opacity")&&e.width()}function r(e){var a={},t=e.split(";");return $(t).each(function(e,t){var n=t.split("="),o=n[0];o&&(a[o]=t.replace(o+"=",""))}),a}function c(e){return e.split(";").sort().join("")}function i(a,t,n){var o=a.find("#template-tpl").html(),r=e.ui.getTemplate(o,t||[]),c=a.find(a.attr("data-placeholder")||".entry-wrap");n?c.append(r):c.html(r)}function p(e){!this instanceof p&&t("please new function"),this.init(e)}"function"!=typeof Object.assign&&!function(){Object.assign=function(e){"use strict";if(void 0===e||null===e)throw new TypeError("Cannot convert undefined or null to object");for(var a=Object(e),t=1;t<arguments.length;t++){var n=arguments[t];if(void 0!==n&&null!==n)for(var o in n)n.hasOwnProperty(o)&&(a[o]=n[o])}return a}}(),Object.keys||(Object.keys=function(){"use strict";var e=Object.prototype.hasOwnProperty,a=!{toString:null}.propertyIsEnumerable("toString"),t=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],n=t.length;return function(o){if("object"!=typeof o&&("function"!=typeof o||null===o))throw new TypeError("Object.keys called on non-object");var r,c,i=[];for(r in o)e.call(o,r)&&i.push(r);if(a)for(c=0;c<n;c++)e.call(o,t[c])&&i.push(t[c]);return i}}()),Array.prototype.forEach||(Array.prototype.forEach=function(e,a){var t,n;if(null==this)throw new TypeError("this is null or not defined");var o=Object(this),r=o.length>>>0;if("function"!=typeof e)throw new TypeError(e+" is not a function");for(arguments.length>1&&(t=a),n=0;n<r;){var c;n in o&&(c=o[n],e.call(t,c,n,o)),n++}});var u={dynamic:{url:"//mce.mogucdn.com/jsonp/multiget/3",backupUrl:"//mcebackup.mogucdn.com/jsonp/get/3",param:"pids",backupParam:"pid",type:"jsonp"},merge:{url:"//mce.mogucdn.com/jsonp/multiget/3",backupUrl:"//mcebackup.mogucdn.com/jsonp/get/3",param:"pids",backupParam:"pid",type:"jsonp"},appolo:{url:"//mce.mogucdn.com/jsonp/multiget/3",backupUrl:"//mcebackup.mogucdn.com/jsonp/get/3",param:"pids",backupParam:"pid",type:"jsonp"},mceats:{url:"//mce.mogucdn.com/jsonp/multiget/3",backupUrl:"//mcebackup.mogucdn.com/jsonp/get/3",param:"pids",backupParam:"pid",type:"jsonp"},mcereconline:{url:"mwp.darwin.multiget",versionNum:"4",backupUrl:"//mcebackup.mogucdn.com/jsonp/multiget/3",param:"pids",backupParam:"pids",type:"mwp"},mcereconlyonline:{url:"mwp.darwin.get",versionNum:"4",backupUrl:"//mcebackup.mogucdn.com/jsonp/get/3",param:"pid",backupParam:"pid",type:"mwp"},mce:{url:"//mce.mogucdn.com/jsonp/multiget/3",backupUrl:"//mcebackup.mogucdn.com/jsonp/multiget/3",param:"pids",backupParam:"pids",type:"jsonp"},mceonly:{url:"//mce.mogucdn.com/jsonp/get/3",backupUrl:"//mcebackup.mogucdn.com/jsonp/get/3",param:"pid",backupParam:"pid",type:"jsonp"},mceonline:{url:"mwp.darwin.multiget",versionNum:"3",backupUrl:"//mcebackup.mogucdn.com/jsonp/multiget/3",param:"pids",backupParam:"pids",type:"mwp"},mceonlyonline:{url:"mwp.darwin.get",versionNum:"3",backupUrl:"//mcebackup.mogucdn.com/jsonp/get/3",param:"pid",backupParam:"pid",type:"mwp"}},s=20,l=80,d={loading:1,success:2,paging:3,error:4},m=$(window).height();return p.DEFAULT_CONFIG={timeout:8e3,deviation:m,SELECTORS:{COLD:".coldData",AJAX:".lazyData"}},p.prototype={_cache:{},_ajaxMap:{},_hasReRendered:!1,handler:null,destory:function(){$(window).off("scroll touchmove resize",this.handler)},init:function(e){var a=this;this.config=$.extend({},p.DEFAULT_CONFIG,e),this.prepareAjaxData(),this.loadAjaxData(),this.handler=function(){a.loadAjaxData.call(a)},$(window).on("scroll touchmove resize",this.handler)},prepareAjaxData:function(e){var t=this.config.SELECTORS,n=$(t.AJAX),o=this,i={},p={},d={};n.length;this.$elems=n,n.each(function(t){var n=$(this),m=n.attr("data-source-type"),f=+n.attr("data-floornum")||s,h=n.attr("data-source-alone")||"",y=n.attr("data-extra-param")||"",g=n.offset(),w=e?""+ +new Date:"";if(!u[m])return void a("unknown data source type",m);if(y){var v=c(y);d[v]?w=d[v]:d[v]=w=""+ +new Date,y=r(y)}h&&(w=""+ +new Date),m+=w,i[m]=i[m]?i[m]:0,p[m]=p[m]?p[m]:1,i[m]+=f,i[m]>l&&(i[m]=0,p[m]++),m+=p[m];var j=o._ajaxMap[m]=o._ajaxMap[m]||{source:$.extend({},u[n.data("source-type")],{data:y||{}}),refreshType:w,list:[],offset:g};j.list.push({key:n.attr("data-source-key"),dom:n,offset:g,param:null}),g.top<j.offset.top&&$.extend(j.offset,g),n.attr("data-source-type",""),w&&n.attr("data-refresh-type",w)})},updateAjaxMap:function(e){if(e="boolean"==typeof e&&e,this._hasReRendered&&(e=!0,this._hasReRendered=!1),e){var t=this._ajaxMap;Object.keys(t).forEach(function(e){var n=t[e],o=n.list;if(!n.status)for(var r=0;r<o.length;r++){var c=o[r],i=c.dom,p=i.offset(),u=i.attr("data-source-key");u||a("source-key of the current dom should exist"),u!==c.key&&a("source-key[",u,"] of the current dom should match",c.key),c.offset=p}})}},loadAjaxData:function(){this.updateAjaxMap();var e=this._ajaxMap,t=$(window).scrollTop(),r=this._cache,c=this;for(var p in e)!function(p){var u=e[p];if(!u.status){for(var s=u.list,l=u.source,m=u.refreshType,f=!1,h=0;!f&&h<s.length;h++)f=f||n(s[h].offset,t,c.config.deviation)&&o(s[h].dom);if(f){for(var y=[],h=0;h<s.length;h++)y.push(s[h].key);y=y.join(",");var g=function(e){var a={};for(var t in e)e.hasOwnProperty(t)&&(a[t+m]=e[t].list);$.extend(r,a);for(var n=0;n<s.length;n++){var o=s[n],p=$(o.dom),l=o.key+m;r[l]&&(p.attr("data-manual")||i(p,r[l]),p.trigger("receive-data",[!0,"",l,r[l]||[]]))}u.status=d.success,setTimeout(function(){c._hasReRendered=!0,$(window).trigger("scroll")},50)},w=function(e){if(e&&e.success&&e.returnCode&&"SUCCESS"==e.returnCode){var a={};e.data&&e.data.list?a[y]=e.data:a=e.data,g(a)}else v(new Error(e&&e.returnCode||"error interface"))},v=function(e){var t=null;if(!e)return t=$.Deferred(),t.resolve(null),t;if(a("use backup url due to",e.toString()),!l.backupUrl)return void a("no backupUrl");var n=$.ajax;$._ajax&&"jsonp"===l.type&&(n=$._ajax);var o=$.extend({},l.data),r="jsonp"+y.replace(/,/g,"_")+"backup";n.call($,{url:l.backupUrl,type:"GET",dataType:"jsonp",cache:!0,beforeSend:function(e,a){a.url=a.url.substring(0,a.url.indexOf("?"));var t="";t=window&&"h5"==window.MOGU_PLATFORM?"&appPlat=m":window&&"pc"==window.MOGU_PLATFORM?"&appPlat=pc":"",a.url+="%3F"+l.backupParam+"="+y+t+"&callback="+r},jsonpCallback:r,data:o}).then(function(e){j.call(this,e,y)})},j=function(e,a){if(e&&e.success&&e.returnCode&&"SUCCESS"==e.returnCode){var t={};e.data&&e.data.list?t[a]=e.data:t=e.data,g(t)}};u.status=d.loading;var b=$.ajax;$._ajax&&"jsonp"===l.type&&(b=$._ajax);var k={};if($(".page_activity").hasClass("debug")&&(k=$.extend(k,{testing:1})),window&&"h5"==window.MOGU_PLATFORM)var O=$.extend(k,l.data,{appPlat:"m"});else if(window&&"pc"==window.MOGU_PLATFORM)var O=$.extend(k,l.data,{appPlat:"pc"});else var O=$.extend(k,l.data);O[l.param]=y;var x="jsonp"+y.replace(/,/g,"_");x&&window[x]&&"function"==typeof window[x]&&(x+="new");var _=function(){b.call($,{url:l.url,type:"jsonp"!==l.type?l.type:"GET",dataType:"jsonp"!==l.type?"json":"jsonp",data:O,cache:!0,timeout:c.config.timeout,jsonpCallback:x}).done(w).fail(v)},P=function(e){M&&M.MWP&&M.MWP.request(l.url,l.versionNum,e).then(function(e){if(e&&e.ret&&"SUCCESS"==e.ret){var a=Object.assign({},e);a.returnCode=e.ret,a.success=!0,w(a)}else v(new Error(e&&e.ret||"error return null"))})["catch"](function(e){v(e)})};"mwp"==l.type?M&&M.ua&&M.ua["native"]&&window.hdp?document.addEventListener("deviceready",function(){mgj.device.signParams(function(e){"string"==typeof e&&(e=JSON.parse(e)),O.did=e._did,P(O)},function(){P(O)},{})},!1):P(O):_()}}}(p)}},p}),require(["base/MoGu","base/core/datalazy"],function(e,a){$(function(){var t=new a;return e.lazyInstance=t,e})});!function(e){function o(t){if(i[t])return i[t].exports;var n=i[t]={exports:{},id:t,loaded:!1};return e[t].call(n.exports,n,n.exports,o),n.loaded=!0,n.exports}var i={};o.m=e,o.c=i,o.p="",o(0)}([function(e,o,i){var t=i(1),n=(Date.now,function(e){this.opts=$.extend({},this.defaults,e),this.scrollIndTime=t.is_ie_old?400:200,this.fistCheck=!1,this.imgErrorClock={},this.logInfo={type:t.loadType,protocol:t.protocol,num:0,succ:0,err:0,domainInfo:{}},this.logTimer=0,this.init()});n.prototype={init:function(){var e=this,o=0;$(window).scroll(function(i){clearTimeout(o),o=setTimeout(function(){e.checkImages()},e.scrollIndTime)}),setTimeout(function(){t.checkNeedCdnBanlance(),e.fistCheck=!0,e.checkImages()},0),_imgLog(e.logInfo),e.logTimer=setTimeout(e.pubInfoLog.bind(e),3e3)},getInActiveFlag:function(e,o){var i,t,n,a,r=o[0],d=r.getBoundingClientRect&&r.getBoundingClientRect();d?(i=d.top+e.scrollTop,t=d.bottom+e.scrollTop,n=d.left,a=d.right):(i=o.offset().top,t=i+o.height(),n=o.offset().left,a=n+o.width());var l=t>e.top&&i<e.bot,s=a>e.left&&n<e.right;return!(!l||!s)&&!("none"==o.css("display")||"hidden"==o.css("visibility")||0==o.css("opacity")||!o[0].offsetWidth)},checkModRow:function(e){var o=this;return $(".mod_row").each(function(i,t){var n=$(t);o.getInActiveFlag(e,n)?n.addClass("J_mod_row_show"):n.removeClass("J_mod_row_show")}),$(".J_mod_row_show")},checkImages:function(e){var o=this;if(o.fistCheck){var i=document.documentElement.scrollTop||document.body.scrollTop,n=o.opts.showDistance,a={};a.top=i-n,a.bot=i+(t.clientHeight||document.documentElement.clientHeight||document.body.clientHeight)+n,a.left=0,a.right=t.clientWidth,a.scrollTop=i;var r=$("body");e?r=e:window.MOGU_MF_DEVELOP_ENV&&$(".mod_row").length>0&&(r=o.checkModRow(a)),setTimeout(function(){for(var e=r.hasClass(o.opts.objsClassName)?r:r.find("."+o.opts.objsClassName),i=e.length,t=0;t<i;t++){var n=e.eq(t);if(n.attr("img-src")){var d=n.hasClass("J_loading_success"),l=n.hasClass("J_loading"),s=n.attr("need-remove")?n.attr("need-remove"):"no";if(!d||"yes"==s){if(o.getInActiveFlag(a,n))d||l||o.getLoadImage(n);else if("yes"==s&&(d||l))if(n.removeClass("J_loading"),n.removeClass("J_loading_success"),"background"==n.attr("insert-model"))n[0].style.backgroundImage="none";else{var g=n.find(".J_dynamic_img");g.remove()}}}}},0)}},preloadImages:function(e){var o=this;setTimeout(function(){if(e&&e.length&&e.hasClass&&e.find)for(var i=e.hasClass(o.opts.objsClassName)?e:e.find("."+o.opts.objsClassName),t=i.length,n=0;n<t;n++){var a=i.eq(n);if(a.attr("img-src")){var r=a.hasClass("J_loading_success"),d=a.hasClass("J_loading");r||d||(a.attr("need-remove","no"),o.getLoadImage(a))}}},0)},getLoadImage:function(e){var o=this;if(!e.hasClass("J_loading")){var i=e.attr("img-src"),n={type:t.loadType,protocol:t.protocol,domain:"",boxId:e.attr("id")?e.attr("id"):i,loadNum:0,suffixUrl:i,finalUrl:i,imgUrl:i,width:e.attr("suffix-width")?e.attr("suffix-width"):e.width(),ratio:e.attr("suffix-ratio"),imgCode:e.attr("suffix-code"),model:e.attr("suffix-model"),useWebp:"no"!=e.attr("use-webp"),insert:e.attr("insert-model")};(e.hasClass("full-width-wrap")||"no"==n.width)&&(n.width=9999),n.imgCode?n.suffixUrl=t.getCodeSuffix(n.imgUrl,n.imgCode,n.useWebp):!n.ratio||"1:1"!=n.ratio&&"7:9"!=n.ratio&&"3:4"!=n.ratio&&"2:3"!=n.ratio?"orig_narrow"==n.model?n.suffixUrl=t.getHalfSuffix(n.imgUrl,n.useWebp):n.suffixUrl=t.getWidthSuffix(n.imgUrl,n.width,n.useWebp):n.suffixUrl=t.getGoodsRatioSuffix(n.imgUrl,n.width,n.ratio,n.useWebp),n.finalUrl=t.getCdnBanlanceUrl(n.suffixUrl),n.domain=o.getImageDomain(n.finalUrl),o.loadingImage(e,n)}},loadingImage:function(e,o){var i=this;e.addClass("J_loading");var n=o.finalUrl;if(!(i.imgErrorClock[o.imgUrl]>=4)){var a=new Image;a.src=n,a.complete?i.insertImg(a,e,o):(a.onload=function(){i.insertImg(a,e,o)},a.onerror=function(){i.imgErrorClock[o.imgUrl]?i.imgErrorClock[o.imgUrl]++:i.imgErrorClock[o.imgUrl]=1,o.loadNum++,o.type==t.loadType&&(i.pushErrorLog(o),i.addLogInfo(o,"err")),i.imgErrorClock[o.imgUrl]<4&&o.loadNum<4?(o.type=3,o.suffixUrl!=o.finalUrl&&(o.domain=i.getImageDomain(o.suffixUrl),o.finalUrl=o.suffixUrl),i.loadingImage(e,o)):i.pushErrorLog(o)})}},insertImg:function(e,o,i){this.addLogInfo(i,"succ"),o.hasClass("J_loading")&&(o.removeClass("J_loading").addClass("J_loading_success"),"background"==i.insert?(o[0].style.backgroundImage="url("+e.src+")",o[0].style.backgroundRepeat="no-repeat"):o.append('<img class="J_dynamic_img fill_img" src="'+e.src+'" alt=""/>'))},getImageDomain:function(e){try{var o=/^([\w\d]*)\/\/([\w\d\-_]+(?:\.[\w\d\-_]+)*)/,i=e.match(o);if(i&&i.length>2)return i[2]}catch(t){}return""},addLogInfo:function(e,o){var i=this;i.logInfo.num++,i.logInfo[o]++,e.domain&&(i.logInfo.domainInfo[e.domain]||(i.logInfo.domainInfo[e.domain]={succ:0,err:0,num:0}),i.logInfo.domainInfo[e.domain].num++,i.logInfo.domainInfo[e.domain][o]++),i.logInfo.num>=30&&i.pubInfoLog()},pubInfoLog:function(){var e=this;if(clearTimeout(e.logTimer),e.logInfo.num>0){if(e.logInfo.type=t.loadType,_imgLog("\u89e6\u53d1\u5168\u5c40\u56fe\u7247\u52a0\u8f7d\u4fe1\u606f\u6253\u70b9\uff0c\u6253\u70b9\u683c\u5f0f\u5982\u4e0b"),_imgLog(e.logInfo),window.logger&&logger.log)try{logger.log("016010004",e.logInfo)}catch(o){_imgLog(o)}e.logInfo={type:t.loadType,protocol:t.protocol,num:0,succ:0,err:0,domainInfo:{}}}e.logTimer=setTimeout(e.pubInfoLog.bind(e),3e3)},pushErrorLog:function(e){if(window._trace&&_trace.sendMsg){var o=$.extend({},e,{url:e.finalUrl,_author:"lanpang,yanchen,suling"});_trace.sendMsg(new Error(e.domain),o),_imgLog("\u89e6\u53d1\u56fe\u7247\u52a0\u8f7d\u9519\u8bef\u6253\u70b9\uff0c\u6253\u70b9\u683c\u5f0f\u5982\u4e0b"),_imgLog(o)}},destroy:function(){},defaults:{objsClassName:"J_dynamic_imagebox",showDistance:0}},M.DynamicImage=n;var a=M.dynamicImage;a||(a=new n({showDistance:$(window).height()}),M.dynamicImage=a),MoGu.dynamicImage=M.dynamicImage,e.exports=a},function(e,o){window.MoGu=window.MoGu||{},window.M=window.M||{},window._imgLog=function(e){window.location.href.indexOf("isLog=true")>-1&&window.console&&console.log&&console.log(e)};var i=navigator.userAgent;M.isUseWebp=!1;var t={imgKeyArr:["80","100","160","180","200","240","280","300","320","360","400","440","480","520","540","560","600","640"],imgKeyMap:{80:{"1:1":"80x80","7:9":"80x103","3:4":"80x107","2:3":"80x120",999:"80x999"},100:{"1:1":"100x100","7:9":"100x129","3:4":"100x134","2:3":"100x150",999:"100x999"},160:{"1:1":"160x160","7:9":"160x206","3:4":"160x214","2:3":"160x240",999:"160x999"},180:{"1:1":"180x180","7:9":"180x232","3:4":"180x240","2:3":"180x270",999:"180x999"},200:{"1:1":"200x200","7:9":"200x258","3:4":"200x268","2:3":"200x300",999:"200x999"},240:{"1:1":"240x240","7:9":"240x308","3:4":"240x320","2:3":"240x360",999:"240x999"},280:{"1:1":"280x280","7:9":"280x360","3:4":"280x374","2:3":"280x420",999:"280x999"},300:{"1:1":"300x300","7:9":"300x386","3:4":"300x400","2:3":"300x450",999:"300x999"},320:{"1:1":"320x320","7:9":"320x412","3:4":"320x428","2:3":"320x480",999:"320x999"},360:{"1:1":"360x360","7:9":"360x463","3:4":"360x480","2:3":"360x540",999:"360x999"},400:{"1:1":"400x400","7:9":"400x515","3:4":"400x534","2:3":"400x600",999:"400x999"},440:{"1:1":"440x440","7:9":"440x566","3:4":"440x587","2:3":"440x660",999:"440x999"},480:{"1:1":"480x480","7:9":"480x618","3:4":"480x640","2:3":"480x720",999:"480x999"},520:{"1:1":"520x520","7:9":"520x670","3:4":"520x694","2:3":"520x780",999:"520x999"},540:{"1:1":"540x540","7:9":"540x695","3:4":"540x720","2:3":"540x810",999:"540x999"},560:{"1:1":"560x560","7:9":"560x720","3:4":"560x747","2:3":"560x840",999:"560x999"},600:{"1:1":"600x600","7:9":"600x772","3:4":"600x800","2:3":"600x900",999:"600x999"},640:{"1:1":"640x640","7:9":"640x824","3:4":"640x854","2:3":"640x960",999:"640x999"}},imgQuality:70,dprDefMaxWidth:640,dprDefRatio:"999",defCode:"999x999.v1c0",clientHeight:null,clientWidth:null,dpr:null,dprClentWidth:null,loadType:1,protocol:"http",domainArr:[],domainHistoryCache:{},domainIndex:0,domainLength:0,isMoGuIosWk:!1};t.ua=i,t.android=i.match(/(Android);?[\s\/]+([\d.]+)?/),t.ios=i.match(/(iPad).*OS\s([\d_]+)/)||i.match(/(iPod)(.*OS\s([\d_]+))?/)||i.match(/(iPhone\sOS)\s([\d_]+)/),t.wp=i.match(/Windows Phone ([\d.]+)/),t.is_mobile=t.android||t.ios||t.wp,t.is_ie_old=i.indexOf("MSIE")>0,t.init=function(){var e=this;e.clientHeight=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight,e.clientWidth=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,window.addEventListener&&window.addEventListener("resize",function(){e.clientHeight=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight,e.clientWidth=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth},!1),e.dpr=window.devicePixelRatio>=1?window.devicePixelRatio:1,e.dprClentWidth=e.clientWidth*e.dpr,window.location.href.split&&(e.protocol=window.location.href.split("://")[0]),e.checkSupportWebp(),e.checkNeedCdnBanlance(),e.is_mobile&&e.getAppInfo()},t.setWebpFlag=function(e){M.isUseWebp=!!e},t.checkSupportWebp=function(){var e=this,o=new Image;o.onload=function(){e.setWebpFlag(!0)},o.onerror=function(){e.ios&&"undefined"!=typeof localStorage?(e.setWebpFlag("true"===localStorage.getItem("isWebpEnable")),e.isMoGuIosWk="true"===localStorage.getItem("isMoGuIosWk")):(e.setWebpFlag(!1),e.isMoGuIosWk=!1)},o.src="data:image/webp;base64,UklGRkoAAABXRUJQVlA4WAoAAAAQAAAAAAAAAAAAQUxQSAsAAAABBxAREYiI/gcAAABWUDggGAAAADABAJ0BKgEAAQABABwlpAADcAD+/gbQAA=="},t.checkNeedCdnBanlance=function(){var e=this;if(!e.domainLength)try{if(window.ImgCdnBanlance&&ImgCdnBanlance instanceof Array&&ImgCdnBanlance.length>0){for(var o=ImgCdnBanlance.length,i=0;i<o;i++){var t=ImgCdnBanlance[i];if(t.domain&&t.domain.indexOf("mogucdn")>0&&t.weight&&parseInt(t.weight)>0)for(var n=parseInt(t.weight),a=0;a<n;a++)e.domainArr.push(t.domain),e.domainLength++}e.domainLength&&(e.loadType=2)}}catch(r){e.loadType=1}},t.getCdnDomain=function(){var e=this;e.domainIndex>=e.domainLength&&(e.domainIndex=0);var o=e.domainArr[e.domainIndex];return e.domainIndex++,o},t.getCdnBanlanceUrl=function(e){var o=this;if(2!=o.loadType||!e||"string"!=typeof e)return e;if(o.domainHistoryCache[e])return o.domainHistoryCache[e];var i=e.split("mogucdn.com/");if(2!=i.length)return e;var t=o.getCdnDomain();if(t){i[0]="//"+t;var n=i.join("/");return o.domainHistoryCache[e]=n,n}return e},t.getDefSuffix=function(e,o){var i=this,t="";if(i.android||i.ios||i.wp){var n=i.dprClentWidth;n<=375?t="375x9999.v1c7E":375<n&&n<=750?t="750x9999.v1c7E":750<n&&(t="1125x9999.v1c7E")}else t=i.defCode;return i.getCodeSuffix(e,t,o)},t.getWidthSuffix=function(e,o,i,t){var n=this;void 0===t&&(t=!0);var a=n.defCode,r=t?n.dpr:1,d=parseInt(o)*r;return d&&d>0&&d<1950&&(d+=50,a=100*Math.ceil(d/100)+"x9999.v1c7E"),n.getCodeSuffix(e,a,i)},t.getGoodsRatioSuffix=function(e,o,i,t,n){var a=this;void 0===n&&(n=!0);var r=a.defCode,d="",l=".v1cAC",s=n?a.dpr:1;switch(i){case"1:1":case"7:9":case"3:4":case"2:3":d=i;break;default:d=a.dprDefRatio,l=".v1c96"}var g=parseInt(o)*s;(!g||g<0||g>a.dprDefMaxWidth)&&(g=a.dprDefMaxWidth);for(var c=0;c<a.imgKeyArr.length;c++){var f=a.imgKeyArr[c];if(g<=f||f==a.dprDefMaxWidth){r=a.imgKeyMap[f][d]+l;break}}return a.getCodeSuffix(e,r,t)},t.getHalfSuffix=function(e,o){var i=this,t="";return i.dpr<2?(t="50000x50000.v1c7E",e=i.getCodeSuffix(e,t,o)):e=i.getDefSuffix(e,o),e},t.getCodeSuffix=function(e,o,i){var t=this;if(!e||!o||"no"==o||e.indexOf(".webp")>0||e.indexOf(".gif")>0)return e;if(-1===e.indexOf("mogucdn"))return e;if(e.indexOf(".jpg")<0&&e.indexOf(".png")<0)return e;if(e.indexOf(".jpg")>0&&e.indexOf(".png")>0)return e;e.indexOf("https:")>=0&&(e=e.split("https:")[1]),e.indexOf("http:")>=0&&(e=e.split("http:")[1]);var n=e,a="",r=e.split(".");if("jpg"==r[r.length-1])a="jpg";else{if("png"!=r[r.length-1])return e;a="png"}var o="_"+o,d="."+t.imgQuality+".";if(e.indexOf(".png_")<0&&e.indexOf(".jpg_")<0&&e.indexOf("."+a)==e.length-4&&(e=e+o+d+a),M.isUseWebp&&!1!==i){if(e.indexOf("."+a+"_")>0){var l=e.split(".");l[l.length-1]==a&&(l[l.length-1]="webp",e=l.join("."))}}else if("png"==a)return n;return e},t.getAppInfo=function(){var e=this;"undefined"!=typeof hdp&&hdp["do"]?(hdp["do"]("mgj.device.getInfo").then(function(o){o&&o.networkType&&4!=o.networkType&&5!=o.networkType&&(e.imgQuality=50)})["catch"](function(e){}),e.ios&&"undefined"!=typeof localStorage&&hdp["do"]("hybrid.settings.getWebpEnabled").then(function(o){var i=e.ua.toLocaleLowerCase().indexOf("wkwebview")>-1;o?(localStorage.setItem("isWebpEnable",!0),localStorage.setItem("isMoGuIosWk",!1)):(localStorage.setItem("isWebpEnable",!1),hdp["do"]("mgj.device.getInfo").then(function(e){e.appVersion>=943&&i?localStorage.setItem("isMoGuIosWk",!0):localStorage.setItem("isMoGuIosWk",!1)})["catch"](function(e){localStorage.setItem("isMoGuIosWk",!1)}))})["catch"](function(){localStorage.setItem("isWebpEnable",!1),localStorage.setItem("isMoGuIosWk",!1)})):"undefined"!=typeof document&&document.addEventListener&&document.addEventListener("deviceready",function(){window.mgj&&mgj.device&&mgj.device.getInfo&&mgj.device.getInfo(function(o){o&&o.networkType&&4!=o.networkType&&5!=o.networkType&&(e.imgQuality=50)}),e.ios&&"undefined"!=typeof localStorage&&window.hybrid&&hybrid.settings&&hybrid.settings.getWebpEnabled&&hybrid.settings.getWebpEnabled(function(e){localStorage.setItem("isWebpEnable",e)},function(){localStorage.setItem("isWebpEnable",!1)})},function(){})},M.ImgUrlTool||(t.init(),M.ImgUrlTool=t),MoGu.ImgUrlTool=M.ImgUrlTool,e.exports=M.ImgUrlTool}]);var ftx=function(t){function e(n){if(r[n])return r[n].exports;var o=r[n]={exports:{},id:n,loaded:!1};return t[n].call(o.exports,o,o.exports,e),o.loaded=!0,o.exports}var r={};return e.m=t,e.c=r,e.p="",e(0)}([function(t,e,r){function n(t,e){var r=new i.FilterCSS(e);return r.process(t)}var o=r(10),i=r(2),a=r(8),s=r(13);"undefined"!=typeof window&&(window.FTX={filterCSS:n,filterHTML:o,isDomainAllowed:a,safeParamParse:s}),t.exports={filterCSS:n,filterHTML:o,isDomainAllowed:a,safeParamParse:s}},function(t,e,r){function n(){return Array.prototype.concat.apply([],arguments)}function o(t,e){for(var r=0;e[r];r++)if(e[r]===t)return!0;return!1}function i(t,e){var r,n;if(Array.prototype.indexOf)return t.indexOf(e);for(r=0,n=t.length;r<n;r++)if(t[r]===e)return r;return-1}var a=r(14),s=r(5);t.exports={indexOf:i,inArray:o,arrayMerge:n,isDomainAllowed:function(t,e){var r=a("hostname",t),i=[];e&&e.exception&&(s=n([],s,e.exception));for(var c=0;c<s.length;c++)i.push((!!~r.indexOf(s[c])).toString());return!(s.length&&!o("true",i))},forEach:function(t,e,r){var n,o;if(Array.prototype.forEach)return t.forEach(e,r);for(n=0,o=t.length;n<o;n++)e.call(r,t[n],n,t)},trim:function(t){return String.prototype.trim?t.trim():t.replace(/(^\s*)|(\s*$)/g,"")},trimRight:function(t){return String.prototype.trimRight?t.trimRight():t.replace(/(\s*$)/g,"")},extend:function(t){t=t||{};for(var e=1;e<arguments.length;e++)if(arguments[e])for(var r in arguments[e])arguments[e].hasOwnProperty(r)&&(t[r]=arguments[e][r]);return t},getExtensionFileName:function(t){var e=/(\\+)/g,r=t.replace(e,"#"),n=r.split("#"),o=n[n.length-1],i=o.split(".");return i[i.length-1]},parseUrl:a}},function(t,e,r){function n(t){return void 0===t||null===t}function o(t){var e={};for(var r in t)e[r]=t[r];return e}function i(t){t=o(t||{}),t.whiteList=c.extend(t.whiteList||a.whiteList,t.exception),t.onAttr=t.onAttr||a.onAttr,t.onIgnoreAttr=t.onIgnoreAttr||a.onIgnoreAttr,t.safeAttrValue=t.safeAttrValue||a.safeAttrValue,this.options=t}var a=r(6),s=r(7),c=r(1);i.prototype.process=function(t){if(t=t||"",t=t.toString(),!t)return"";var e=this,r=e.options,o=r.whiteList,i=r.onAttr,a=r.onIgnoreAttr,c=r.safeAttrValue,l=s(t,function(t,e,r,s,l){var u=o[r],g=!1;if(u===!0?g=u:"function"==typeof u?g=u(s):u instanceof RegExp&&(g=u.test(s)),g!==!0&&(g=!1),s=c(r,s)){var f,m={position:e,sourcePosition:t,source:l,isWhite:g};return g?(f=i(r,s,m),n(f)?(~s.indexOf("!")&&~s.indexOf("important")&&(s=s.replace(/!/,"").replace(/important/,"").trim()),r+":"+s):f):(f=a(r,s,m),n(f)?void 0:f)}});return l},t.exports={FilterCSS:i,getDefaultWhiteList:a.getDefaultWhiteList}},,,function(t,e){var r=[".mogujie.com",".xiaodian.com",".meilishuo.com",".mogucdn.com",".meili-inc.com",".mogujie.org",".mogutestcdn.com",".uniny.com",".taoshij.com",".snobten.com",".mogujie.cn",".juangua.com",".qq.com",".myqcloud.com",".emarbox.com",".baidu.com",".googleadservices.com",".google-analytics.com",".googletagmanager.com",".google.com",".letv.com",".lecloud.com",".letvcloud.com",".gtimg.cn",".idqqimg.com","127.0.0.1","localhost"];t.exports=r},function(t,e){function r(){var t={};return t["align-content"]=!1,t["align-items"]=!1,t["align-self"]=!1,t["alignment-adjust"]=!1,t["alignment-baseline"]=!1,t.all=!1,t["anchor-point"]=!1,t.animation=!1,t["animation-delay"]=!1,t["animation-direction"]=!1,t["animation-duration"]=!1,t["animation-fill-mode"]=!1,t["animation-iteration-count"]=!1,t["animation-name"]=!1,t["animation-play-state"]=!1,t["animation-timing-function"]=!1,t.azimuth=!1,t["backface-visibility"]=!1,t.background=!0,t["background-attachment"]=!0,t["background-clip"]=!0,t["background-color"]=!0,t["background-image"]=!0,t["background-origin"]=!0,t["background-position"]=!0,t["background-repeat"]=!0,t["background-size"]=!0,t["baseline-shift"]=!1,t.binding=!1,t.bleed=!1,t["bookmark-label"]=!1,t["bookmark-level"]=!1,t["bookmark-state"]=!1,t.border=!0,t["border-bottom"]=!0,t["border-bottom-color"]=!0,t["border-bottom-left-radius"]=!0,t["border-bottom-right-radius"]=!0,t["border-bottom-style"]=!0,t["border-bottom-width"]=!0,t["border-collapse"]=!0,t["border-color"]=!0,t["border-image"]=!0,t["border-image-outset"]=!0,t["border-image-repeat"]=!0,t["border-image-slice"]=!0,t["border-image-source"]=!0,t["border-image-width"]=!0,t["border-left"]=!0,t["border-left-color"]=!0,t["border-left-style"]=!0,t["border-left-width"]=!0,t["border-radius"]=!0,t["border-right"]=!0,t["border-right-color"]=!0,t["border-right-style"]=!0,t["border-right-width"]=!0,t["border-spacing"]=!0,t["border-style"]=!0,t["border-top"]=!0,t["border-top-color"]=!0,t["border-top-left-radius"]=!0,t["border-top-right-radius"]=!0,t["border-top-style"]=!0,t["border-top-width"]=!0,t["border-width"]=!0,t.bottom=!1,t["box-align"]=!1,t["box-decoration-break"]=!1,t["box-direction"]=!1,t["box-flex"]=!1,t["box-flex-group"]=!1,t["box-lines"]=!1,t["box-ordinal-group"]=!0,t["box-orient"]=!1,t["box-pack"]=!0,t["box-shadow"]=!0,t["box-sizing"]=!0,t["box-snap"]=!0,t["box-suppress"]=!0,t["break-after"]=!0,t["break-before"]=!0,t["break-inside"]=!0,t["caption-side"]=!1,t.chains=!1,t.clear=!0,t.clip=!1,t["clip-path"]=!1,t["clip-rule"]=!1,t.color=!0,t["color-interpolation-filters"]=!0,t["column-count"]=!1,t["column-fill"]=!1,t["column-gap"]=!1,t["column-rule"]=!1,t["column-rule-color"]=!1,t["column-rule-style"]=!1,t["column-rule-width"]=!1,t["column-span"]=!1,t["column-width"]=!1,t.columns=!1,t.contain=!1,t.content=!1,t["counter-increment"]=!1,t["counter-reset"]=!1,t["counter-set"]=!1,t.crop=!1,t.cue=!1,t["cue-after"]=!1,t["cue-before"]=!1,t.cursor=!1,t.direction=!1,t.display=!0,t["display-inside"]=!0,t["display-list"]=!0,t["display-outside"]=!0,t["dominant-baseline"]=!1,t.elevation=!1,t["empty-cells"]=!1,t.filter=!1,t.flex=!1,t["flex-basis"]=!1,t["flex-direction"]=!1,t["flex-flow"]=!1,t["flex-grow"]=!1,t["flex-shrink"]=!1,t["flex-wrap"]=!1,t.float=!1,t["float-offset"]=!1,t["flood-color"]=!1,t["flood-opacity"]=!1,t["flow-from"]=!1,t["flow-into"]=!1,t.font=!0,t["font-family"]=!0,t["font-feature-settings"]=!0,t["font-kerning"]=!0,t["font-language-override"]=!0,t["font-size"]=!0,t["font-size-adjust"]=!0,t["font-stretch"]=!0,t["font-style"]=!0,t["font-synthesis"]=!0,t["font-variant"]=!0,t["font-variant-alternates"]=!0,t["font-variant-caps"]=!0,t["font-variant-east-asian"]=!0,t["font-variant-ligatures"]=!0,t["font-variant-numeric"]=!0,t["font-variant-position"]=!0,t["font-weight"]=!0,t.grid=!1,t["grid-area"]=!1,t["grid-auto-columns"]=!1,t["grid-auto-flow"]=!1,t["grid-auto-rows"]=!1,t["grid-column"]=!1,t["grid-column-end"]=!1,t["grid-column-start"]=!1,t["grid-row"]=!1,t["grid-row-end"]=!1,t["grid-row-start"]=!1,t["grid-template"]=!1,t["grid-template-areas"]=!1,t["grid-template-columns"]=!1,t["grid-template-rows"]=!1,t["hanging-punctuation"]=!1,t.height=!0,t.hyphens=!1,t.icon=!1,t["image-orientation"]=!1,t["image-resolution"]=!1,t["ime-mode"]=!1,t["initial-letters"]=!1,t["inline-box-align"]=!1,t["justify-content"]=!1,t["justify-items"]=!1,t["justify-self"]=!1,t.left=!1,t["letter-spacing"]=!0,t["lighting-color"]=!0,t["line-box-contain"]=!1,t["line-break"]=!1,t["line-grid"]=!1,t["line-height"]=!1,t["line-snap"]=!1,t["line-stacking"]=!1,t["line-stacking-ruby"]=!1,t["line-stacking-shift"]=!1,t["line-stacking-strategy"]=!1,t["list-style"]=!0,t["list-style-image"]=!0,t["list-style-position"]=!0,t["list-style-type"]=!0,t.margin=!0,t["margin-bottom"]=!0,t["margin-left"]=!0,t["margin-right"]=!0,t["margin-top"]=!0,t["marker-offset"]=!1,t["marker-side"]=!1,t.marks=!1,t.mask=!1,t["mask-box"]=!1,t["mask-box-outset"]=!1,t["mask-box-repeat"]=!1,t["mask-box-slice"]=!1,t["mask-box-source"]=!1,t["mask-box-width"]=!1,t["mask-clip"]=!1,t["mask-image"]=!1,t["mask-origin"]=!1,t["mask-position"]=!1,t["mask-repeat"]=!1,t["mask-size"]=!1,t["mask-source-type"]=!1,t["mask-type"]=!1,t["max-height"]=!0,t["max-lines"]=!1,t["max-width"]=!0,t["min-height"]=!0,t["min-width"]=!0,t.monochrome=!1,t["move-to"]=!1,t["nav-down"]=!1,t["nav-index"]=!1,t["nav-left"]=!1,t["nav-right"]=!1,t["nav-up"]=!1,t["object-fit"]=!1,t["object-position"]=!1,t.opacity=!1,t.order=!1,t.orphans=!1,t.outline=!1,t["outline-color"]=!1,t["outline-offset"]=!1,t["outline-style"]=!1,t["outline-width"]=!1,t.overflow=!1,t["overflow-wrap"]=!1,t["overflow-x"]=!1,t["overflow-y"]=!1,t.padding=!0,t["padding-bottom"]=!0,t["padding-left"]=!0,t["padding-right"]=!0,t["padding-top"]=!0,t.page=!1,t["page-break-after"]=!1,t["page-break-before"]=!1,t["page-break-inside"]=!1,t["page-policy"]=!1,t.pause=!1,t["pause-after"]=!1,t["pause-before"]=!1,t.perspective=!1,t["perspective-origin"]=!1,t.pitch=!1,t["pitch-range"]=!1,t["play-during"]=!1,t.position=!1,t["presentation-level"]=!1,t.quotes=!1,t["region-fragment"]=!1,t.resize=!1,t.rest=!1,t["rest-after"]=!1,t["rest-before"]=!1,t.richness=!1,t.right=!1,t.rotation=!1,t["rotation-point"]=!1,t["ruby-align"]=!1,t["ruby-merge"]=!1,t["ruby-position"]=!1,t.scan=!1,t["shape-image-threshold"]=!1,t["shape-outside"]=!1,t["shape-margin"]=!1,t.size=!1,t.speak=!1,t["speak-as"]=!1,t["speak-header"]=!1,t["speak-numeral"]=!1,t["speak-punctuation"]=!1,t["speech-rate"]=!1,t.stress=!1,t["string-set"]=!1,t["tab-size"]=!1,t["table-layout"]=!1,t["text-align"]=!0,t["text-align-last"]=!0,t["text-combine-upright"]=!0,t["text-decoration"]=!0,t["text-decoration-color"]=!0,t["text-decoration-line"]=!0,t["text-decoration-skip"]=!0,t["text-decoration-style"]=!0,t["text-emphasis"]=!0,t["text-emphasis-color"]=!0,t["text-emphasis-position"]=!0,t["text-emphasis-style"]=!0,t["text-height"]=!0,t["text-indent"]=!0,t["text-justify"]=!0,t["text-orientation"]=!0,t["text-overflow"]=!0,t["text-shadow"]=!0,t["text-space-collapse"]=!0,t["text-transform"]=!0,t["text-underline-position"]=!0,t["text-wrap"]=!0,t.top=!1,t.transform=!1,t["transform-origin"]=!1,t["transform-style"]=!1,t.transition=!1,t["transition-delay"]=!1,t["transition-duration"]=!1,t["transition-property"]=!1,t["transition-timing-function"]=!1,t["unicode-bidi"]=!1,t["vertical-align"]=!1,t.visibility=!1,t["voice-balance"]=!1,t["voice-duration"]=!1,t["voice-family"]=!1,t["voice-pitch"]=!1,t["voice-range"]=!1,t["voice-rate"]=!1,t["voice-stress"]=!1,t["voice-volume"]=!1,t.volume=!1,t["white-space"]=!1,t.widows=!1,t.width=!0,t["will-change"]=!1,t["word-break"]=!0,t["word-spacing"]=!0,t["word-wrap"]=!0,t["wrap-flow"]=!1,t["wrap-through"]=!1,t["writing-mode"]=!1,t["z-index"]=!1,t.zoom=!0,t}function n(t,e,r){}function o(t,e,r){}function i(t,e){return a.test(e)?"":s.test(e)?"":e}var a=/javascript\s*\:/gim,s=/expression/gim;e.whiteList=r(),e.getDefaultWhiteList=r,e.onAttr=n,e.onIgnoreAttr=o,e.safeAttrValue=i},function(t,e,r){function n(t,e){function r(){if(!i){var r=o.trim(t.slice(a,s)),n=r.indexOf(":");if(n!==-1){var l=o.trim(r.slice(0,n)),u=o.trim(r.slice(n+1));if(l){var g=e(a,c.length,l,u,r);g&&(c+=g+"; ")}}}a=s+1}t=o.trimRight(t),";"!==t[t.length-1]&&(t+=";");for(var n=t.length,i=!1,a=0,s=0,c="";s<n;s++){var l=t[s];if("/"===l&&"*"===t[s+1]){var u=t.indexOf("*/",s+2);if(u===-1)break;s=u+1,a=s+1,i=!1}else"("===l?i=!0:")"===l?i=!1:";"===l?i||r():"\n"===l&&r()}return o.trim(c)}var o=r(1);t.exports=n},function(t,e,r){var n=window.FTX||{},o=r(1);n.isDomainAllowed=o.isDomainAllowed,window.FTX=n,t.exports=o.isDomainAllowed},function(t,e,r){function n(){return{a:["target","href","title"],abbr:["title"],address:[],area:["shape","coords","href","alt"],article:[],aside:[],audio:["autoplay","controls","loop","preload","src"],b:[],body:[],bdi:["dir"],bdo:["dir"],big:[],blockquote:["cite"],br:[],button:[],caption:[],center:[],cite:[],code:[],col:["align","valign","span","width"],colgroup:["align","valign","span","width"],dd:[],del:["datetime"],details:["open"],div:[],dl:[],dt:[],em:[],font:["color","size","face"],footer:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],head:[],header:[],hr:[],html:["lang"],i:[],img:["src","alt","title","width","height"],ins:["datetime"],li:[],link:["rel","href","type"],mark:[],meta:["name","content","charset"],nav:[],ol:[],p:[],pre:[],s:[],section:[],small:[],span:[],sub:[],sup:[],strong:[],table:["width","border","align","valign"],tbody:["align","valign"],td:["width","rowspan","colspan","align","valign"],tfoot:["align","valign"],th:["width","rowspan","colspan","align","valign"],thead:["align","valign"],title:[],tr:["rowspan","align","valign"],tt:[],u:[],ul:[],video:["autoplay","controls","loop","preload","src","height","width"]}}function o(t,e,r){}function i(t,e,r){}function a(t,e,r){}function s(t,e,r){}function c(t){return t.replace(I,"&lt;").replace(j,"&gt;")}function l(t,e,r,n){if(r=d(r),"href"===e||"src"===e){if(r=A.trim(r),"#"===r)return"#";if(!A.isDomainAllowed(r))return"";if("http://"!==r.substr(0,7)&&"https://"!==r.substr(0,8)&&"mailto:"!==r.substr(0,7)&&"#"!==r[0]&&"/"!==r[0])return"";if("img"===t&&"src"===e){var o=A.getExtensionFileName(r);if(!~["jpg","jpeg","png","gif","webp"].indexOf(o))return""}}else if("background"===e){if(q.lastIndex=0,q.test(r))return""}else if("style"===e){if(O.lastIndex=0,O.test(r))return"";if(D.lastIndex=0,D.test(r)&&(q.lastIndex=0,q.test(r)))return"";n!==!1&&(n=n||T,r=n.process(r))}return r=h(r)}function u(t){return t.replace(S,"&quot;")}function g(t){return t.replace(z,'"')}function f(t){return t.replace(C,function(t,e){return"x"===e[0]||"X"===e[0]?String.fromCharCode(parseInt(e.substr(1),16)):String.fromCharCode(parseInt(e,10))})}function m(t){return t.replace(F,":").replace(L," ")}function p(t){for(var e="",r=0,n=t.length;r<n;r++)e+=t.charCodeAt(r)<32?" ":t.charAt(r);return A.trim(e)}function d(t){return t=g(t),t=f(t),t=m(t),t=p(t)}function h(t){return t=u(t),t=c(t)}function b(){return""}function v(t,e){function r(e){return!!n||A.indexOf(t,e)!==-1}"function"!=typeof e&&(e=function(){});var n=!Array.isArray(t),o=[],i=!1;return{onIgnoreTag:function(t,n,a){if(r(t)){if(a.isClosing){var s="[/removed]",c=a.position+s.length;return o.push([i!==!1?i:a.position,c]),i=!1,s}return i||(i=a.position),"[removed]"}return e(t,n,a)},remove:function(t){var e="",r=0;return A.forEach(o,function(n){e+=t.slice(r,n[0]),r=n[1]}),e+=t.slice(r)}}}function x(t){return t.replace(V,"")}function w(t){var e=t.split("");return e=e.filter(function(t){var e=t.charCodeAt(0);return 127!==e&&(!(e<=31)||(10===e||13===e))}),e.join("")}var y=r(2).FilterCSS,k=r(2).getDefaultWhiteList,A=r(1),T=new y,I=/</g,j=/>/g,S=/"/g,z=/&quot;/g,C=/&#([a-zA-Z0-9]*);?/gim,F=/&colon;?/gim,L=/&newline;?/gim,q=/((j\s*a\s*v\s*a|v\s*b|l\s*i\s*v\s*e)\s*s\s*c\s*r\s*i\s*p\s*t\s*|m\s*o\s*c\s*h\s*a)\:/gi,O=/e\s*x\s*p\s*r\s*e\s*s\s*s\s*i\s*o\s*n\s*\(.*/gi,D=/u\s*r\s*l\s*\(.*/gi,V=/<!--[\s\S]*?-->/g;e.whiteList=n(),e.getDefaultWhiteList=n,e.onTag=o,e.onIgnoreTag=i,e.onTagAttr=a,e.onIgnoreTagAttr=s,e.safeAttrValue=l,e.escapeHtml=c,e.escapeQuote=u,e.unescapeQuote=g,e.escapeHtmlEntities=f,e.escapeDangerHtml5Entities=m,e.clearNonPrintableCharacter=p,e.friendlyAttrValue=d,e.escapeAttrValue=h,e.onIgnoreTagStripAll=b,e.StripTagBody=v,e.stripCommentTag=x,e.stripBlankChar=w,e.cssFilter=T,e.getDefaultCSSWhiteList=k},function(t,e,r){function n(t,e){var r=new o(e);return r.process(t)}var o=r(12);t.exports=n},function(t,e,r){function n(t){var e,r=t.indexOf(" ");return e=r===-1?t.slice(1,-1):t.slice(1,r+1),e=g.trim(e).toLowerCase(),"/"===e.slice(0,1)&&(e=e.slice(1)),"/"===e.slice(-1)&&(e=e.slice(0,-1)),e}function o(t){return"</"===t.slice(0,2)}function i(t,e,r){var i="",a=0,s=!1,c=!1,l=0,u=t.length,g="",f="";for(l=0;l<u;l++){var m=t.charAt(l);if(s===!1){if("<"===m){s=l;continue}}else if(c===!1){if("<"===m){i+=r(t.slice(a,l)),s=l,a=l;continue}if(">"===m){i+=r(t.slice(a,s)),g=t.slice(s,l+1),f=n(g),i+=e(s,i.length,f,g,o(g)),a=l+1,s=!1;continue}if(('"'===m||"'"===m)&&"="===t.charAt(l-1)){c=m;continue}}else if(m===c){c=!1;continue}}return a<t.length&&(i+=r(t.substr(a))),i}function a(t,e){function r(t,r){if(t=g.trim(t),t=t.replace(f,"").toLowerCase(),!(t.length<1)){var n=e(t,r||"");n&&o.push(n)}}for(var n=0,o=[],i=!1,a=t.length,l=0;l<a;l++){var m,p,d=t.charAt(l);if(i!==!1||"="!==d)if(i===!1||l!==n||'"'!==d&&"'"!==d||"="!==t.charAt(l-1))if(" "!==d);else{if(i===!1){if(p=s(t,l),p===-1){m=g.trim(t.slice(n,l)),r(m),i=!1,n=l+1;continue}l=p-1;continue}if(p=c(t,l-1),p===-1){m=g.trim(t.slice(n,l)),m=u(m),r(i,m),i=!1,n=l+1;continue}}else{if(p=t.indexOf(d,l+1),p===-1)break;m=g.trim(t.slice(n+1,p)),r(i,m),i=!1,l=p,n=l+1}else i=t.slice(n,l),n=l+1}return n<t.length&&(i===!1?r(t.slice(n)):r(i,u(g.trim(t.slice(n))))),g.trim(o.join(" "))}function s(t,e){for(;e<t.length;e++){var r=t[e];if(" "!==r)return"="===r?e:-1}}function c(t,e){for(;e>0;e--){var r=t[e];if(" "!==r)return"="===r?e:-1}}function l(t){return'"'===t[0]&&'"'===t[t.length-1]||"'"===t[0]&&"'"===t[t.length-1]}function u(t){return l(t)?t.substr(1,t.length-2):t}var g=r(1),f=/[^a-zA-Z0-9_:\.\-]/gim;e.parseTag=i,e.parseAttr=a},function(t,e,r){function n(t){return void 0===t||null===t}function o(t){var e=t.indexOf(" ");if(e===-1)return{html:"",closing:"/"===t[t.length-2]};t=f.trim(t.slice(e+1,-1));var r="/"===t[t.length-1];return r&&(t=f.trim(t.slice(0,-1))),{html:t,closing:r}}function i(t){var e={};for(var r in t)e[r]=t[r];return e}function a(t){t=i(t||{}),t.stripIgnoreTag&&(t.onIgnoreTag&&console.error('Notes: cannot use these two options "stripIgnoreTag" and "onIgnoreTag" at the same time'),t.onIgnoreTag=c.onIgnoreTagStripAll),t.whiteList=f.extend(t.whiteList||c.whiteList,t.exception),t.onTag=t.onTag||c.onTag,t.onTagAttr=t.onTagAttr||c.onTagAttr,t.onIgnoreTag=t.onIgnoreTag||c.onIgnoreTag,t.onIgnoreTagAttr=t.onIgnoreTagAttr||c.onIgnoreTagAttr,t.safeAttrValue=t.safeAttrValue||c.safeAttrValue,t.escapeHtml=t.escapeHtml||c.escapeHtml,this.options=t,t.inlineStyleFilter===!1?this.cssFilter=!1:"boolean"==typeof t.inlineStyleFilter&&t.inlineStyleFilter?this.cssFilter=new s:(t.cssFilter=t.inlineStyleFilter||null,this.cssFilter=new s(t.cssFilter))}var s=r(2).FilterCSS,c=r(9),l=r(11),u=l.parseTag,g=l.parseAttr,f=r(1);a.prototype.process=function(t){if(t=t||"",t=t.toString(),!t)return"";var e=this,r=e.options,i=r.whiteList,a=r.onTag,s=r.onIgnoreTag,l=r.onTagAttr,m=r.onIgnoreTagAttr,p=r.safeAttrValue,d=r.escapeHtml,h=e.cssFilter;r.stripBlankChar&&(t=c.stripBlankChar(t)),r.allowCommentTag||(t=c.stripCommentTag(t));var b=!1;if(r.stripIgnoreTagBody){var b=c.StripTagBody(r.stripIgnoreTagBody,s);s=b.onIgnoreTag}var v=u(t,function(t,e,r,c,u){var b={sourcePosition:t,position:e,isClosing:u,isWhite:r in i},v=a(r,c,b);if(!n(v))return v;if(b.isWhite){if(b.isClosing)return"</"+r+">";var x=o(c),w=i[r];w.push("id","class","style");var y=g(x.html,function(t,e){var o=f.indexOf(w,t)!==-1,i=l(r,t,e,o);if(!n(i))return i;if(o)return e=p(r,t,e,h),e?t+'="'+e+'"':t;var i=m(r,t,e,o);return n(i)?void 0:i}),c="<"+r;return y&&(c+=" "+y),x.closing&&(c+=" /"),c+=">"}var v=s(r,c,b);return n(v)?d(c):v},d);return b&&(v=b.remove(v)),v},t.exports=a},function(t,e){function r(t){return t.replace(/^\s+|\s+$/gm,"")}function n(t){return"string"==typeof t&&t?(t=r(t),/^[\],:{}\s]*$/.test(t.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/(?:'|")[^'"\\\n\r]*('|")|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,":").replace(/\w*\s*\:/g,":"))?new Function("return "+t)():{}):{}}function o(t){t=r(t.replace(/\(|\]\.|\+|\)|\\|new\s/g,"@"));try{return n(t)}catch(t){}}t.exports=o},function(t,e){function r(){return new RegExp(/(.*?)\.?([^\.]*?)\.?(com|net|org|biz|ws|in|me|co\.uk|co|org\.uk|ltd\.uk|plc\.uk|me\.uk|edu|mil|br\.com|cn\.com|eu\.com|hu\.com|no\.com|qc\.com|sa\.com|se\.com|se\.net|us\.com|uy\.com|ac|co\.ac|gv\.ac|or\.ac|ac\.ac|af|am|as|at|ac\.at|co\.at|gv\.at|or\.at|asn\.au|com\.au|edu\.au|org\.au|net\.au|id\.au|be|ac\.be|adm\.br|adv\.br|am\.br|arq\.br|art\.br|bio\.br|cng\.br|cnt\.br|com\.br|ecn\.br|eng\.br|esp\.br|etc\.br|eti\.br|fm\.br|fot\.br|fst\.br|g12\.br|gov\.br|ind\.br|inf\.br|jor\.br|lel\.br|med\.br|mil\.br|net\.br|nom\.br|ntr\.br|odo\.br|org\.br|ppg\.br|pro\.br|psc\.br|psi\.br|rec\.br|slg\.br|tmp\.br|tur\.br|tv\.br|vet\.br|zlg\.br|br|ab\.ca|bc\.ca|mb\.ca|nb\.ca|nf\.ca|ns\.ca|nt\.ca|on\.ca|pe\.ca|qc\.ca|sk\.ca|yk\.ca|ca|cc|ac\.cn|com\.cn|edu\.cn|gov\.cn|org\.cn|bj\.cn|sh\.cn|tj\.cn|cq\.cn|he\.cn|nm\.cn|ln\.cn|jl\.cn|hl\.cn|js\.cn|zj\.cn|ah\.cn|gd\.cn|gx\.cn|hi\.cn|sc\.cn|gz\.cn|yn\.cn|xz\.cn|sn\.cn|gs\.cn|qh\.cn|nx\.cn|xj\.cn|tw\.cn|hk\.cn|mo\.cn|cn|cx|cz|de|dk|fo|com\.ec|tm\.fr|com\.fr|asso\.fr|presse\.fr|fr|gf|gs|co\.il|net\.il|ac\.il|k12\.il|gov\.il|muni\.il|ac\.in|co\.in|org\.in|ernet\.in|gov\.in|net\.in|res\.in|is|it|ac\.jp|co\.jp|go\.jp|or\.jp|ne\.jp|ac\.kr|co\.kr|go\.kr|ne\.kr|nm\.kr|or\.kr|li|lt|lu|asso\.mc|tm\.mc|com\.mm|org\.mm|net\.mm|edu\.mm|gov\.mm|ms|nl|no|nu|pl|ro|org\.ro|store\.ro|tm\.ro|firm\.ro|www\.ro|arts\.ro|rec\.ro|info\.ro|nom\.ro|nt\.ro|se|si|com\.sg|org\.sg|net\.sg|gov\.sg|sk|st|tf|ac\.th|co\.th|go\.th|mi\.th|net\.th|or\.th|tm|to|com\.tr|edu\.tr|gov\.tr|k12\.tr|net\.tr|org\.tr|com\.tw|org\.tw|net\.tw|ac\.uk|uk\.com|uk\.net|gb\.com|gb\.net|vg|sh|kz|ch|info|ua|gov|name|pro|ie|hk|com\.hk|org\.hk|net\.hk|edu\.hk|us|tk|cd|by|ad|lv|eu\.lv|bz|es|jp|cl|ag|mobi|eu|co\.nz|org\.nz|net\.nz|maori\.nz|iwi\.nz|io|la|md|sc|sg|vc|tw|travel|my|se|tv|pt|com\.pt|edu\.pt|asia|fi|com\.ve|net\.ve|fi|org\.ve|web\.ve|info\.ve|co\.ve|tel|im|gr|ru|net\.ru|org\.ru|hr|com\.hr|ly|xyz)$/)}function n(t){return decodeURIComponent(t.replace(/\+/g," "))}function o(t,e){var r=t.charAt(0),n=e.split(r);return r===t?n:(t=parseInt(t.substring(1),10),n[t<0?n.length+t:t-1])}function i(t,e){for(var r=t.charAt(0),o=e.split("&"),i=[],a={},s=[],c=t.substring(1),l=0,u=o.length;l<u;l++)if(i=o[l].match(/(.*?)=(.*)/),i||(i=[o[l],o[l],""]),""!==i[1].replace(/\s/g,"")){if(i[2]=n(i[2]||""),c===i[1])return i[2];s=i[1].match(/(.*)\[([0-9]+)\]/),s?(a[s[1]]=a[s[1]]||[],a[s[1]][s[2]]=i[2]):a[i[1]]=i[2]}return r===t?a:a[c]}function a(t,e){var n,a={};if("tld?"===t)return r();if(e=e||window.location.toString(),!t)return e;if(t=t.toString(),n=e.match(/^mailto:([^\/].+)/))a.protocol="mailto",a.email=n[1];else{if((n=e.match(/(.*?)\/#\!(.*)/))&&(e=n[1]+n[2]),(n=e.match(/(.*?)#(.*)/))&&(a.hash=n[2],e=n[1]),a.hash&&t.match(/^#/))return i(t,a.hash);if((n=e.match(/(.*?)\?(.*)/))&&(a.query=n[2],e=n[1]),a.query&&t.match(/^\?/))return i(t,a.query);if((n=e.match(/(.*?)\:?\/\/(.*)/))&&(a.protocol=n[1].toLowerCase(),e=n[2]),(n=e.match(/(.*?)(\/.*)/))&&(a.path=n[2],e=n[1]),a.path=(a.path||"").replace(/^([^\/])/,"/$1"),t.match(/^[\-0-9]+$/)&&(t=t.replace(/^([^\/])/,"/$1")),t.match(/^\//))return o(t,a.path.substring(1));if(n=o("/-1",a.path.substring(1)),n&&(n=n.match(/(.*?)\.(.*)/))&&(a.file=n[0],a.filename=n[1],a.fileext=n[2]),(n=e.match(/(.*)\:([0-9]+)$/))&&(a.port=n[2],e=n[1]),(n=e.match(/(.*?)@(.*)/))&&(a.auth=n[1],e=n[2]),a.auth&&(n=a.auth.match(/(.*)\:(.*)/),a.user=n?n[1]:a.auth,a.pass=n?n[2]:void 0),a.hostname=e.toLowerCase(),"."===t.charAt(0))return o(t,a.hostname);r()&&(n=a.hostname.match(r()),n&&(a.tld=n[3],a.domain=n[2]?n[2]+"."+n[3]:void 0,a.sub=n[1]||void 0)),a.port=a.port||("https"===a.protocol?"443":"80"),a.protocol=a.protocol||("443"===a.port?"https":"http")}return t in a?a[t]:"{}"===t?a:void 0}t.exports=a}]);window.MOGU=window.MOGU||{},function(t,n){var e={};e.Util={mask:function(){var n=t(".light_box_fullbg");n.length<=0&&(n=t(['<div class="light_box_fullbg"></div>'].join("")),t("body").append(n))},show:function(n,e){var l,i,o,a=t("#vp_wrap"),c=t(".light_box_fullbg").eq(0);a.length<=0&&(a=t(['<div class="vp_wrap" id="vp_wrap">','<h5 class="vp_t"></h5>','<a href="javascript:;" class="vp_cls">×</a>','<div class="v_pop_box"></div>',"</div>"].join("")),t("body").append(a),c.off("click").on("click",function(){clearTimeout(o),a.addClass("vp_shake"),o=setTimeout(function(){a.removeClass("vp_shake")},500)})),e.isShowCloser?a.find(".vp_cls").show():a.find(".vp_cls").hide(),a.find(".vp_t").html(e.title),i={alert:function(n){return l=t(".vp_alert"),l.length<=0?l=t(['<div class="vp_alert vp_inner">','<p class="vp_cnt"></p>','<a href="javascript:;" class="vp_btn vp_btn_'+n.btn.theme+' vp_ok">'+n.btn.text+"</a>","</div>"].join("")):l.find(".vp_btn").removeClass("vp_btn_red").removeClass("vp_btn_normal").addClass("vp_btn_"+n.btn.theme).html(n.btn.text),l.show().find(".vp_cnt").html(n.content),l},confirm:function(n){if(l=t(".vp_cfm"),l.length<=0)l=t(['<div class="vp_cfm vp_inner">','<p class="vp_cnt"></p>','<a href="javascript:;" class="vp_btn vp_btn_'+n.btn1.theme+' vp_ok">'+n.btn1.text+"</a>",'<a href="javascript:;" class="vp_btn vp_btn_'+n.btn2.theme+' vp_cancel">'+n.btn2.text+"</a>","</div>"].join(""));else{var e=l.find(".vp_btn");e.removeClass("vp_btn_red").removeClass("vp_btn_normal"),e.eq(0).addClass("vp_btn_"+n.btn1.theme).html(n.btn1.text),e.eq(1).addClass("vp_btn_"+n.btn2.theme).html(n.btn2.text)}return l.show().find(".vp_cnt").html(n.content),l}},a.find(".v_pop_box").append(i[n](e)),a.css({display:"block",opacity:0}).css({"margin-left":-a.width()/2-1,"margin-top":-a.height()/2-1,opacity:1}),c.show()},close:function(n,e){t(".light_box_fullbg").eq(0).hide(),t("#vp_wrap").find(".vp_inner").hide().end().hide(),void 0!==e&&"function"==typeof e&&e(n)}},t.alert=function(n,l,i){var o=t.extend(!0,{title:"提示",content:n,btn:{text:"确定",theme:"red",val:void 0},isShowCloser:!0,close_val:void 0},i),a=function(){t("#vp_wrap").off("click").on("click",".vp_ok",function(t){t.preventDefault(),e.Util.close(o.btn.val,l)}).on("click",".vp_cls",function(t){t.preventDefault(),e.Util.close(o.close_val,l)})};!function(){e.Util.mask(),e.Util.show("alert",o),a()}()},t.confirm=function(n,l,i){var o=t.extend(!0,{title:"提示",content:n,btn1:{text:"确定",theme:"red",val:!0},btn2:{text:"取消",theme:"normal",val:!1},isShowCloser:!0,close_val:!1},i),a=function(){t("#vp_wrap").off("click").on("click",".vp_ok",function(t){t.preventDefault(),e.Util.close(o.btn1.val,l)}).on("click",".vp_cancel",function(t){t.preventDefault(),e.Util.close(o.btn2.val,l)}).on("click",".vp_cls",function(t){t.preventDefault(),e.Util.close(o.close_val,l)})};!function(){e.Util.mask(),e.Util.show("confirm",o),a()}()},n.MOGU.alert=t.alert,n.MOGU.confirm=t.confirm}(jQuery,window);