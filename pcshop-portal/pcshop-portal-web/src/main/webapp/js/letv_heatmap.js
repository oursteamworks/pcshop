(function(){function l(){var a={screen:window.screen?window.screen.width+"x"+window.screen.height:"",url:location.href,device_uuid:r.getDeviceid(),window_size:r.getWindowSize()},e=-1!=navigator.appName.indexOf("Microsoft"),b,c,g=!1,n;l.prototype.start=function(d){l.reportUrl=("https:"==document.location.protocol?" https://":" http://")+r.domain[d]+"/jssdk_heatmap";v(document,"mousedown",z)};l.prototype.sendClick=function(d,a){h(d,a)};l.prototype.setCustomerParam=function(d){c=d};l.prototype.setClickCb=
    function(d){n=d};var h=function(d,a,m,u,c){"undefined"!=typeof n&&n(d,a);"undefined"==typeof b&&(v(window,"undefined"!=typeof window.onbeforeunload?"beforeunload":"unload",A),b=[],"undefined"!==typeof p.hidden&&p.visibilityChange(x));b.push("x="+d+"&y="+a+"&"+m+"="+u+"&type="+c);g||(g=!0,setTimeout(k,3E3))},z=function(d){var a,m,b=document.getElementById("refer-point");m=b&&null!==b?a=0:a=-1;if(b&&null!==b&&"undefined"!=typeof b.offsetLeft)for(;b;)a+=0<=b.offsetLeft?b.offsetLeft:0,m+=0<=b.offsetTop?
    b.offsetTop:0,b=b.offsetParent;var c=b=0;d||(d=window.event);if(d.pageX||d.pageY)b=d.pageX,c=d.pageY;else if(d.clientX||d.clientY)if(b=d.clientX,c=d.clientY,e)if(0<document.body.scrollLeft||0<document.body.scrollTop)b+=document.body.scrollLeft,c+=document.body.scrollTop;else if(0<document.documentElement.scrollLeft||0<document.documentElement.scrollTop)b+=document.documentElement.scrollLeft,c+=document.documentElement.scrollTop;(0<=m||0<=a)&&b>a&&c>m&&(b-=a,c-=m);a=d.target||d.srcElement;var y=m=
    "-";a.id?(m="id",y=a.id):a.name?(m="name",y=a.name):a["class"]&&(m="class",y=a["class"]);h(b,c,m,y,d.type)},A=function(){console.log("unload fire");w()},x=function(){!1===p.hidden&&w()},k=function(){g=!1;w()},v=function(a,b,c){if(a.addEventListener)"webkitvisibilitychange"==b&&(a.removeEventListener?a.removeEventListener(b,c,!1):a.detachEvent&&a.detachEvent("on"+b,c)),a.addEventListener(b,c,!1);else if(a.attachEvent){if("beforeunload"==b||"webkitvisibilitychange"==b)a.removeEventListener?a.removeEventListener(b,
        c,!1):a.detachEvent&&a.detachEvent("on"+b,c);a.attachEvent("on"+b,c)}},w=function(){if("undefined"!=typeof b&&0<b.length){var d;a.points=b;"undefined"!==typeof c&&(a.cusParam=c);d=JSON.stringify(a);r.send(l.reportUrl,r.encode(d));b=[]}},p=function(){var a,b=function(a,b){return""!==a?a+b.slice(0,1).toUpperCase()+b.slice(1):b},c=function(){var c=!1;["webkit","moz","ms","o",""].forEach(function(d){0==c&&void 0!=document[b(d,"hidden")]&&(a=d,c=!0)});return c}(),e=function(){if(c)return document[b(a,
    "hidden")]},q=function(){if(c)return document[b(a,"visibilityState")]};return{hidden:e(),visibilityState:q(),visibilityChange:function(b,d){c&&"function"===typeof b&&v(document,a+"visibilitychange",function(a){this.hidden=e();this.visibilityState=q();b.call(this,a)}.bind(this))}}}(void 0)}"object"!==typeof JSON&&(JSON={});(function(){function a(a){return 10>a?"0"+a:a}function e(){return this.valueOf()}function b(a){l.lastIndex=0;return l.test(a)?'"'+a.replace(l,function(a){var b=w[a];return"string"===
    typeof b?b:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+a+'"'}function c(a,e){var d,u,q,g,h=k,t,f=e[a];f&&"object"===typeof f&&"function"===typeof f.toJSON&&(f=f.toJSON(a));"function"===typeof p&&(f=p.call(e,a,f));switch(typeof f){case "string":return b(f);case "number":return isFinite(f)?String(f):"null";case "boolean":case "null":return String(f);case "object":if(!f)return"null";k+=v;t=[];if("[object Array]"===Object.prototype.toString.apply(f)){g=f.length;for(d=0;d<g;d+=1)t[d]=
    c(d,f)||"null";q=0===t.length?"[]":k?"[\n"+k+t.join(",\n"+k)+"\n"+h+"]":"["+t.join(",")+"]";k=h;return q}if(p&&"object"===typeof p)for(g=p.length,d=0;d<g;d+=1)"string"===typeof p[d]&&(u=p[d],(q=c(u,f))&&t.push(b(u)+(k?": ":":")+q));else for(u in f)Object.prototype.hasOwnProperty.call(f,u)&&(q=c(u,f))&&t.push(b(u)+(k?": ":":")+q);q=0===t.length?"{}":k?"{\n"+k+t.join(",\n"+k)+"\n"+h+"}":"{"+t.join(",")+"}";k=h;return q}}var g=/^[\],:{}\s]*$/,n=/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,h=/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,
    r=/(?:^|:|,)(?:\s*\[)+/g,l=/[\\\"\u0000-\u001f\u007f-\u009f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,x=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g;"function"!==typeof Date.prototype.toJSON&&(Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+a(this.getUTCMonth()+1)+"-"+a(this.getUTCDate())+"T"+a(this.getUTCHours())+":"+a(this.getUTCMinutes())+
    ":"+a(this.getUTCSeconds())+"Z":null},Boolean.prototype.toJSON=e,Number.prototype.toJSON=e,String.prototype.toJSON=e);var k,v,w,p;"function"!==typeof JSON.stringify&&(w={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},JSON.stringify=function(a,b,e){var d;v=k="";if("number"===typeof e)for(d=0;d<e;d+=1)v+=" ";else"string"===typeof e&&(v=e);if((p=b)&&"function"!==typeof b&&("object"!==typeof b||"number"!==typeof b.length))throw Error("JSON.stringify");return c("",{"":a})});
    "function"!==typeof JSON.parse&&(JSON.parse=function(a,b){function c(a,d){var e,g,f=a[d];if(f&&"object"===typeof f)for(e in f)Object.prototype.hasOwnProperty.call(f,e)&&(g=c(f,e),void 0!==g?f[e]=g:delete f[e]);return b.call(a,d,f)}var d;a=String(a);x.lastIndex=0;x.test(a)&&(a=a.replace(x,function(a){return"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)}));if(g.test(a.replace(n,"@").replace(h,"]").replace(r,"")))return d=eval("("+a+")"),"function"===typeof b?c({"":d},""):d;throw new SyntaxError("JSON.parse");
    })})();var r={send:function(a,e,b){2036>=e.length?this.sendByImage(a,e,b):8192>=e.length&&(this.sendByBeacon(a,e,b)||sendByRequest(a,e,b)||sendByImage(a,e,b))},sendByImage:function(a,e,b){var c=document.createElement("img");c.width=1;c.height=1;c.src=a+"?"+e;c.onload=c.onerror=function(){c.onload=null;c.onerror=null;"function"==typeof b&&b()}},sendByRequest:function(a,e,b){var c,g=window.XDomainRequest;if(g)c=new g,c.open("POST",a);else if(g=window.XMLHttpRequest)g=new g,"withCredentials"in g&&(c=
    g,c.open("POST",a,!0),c.setRequestHeader("Content-Type","text/plain"));return c?(c.onreadystatechange=function(){4==c.readyState&&(b&&b(),c=null)},c.send(e),!0):!1},sendByBeacon:function(a,e,b){return window.navigator.sendBeacon?window.navigator.sendBeacon(a,e)?(b(),!0):!1:!1},Encode:function(a,e){var b=encodeURIComponent;return b instanceof Function?e?encodeURI(a):b(a):escape(a)},genUid32:function(){for(var a="",e=32;e--;)a+=Math.floor(16*Math.random()).toString(16);return a},getWindowSize:function(){var a=
    window.innerWidth,e=window.innerHeight;"number"!=typeof a&&("CSS1Compat"==document.compatMode?(a=document.documentElement.clientWidth,e=document.documentElement.clientHeight):(a=document.body.clientWidth,e=document.body.clientHeight));return a+"x"+e},cookie:{get:function(a){a+="=";for(var e=document.cookie.split(";"),b=0;b<e.length;b++){for(var c=e[b];" "==c.charAt(0);)c=c.substring(1,c.length);if(0==c.indexOf(a))return decodeURIComponent(c.substring(a.length,c.length))}return""},set:function(a,e,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      b,c,g){var n="",h="",l="";b="undefined"===typeof b?730:b;if("undefined"===typeof c?0:c)n=(n=(n=document.location.hostname.match(/[a-z0-9][a-z0-9\-]+\.[a-z\.]{2,6}$/i))?n[0]:"")?"; domain=."+n:"";0!==b&&(h=new Date,"s"===String(b).slice(-1)?h.setTime(h.getTime()+1E3*Number(String(b).slice(0,-1))):h.setTime(h.getTime()+864E5*b),h="; expires="+h.toGMTString());g&&(l="; secure");document.cookie=a+"="+encodeURIComponent(e)+h+"; path=/"+n+l}},domain:{cn:"cherry.le.com"},getDeviceid:function(){var a=r.cookie.get("tj2_lc");
    a||(a=r.genUid32(),r.cookie.set("tj2_lc",a,3650,!0));return a},encode:function(a,e){var b=encodeURIComponent;return b instanceof Function?e?encodeURI(a):b(a):escape(a)}};window.LetvTracker=new l;"undefined"!==typeof le_hottrack_param&&window.LetvTracker.setCustomerParam(le_hottrack_param);"undefined"!==typeof le_hottrack_cb&&window.LetvTracker.setClickCb(le_hottrack_cb)})();